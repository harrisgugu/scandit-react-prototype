var ra=Object.create;var ti=Object.defineProperty;var aa=Object.getOwnPropertyDescriptor;var na=Object.getOwnPropertyNames;var oa=Object.getPrototypeOf,sa=Object.prototype.hasOwnProperty;var la=(s,e,t)=>e in s?ti(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var ii=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var da=(s,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of na(e))!sa.call(s,n)&&n!==t&&ti(s,n,{get:()=>e[n],enumerable:!(r=aa(e,n))||r.enumerable});return s};var ri=(s,e,t)=>(t=s!=null?ra(oa(s)):{},da(e||!s||!s.__esModule?ti(t,"default",{value:s,enumerable:!0}):t,s));var l=(s,e,t)=>(la(s,typeof e!="symbol"?e+"":e,t),t);var Vi=ii((Ui,ji)=>{(function(s){var e;if(typeof define=="function"&&define.amd&&(define(s),e=!0),typeof Ui=="object"&&(ji.exports=s(),e=!0),!e){var t=window.Cookies,r=window.Cookies=s();r.noConflict=function(){return window.Cookies=t,r}}})(function(){function s(){for(var r=0,n={};r<arguments.length;r++){var c=arguments[r];for(var m in c)n[m]=c[m]}return n}function e(r){return r.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function t(r){function n(){}function c(p,f,b){if(!(typeof document>"u")){b=s({path:"/"},n.defaults,b),typeof b.expires=="number"&&(b.expires=new Date(new Date*1+b.expires*864e5)),b.expires=b.expires?b.expires.toUTCString():"";try{var i=JSON.stringify(f);/^[\{\[]/.test(i)&&(f=i)}catch(d){}f=r.write?r.write(f,p):encodeURIComponent(String(f)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),p=encodeURIComponent(String(p)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var o in b)!b[o]||(a+="; "+o,b[o]!==!0&&(a+="="+b[o].split(";")[0]));return document.cookie=p+"="+f+a}}function m(p,f){if(!(typeof document>"u")){for(var b={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var o=i[a].split("="),d=o.slice(1).join("=");!f&&d.charAt(0)==='"'&&(d=d.slice(1,-1));try{var u=e(o[0]);if(d=(r.read||r)(d,u)||e(d),f)try{d=JSON.parse(d)}catch(v){}if(b[u]=d,p===u)break}catch(v){}}return p?b[p]:b}}return n.set=c,n.get=function(p){return m(p,!1)},n.getJSON=function(p){return m(p,!0)},n.remove=function(p,f){c(p,"",s(f,{expires:-1}))},n.defaults={},n.withConverter=t,n}return t(function(){})})});var Bi=ii(($e,ft)=>{(function(s,e){"use strict";var t="1.0.34",r="",n="?",c="function",m="undefined",p="object",f="string",b="major",i="model",a="name",o="type",d="vendor",u="version",v="architecture",g="console",C="mobile",S="tablet",T="smarttv",w="wearable",D="embedded",E=350,z="Amazon",O="Apple",$="ASUS",te="BlackBerry",re="Browser",ae="Chrome",le="Edge",ve="Firefox",Ne="Google",mt="Huawei",Te="LG",pt="Microsoft",ht="Motorola",Re="Opera",Je="Samsung",Zt="Sharp",Y="Sony",A="Viera",_="Xiaomi",M="Zebra",N="Facebook",x="Chromium OS",I="Mac OS",q=function(P,j){var k={};for(var H in P)j[H]&&j[H].length%2===0?k[H]=j[H].concat(P[H]):k[H]=P[H];return k},Q=function(P){for(var j={},k=0;k<P.length;k++)j[P[k].toUpperCase()]=P[k];return j},pe=function(P,j){return typeof P===f?Ge(j).indexOf(Ge(P))!==-1:!1},Ge=function(P){return P.toLowerCase()},ta=function(P){return typeof P===f?P.replace(/[^\d\.]/g,r).split(".")[0]:e},Kt=function(P,j){if(typeof P===f)return P=P.replace(/^\s\s*/,r),typeof j===m?P:P.substring(0,E)},Ye=function(P,j){for(var k=0,H,be,de,L,qe,ce;k<j.length&&!qe;){var ei=j[k],Wi=j[k+1];for(H=be=0;H<ei.length&&!qe&&ei[H];)if(qe=ei[H++].exec(P),qe)for(de=0;de<Wi.length;de++)ce=qe[++be],L=Wi[de],typeof L===p&&L.length>0?L.length===2?typeof L[1]==c?this[L[0]]=L[1].call(this,ce):this[L[0]]=L[1]:L.length===3?typeof L[1]===c&&!(L[1].exec&&L[1].test)?this[L[0]]=ce?L[1].call(this,ce,L[2]):e:this[L[0]]=ce?ce.replace(L[1],L[2]):e:L.length===4&&(this[L[0]]=ce?L[3].call(this,ce.replace(L[1],L[2])):e):this[L]=ce||e;k+=2}},Xt=function(P,j){for(var k in j)if(typeof j[k]===p&&j[k].length>0){for(var H=0;H<j[k].length;H++)if(pe(j[k][H],P))return k===n?e:k}else if(pe(j[k],P))return k===n?e:k;return P},ia={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Fi={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},zi={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[u,[a,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[u,[a,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[a,u],[/opios[\/ ]+([\w\.]+)/i],[u,[a,Re+" Mini"]],[/\bopr\/([\w\.]+)/i],[u,[a,Re]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[a,u],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[u,[a,"UC"+re]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[u,[a,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[u,[a,"WeChat"]],[/konqueror\/([\w\.]+)/i],[u,[a,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[u,[a,"IE"]],[/yabrowser\/([\w\.]+)/i],[u,[a,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[a,/(.+)/,"$1 Secure "+re],u],[/\bfocus\/([\w\.]+)/i],[u,[a,ve+" Focus"]],[/\bopt\/([\w\.]+)/i],[u,[a,Re+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[u,[a,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[u,[a,"Dolphin"]],[/coast\/([\w\.]+)/i],[u,[a,Re+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[u,[a,"MIUI "+re]],[/fxios\/([-\w\.]+)/i],[u,[a,ve]],[/\bqihu|(qi?ho?o?|360)browser/i],[[a,"360 "+re]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[a,/(.+)/,"$1 "+re],u],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],u],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[a,u],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[a],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[a,N],u],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[a,u],[/\bgsa\/([\w\.]+) .*safari\//i],[u,[a,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[u,[a,ae+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[a,ae+" WebView"],u],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[u,[a,"Android "+re]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[a,u],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[u,[a,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[u,a],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[a,[u,Xt,ia]],[/(webkit|khtml)\/([\w\.]+)/i],[a,u],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[a,"Netscape"],u],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[u,[a,ve+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[a,u],[/(cobalt)\/([\w\.]+)/i],[a,[u,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,Ge]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,r,Ge]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,Ge]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[i,[d,Je],[o,S]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[i,[d,Je],[o,C]],[/\((ip(?:hone|od)[\w ]*);/i],[i,[d,O],[o,C]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[i,[d,O],[o,S]],[/(macintosh);/i],[i,[d,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[i,[d,Zt],[o,C]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[i,[d,mt],[o,S]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[i,[d,mt],[o,C]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[i,/_/g," "],[d,_],[o,C]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[i,/_/g," "],[d,_],[o,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[i,[d,"OPPO"],[o,C]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[i,[d,"Vivo"],[o,C]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[i,[d,"Realme"],[o,C]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[i,[d,ht],[o,C]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[i,[d,ht],[o,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[i,[d,Te],[o,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[i,[d,Te],[o,C]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[i,[d,"Lenovo"],[o,S]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[i,/_/g," "],[d,"Nokia"],[o,C]],[/(pixel c)\b/i],[i,[d,Ne],[o,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[i,[d,Ne],[o,C]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[i,[d,Y],[o,C]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[i,"Xperia Tablet"],[d,Y],[o,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[i,[d,"OnePlus"],[o,C]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[i,[d,z],[o,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[i,/(.+)/g,"Fire Phone $1"],[d,z],[o,C]],[/(playbook);[-\w\),; ]+(rim)/i],[i,d,[o,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[i,[d,te],[o,C]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[i,[d,$],[o,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[i,[d,$],[o,C]],[/(nexus 9)/i],[i,[d,"HTC"],[o,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[i,/_/g," "],[o,C]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[i,[d,"Acer"],[o,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[i,[d,"Meizu"],[o,C]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,i,[o,C]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,i,[o,S]],[/(surface duo)/i],[i,[d,pt],[o,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[i,[d,"Fairphone"],[o,C]],[/(u304aa)/i],[i,[d,"AT&T"],[o,C]],[/\bsie-(\w*)/i],[i,[d,"Siemens"],[o,C]],[/\b(rct\w+) b/i],[i,[d,"RCA"],[o,S]],[/\b(venue[\d ]{2,7}) b/i],[i,[d,"Dell"],[o,S]],[/\b(q(?:mv|ta)\w+) b/i],[i,[d,"Verizon"],[o,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[i,[d,"Barnes & Noble"],[o,S]],[/\b(tm\d{3}\w+) b/i],[i,[d,"NuVision"],[o,S]],[/\b(k88) b/i],[i,[d,"ZTE"],[o,S]],[/\b(nx\d{3}j) b/i],[i,[d,"ZTE"],[o,C]],[/\b(gen\d{3}) b.+49h/i],[i,[d,"Swiss"],[o,C]],[/\b(zur\d{3}) b/i],[i,[d,"Swiss"],[o,S]],[/\b((zeki)?tb.*\b) b/i],[i,[d,"Zeki"],[o,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],i,[o,S]],[/\b(ns-?\w{0,9}) b/i],[i,[d,"Insignia"],[o,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[i,[d,"NextBook"],[o,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],i,[o,C]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],i,[o,C]],[/\b(ph-1) /i],[i,[d,"Essential"],[o,C]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[i,[d,"Envizen"],[o,S]],[/\b(trio[-\w\. ]+) b/i],[i,[d,"MachSpeed"],[o,S]],[/\btu_(1491) b/i],[i,[d,"Rotor"],[o,S]],[/(shield[\w ]+) b/i],[i,[d,"Nvidia"],[o,S]],[/(sprint) (\w+)/i],[d,i,[o,C]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[d,pt],[o,C]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[i,[d,M],[o,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[i,[d,M],[o,C]],[/smart-tv.+(samsung)/i],[d,[o,T]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[d,Je],[o,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,Te],[o,T]],[/(apple) ?tv/i],[d,[i,O+" TV"],[o,T]],[/crkey/i],[[i,ae+"cast"],[d,Ne],[o,T]],[/droid.+aft(\w)( bui|\))/i],[i,[d,z],[o,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[i,[d,Zt],[o,T]],[/(bravia[\w ]+)( bui|\))/i],[i,[d,Y],[o,T]],[/(mitv-\w{5}) bui/i],[i,[d,_],[o,T]],[/Hbbtv.*(technisat) (.*);/i],[d,i,[o,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[d,Kt],[i,Kt],[o,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[o,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,i,[o,g]],[/droid.+; (shield) bui/i],[i,[d,"Nvidia"],[o,g]],[/(playstation [345portablevi]+)/i],[i,[d,Y],[o,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[i,[d,pt],[o,g]],[/((pebble))app/i],[d,i,[o,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[i,[d,O],[o,w]],[/droid.+; (glass) \d/i],[i,[d,Ne],[o,w]],[/droid.+; (wt63?0{2,3})\)/i],[i,[d,M],[o,w]],[/(quest( 2| pro)?)/i],[i,[d,N],[o,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[o,D]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[i,[o,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[i,[o,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[o,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[o,C]],[/(android[-\w\. ]{0,9});.+buil/i],[i,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[u,[a,le+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[u,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[a,u],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[u,a]],os:[[/microsoft (windows) (vista|xp)/i],[a,u],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[a,[u,Xt,Fi]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[a,"Windows"],[u,Xt,Fi]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[u,/_/g,"."],[a,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[a,I],[u,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[u,a],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[a,u],[/\(bb(10);/i],[u,[a,te]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[u,[a,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[u,[a,ve+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[u,[a,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[u,[a,"watchOS"]],[/crkey\/([\d\.]+)/i],[u,[a,ae+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[a,x],u],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[a,u],[/(sunos) ?([\w\.\d]*)/i],[[a,"Solaris"],u],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[a,u]]},ie=function(P,j){if(typeof P===p&&(j=P,P=e),!(this instanceof ie))return new ie(P,j).getResult();var k=typeof s!==m&&s.navigator?s.navigator:e,H=P||(k&&k.userAgent?k.userAgent:r),be=k&&k.userAgentData?k.userAgentData:e,de=j?q(zi,j):zi;return this.getBrowser=function(){var L={};return L[a]=e,L[u]=e,Ye.call(L,H,de.browser),L[b]=ta(L[u]),k&&k.brave&&typeof k.brave.isBrave==c&&(L[a]="Brave"),L},this.getCPU=function(){var L={};return L[v]=e,Ye.call(L,H,de.cpu),L},this.getDevice=function(){var L={};return L[d]=e,L[i]=e,L[o]=e,Ye.call(L,H,de.device),!L[o]&&be&&be.mobile&&(L[o]=C),L[i]=="Macintosh"&&k&&typeof k.standalone!==m&&k.maxTouchPoints&&k.maxTouchPoints>2&&(L[i]="iPad",L[o]=S),L},this.getEngine=function(){var L={};return L[a]=e,L[u]=e,Ye.call(L,H,de.engine),L},this.getOS=function(){var L={};return L[a]=e,L[u]=e,Ye.call(L,H,de.os),!L[a]&&be&&be.platform!="Unknown"&&(L[a]=be.platform.replace(/chrome os/i,x).replace(/macos/i,I)),L},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return H},this.setUA=function(L){return H=typeof L===f&&L.length>E?Kt(L,E):L,this},this.setUA(H),this};ie.VERSION=t,ie.BROWSER=Q([a,u,b]),ie.CPU=Q([v]),ie.DEVICE=Q([i,d,o,g,C,T,S,w,D]),ie.ENGINE=ie.OS=Q([a,u]),typeof $e!==m?(typeof ft!==m&&ft.exports&&($e=ft.exports=ie),$e.UAParser=ie):typeof define===c&&define.amd?define(function(){return ie}):typeof s!==m&&(s.UAParser=ie);var ke=typeof s!==m&&(s.jQuery||s.Zepto);if(ke&&!ke.ua){var gt=new ie;ke.ua=gt.getResult(),ke.ua.get=function(){return gt.getUA()},ke.ua.set=function(P){gt.setUA(P);var j=gt.getResult();for(var k in j)ke.ua[k]=j[k]}}})(typeof window=="object"?window:$e)});var Wr=ii(Gt=>{(function(){"use strict";var s=function(){this.init()};s.prototype={init:function(){var i=this||e;return i._counter=1e3,i._html5AudioPool=[],i.html5PoolSize=10,i._codecs={},i._howls=[],i._muted=!1,i._volume=1,i._canPlayEvent="canplaythrough",i._navigator=typeof window<"u"&&window.navigator?window.navigator:null,i.masterGain=null,i.noAudio=!1,i.usingWebAudio=!0,i.autoSuspend=!0,i.ctx=null,i.autoUnlock=!0,i._setup(),i},volume:function(i){var a=this||e;if(i=parseFloat(i),a.ctx||b(),typeof i<"u"&&i>=0&&i<=1){if(a._volume=i,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(i,e.ctx.currentTime);for(var o=0;o<a._howls.length;o++)if(!a._howls[o]._webAudio)for(var d=a._howls[o]._getSoundIds(),u=0;u<d.length;u++){var v=a._howls[o]._soundById(d[u]);v&&v._node&&(v._node.volume=v._volume*i)}return a}return a._volume},mute:function(i){var a=this||e;a.ctx||b(),a._muted=i,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(i?0:a._volume,e.ctx.currentTime);for(var o=0;o<a._howls.length;o++)if(!a._howls[o]._webAudio)for(var d=a._howls[o]._getSoundIds(),u=0;u<d.length;u++){var v=a._howls[o]._soundById(d[u]);v&&v._node&&(v._node.muted=i?!0:v._muted)}return a},stop:function(){for(var i=this||e,a=0;a<i._howls.length;a++)i._howls[a].stop();return i},unload:function(){for(var i=this||e,a=i._howls.length-1;a>=0;a--)i._howls[a].unload();return i.usingWebAudio&&i.ctx&&typeof i.ctx.close<"u"&&(i.ctx.close(),i.ctx=null,b()),i},codecs:function(i){return(this||e)._codecs[i.replace(/^x-/,"")]},_setup:function(){var i=this||e;if(i.state=i.ctx&&i.ctx.state||"suspended",i._autoSuspend(),!i.usingWebAudio)if(typeof Audio<"u")try{var a=new Audio;typeof a.oncanplaythrough>"u"&&(i._canPlayEvent="canplay")}catch(o){i.noAudio=!0}else i.noAudio=!0;try{var a=new Audio;a.muted&&(i.noAudio=!0)}catch(o){}return i.noAudio||i._setupCodecs(),i},_setupCodecs:function(){var i=this||e,a=null;try{a=typeof Audio<"u"?new Audio:null}catch(T){return i}if(!a||typeof a.canPlayType!="function")return i;var o=a.canPlayType("audio/mpeg;").replace(/^no$/,""),d=i._navigator?i._navigator.userAgent:"",u=d.match(/OPR\/([0-6].)/g),v=u&&parseInt(u[0].split("/")[1],10)<33,g=d.indexOf("Safari")!==-1&&d.indexOf("Chrome")===-1,C=d.match(/Version\/(.*?) /),S=g&&C&&parseInt(C[1],10)<15;return i._codecs={mp3:!!(!v&&(o||a.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!o,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!S&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!S&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},i},_unlockAudio:function(){var i=this||e;if(!(i._audioUnlocked||!i.ctx)){i._audioUnlocked=!1,i.autoUnlock=!1,!i._mobileUnloaded&&i.ctx.sampleRate!==44100&&(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var a=function(o){for(;i._html5AudioPool.length<i.html5PoolSize;)try{var d=new Audio;d._unlocked=!0,i._releaseHtml5Audio(d)}catch(T){i.noAudio=!0;break}for(var u=0;u<i._howls.length;u++)if(!i._howls[u]._webAudio)for(var v=i._howls[u]._getSoundIds(),g=0;g<v.length;g++){var C=i._howls[u]._soundById(v[g]);C&&C._node&&!C._node._unlocked&&(C._node._unlocked=!0,C._node.load())}i._autoResume();var S=i.ctx.createBufferSource();S.buffer=i._scratchBuffer,S.connect(i.ctx.destination),typeof S.start>"u"?S.noteOn(0):S.start(0),typeof i.ctx.resume=="function"&&i.ctx.resume(),S.onended=function(){S.disconnect(0),i._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var T=0;T<i._howls.length;T++)i._howls[T]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),i}},_obtainHtml5Audio:function(){var i=this||e;if(i._html5AudioPool.length)return i._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise<"u"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(i){var a=this||e;return i._unlocked&&a._html5AudioPool.push(i),a},_autoSuspend:function(){var i=this;if(!(!i.autoSuspend||!i.ctx||typeof i.ctx.suspend>"u"||!e.usingWebAudio)){for(var a=0;a<i._howls.length;a++)if(i._howls[a]._webAudio){for(var o=0;o<i._howls[a]._sounds.length;o++)if(!i._howls[a]._sounds[o]._paused)return i}return i._suspendTimer&&clearTimeout(i._suspendTimer),i._suspendTimer=setTimeout(function(){if(!!i.autoSuspend){i._suspendTimer=null,i.state="suspending";var d=function(){i.state="suspended",i._resumeAfterSuspend&&(delete i._resumeAfterSuspend,i._autoResume())};i.ctx.suspend().then(d,d)}},3e4),i}},_autoResume:function(){var i=this;if(!(!i.ctx||typeof i.ctx.resume>"u"||!e.usingWebAudio))return i.state==="running"&&i.ctx.state!=="interrupted"&&i._suspendTimer?(clearTimeout(i._suspendTimer),i._suspendTimer=null):i.state==="suspended"||i.state==="running"&&i.ctx.state==="interrupted"?(i.ctx.resume().then(function(){i.state="running";for(var a=0;a<i._howls.length;a++)i._howls[a]._emit("resume")}),i._suspendTimer&&(clearTimeout(i._suspendTimer),i._suspendTimer=null)):i.state==="suspending"&&(i._resumeAfterSuspend=!0),i}};var e=new s,t=function(i){var a=this;if(!i.src||i.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}a.init(i)};t.prototype={init:function(i){var a=this;return e.ctx||b(),a._autoplay=i.autoplay||!1,a._format=typeof i.format!="string"?i.format:[i.format],a._html5=i.html5||!1,a._muted=i.mute||!1,a._loop=i.loop||!1,a._pool=i.pool||5,a._preload=typeof i.preload=="boolean"||i.preload==="metadata"?i.preload:!0,a._rate=i.rate||1,a._sprite=i.sprite||{},a._src=typeof i.src!="string"?i.src:[i.src],a._volume=i.volume!==void 0?i.volume:1,a._xhr={method:i.xhr&&i.xhr.method?i.xhr.method:"GET",headers:i.xhr&&i.xhr.headers?i.xhr.headers:null,withCredentials:i.xhr&&i.xhr.withCredentials?i.xhr.withCredentials:!1},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=i.onend?[{fn:i.onend}]:[],a._onfade=i.onfade?[{fn:i.onfade}]:[],a._onload=i.onload?[{fn:i.onload}]:[],a._onloaderror=i.onloaderror?[{fn:i.onloaderror}]:[],a._onplayerror=i.onplayerror?[{fn:i.onplayerror}]:[],a._onpause=i.onpause?[{fn:i.onpause}]:[],a._onplay=i.onplay?[{fn:i.onplay}]:[],a._onstop=i.onstop?[{fn:i.onstop}]:[],a._onmute=i.onmute?[{fn:i.onmute}]:[],a._onvolume=i.onvolume?[{fn:i.onvolume}]:[],a._onrate=i.onrate?[{fn:i.onrate}]:[],a._onseek=i.onseek?[{fn:i.onseek}]:[],a._onunlock=i.onunlock?[{fn:i.onunlock}]:[],a._onresume=[],a._webAudio=e.usingWebAudio&&!a._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var i=this,a=null;if(e.noAudio){i._emit("loaderror",null,"No audio support.");return}typeof i._src=="string"&&(i._src=[i._src]);for(var o=0;o<i._src.length;o++){var d,u;if(i._format&&i._format[o])d=i._format[o];else{if(u=i._src[o],typeof u!="string"){i._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}d=/^data:audio\/([^;,]+);/i.exec(u),d||(d=/\.([^.]+)$/.exec(u.split("?",1)[0])),d&&(d=d[1].toLowerCase())}if(d||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),d&&e.codecs(d)){a=i._src[o];break}}if(!a){i._emit("loaderror",null,"No codec support for selected audio sources.");return}return i._src=a,i._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(i._html5=!0,i._webAudio=!1),new r(i),i._webAudio&&c(i),i},play:function(i,a){var o=this,d=null;if(typeof i=="number")d=i,i=null;else{if(typeof i=="string"&&o._state==="loaded"&&!o._sprite[i])return null;if(typeof i>"u"&&(i="__default",!o._playLock)){for(var u=0,v=0;v<o._sounds.length;v++)o._sounds[v]._paused&&!o._sounds[v]._ended&&(u++,d=o._sounds[v]._id);u===1?i=null:d=null}}var g=d?o._soundById(d):o._inactiveSound();if(!g)return null;if(d&&!i&&(i=g._sprite||"__default"),o._state!=="loaded"){g._sprite=i,g._ended=!1;var C=g._id;return o._queue.push({event:"play",action:function(){o.play(C)}}),C}if(d&&!g._paused)return a||o._loadQueue("play"),g._id;o._webAudio&&e._autoResume();var S=Math.max(0,g._seek>0?g._seek:o._sprite[i][0]/1e3),T=Math.max(0,(o._sprite[i][0]+o._sprite[i][1])/1e3-S),w=T*1e3/Math.abs(g._rate),D=o._sprite[i][0]/1e3,E=(o._sprite[i][0]+o._sprite[i][1])/1e3;g._sprite=i,g._ended=!1;var z=function(){g._paused=!1,g._seek=S,g._start=D,g._stop=E,g._loop=!!(g._loop||o._sprite[i][2])};if(S>=E){o._ended(g);return}var O=g._node;if(o._webAudio){var $=function(){o._playLock=!1,z(),o._refreshBuffer(g);var le=g._muted||o._muted?0:g._volume;O.gain.setValueAtTime(le,e.ctx.currentTime),g._playStart=e.ctx.currentTime,typeof O.bufferSource.start>"u"?g._loop?O.bufferSource.noteGrainOn(0,S,86400):O.bufferSource.noteGrainOn(0,S,T):g._loop?O.bufferSource.start(0,S,86400):O.bufferSource.start(0,S,T),w!==1/0&&(o._endTimers[g._id]=setTimeout(o._ended.bind(o,g),w)),a||setTimeout(function(){o._emit("play",g._id),o._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?$():(o._playLock=!0,o.once("resume",$),o._clearTimer(g._id))}else{var te=function(){O.currentTime=S,O.muted=g._muted||o._muted||e._muted||O.muted,O.volume=g._volume*e.volume(),O.playbackRate=g._rate;try{var le=O.play();if(le&&typeof Promise<"u"&&(le instanceof Promise||typeof le.then=="function")?(o._playLock=!0,z(),le.then(function(){o._playLock=!1,O._unlocked=!0,a?o._loadQueue():o._emit("play",g._id)}).catch(function(){o._playLock=!1,o._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),g._ended=!0,g._paused=!0})):a||(o._playLock=!1,z(),o._emit("play",g._id)),O.playbackRate=g._rate,O.paused){o._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}i!=="__default"||g._loop?o._endTimers[g._id]=setTimeout(o._ended.bind(o,g),w):(o._endTimers[g._id]=function(){o._ended(g),O.removeEventListener("ended",o._endTimers[g._id],!1)},O.addEventListener("ended",o._endTimers[g._id],!1))}catch(ve){o._emit("playerror",g._id,ve)}};O.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(O.src=o._src,O.load());var re=window&&window.ejecta||!O.readyState&&e._navigator.isCocoonJS;if(O.readyState>=3||re)te();else{o._playLock=!0,o._state="loading";var ae=function(){o._state="loaded",te(),O.removeEventListener(e._canPlayEvent,ae,!1)};O.addEventListener(e._canPlayEvent,ae,!1),o._clearTimer(g._id)}}return g._id},pause:function(i){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(i)}}),a;for(var o=a._getSoundIds(i),d=0;d<o.length;d++){a._clearTimer(o[d]);var u=a._soundById(o[d]);if(u&&!u._paused&&(u._seek=a.seek(o[d]),u._rateSeek=0,u._paused=!0,a._stopFade(o[d]),u._node))if(a._webAudio){if(!u._node.bufferSource)continue;typeof u._node.bufferSource.stop>"u"?u._node.bufferSource.noteOff(0):u._node.bufferSource.stop(0),a._cleanBuffer(u._node)}else(!isNaN(u._node.duration)||u._node.duration===1/0)&&u._node.pause();arguments[1]||a._emit("pause",u?u._id:null)}return a},stop:function(i,a){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"stop",action:function(){o.stop(i)}}),o;for(var d=o._getSoundIds(i),u=0;u<d.length;u++){o._clearTimer(d[u]);var v=o._soundById(d[u]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,o._stopFade(d[u]),v._node&&(o._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),o._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&o._clearSound(v._node))),a||o._emit("stop",v._id))}return o},mute:function(i,a){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"mute",action:function(){o.mute(i,a)}}),o;if(typeof a>"u")if(typeof i=="boolean")o._muted=i;else return o._muted;for(var d=o._getSoundIds(a),u=0;u<d.length;u++){var v=o._soundById(d[u]);v&&(v._muted=i,v._interval&&o._stopFade(v._id),o._webAudio&&v._node?v._node.gain.setValueAtTime(i?0:v._volume,e.ctx.currentTime):v._node&&(v._node.muted=e._muted?!0:i),o._emit("mute",v._id))}return o},volume:function(){var i=this,a=arguments,o,d;if(a.length===0)return i._volume;if(a.length===1||a.length===2&&typeof a[1]>"u"){var u=i._getSoundIds(),v=u.indexOf(a[0]);v>=0?d=parseInt(a[0],10):o=parseFloat(a[0])}else a.length>=2&&(o=parseFloat(a[0]),d=parseInt(a[1],10));var g;if(typeof o<"u"&&o>=0&&o<=1){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,a)}}),i;typeof d>"u"&&(i._volume=o),d=i._getSoundIds(d);for(var C=0;C<d.length;C++)g=i._soundById(d[C]),g&&(g._volume=o,a[2]||i._stopFade(d[C]),i._webAudio&&g._node&&!g._muted?g._node.gain.setValueAtTime(o,e.ctx.currentTime):g._node&&!g._muted&&(g._node.volume=o*e.volume()),i._emit("volume",g._id))}else return g=d?i._soundById(d):i._sounds[0],g?g._volume:0;return i},fade:function(i,a,o,d){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"fade",action:function(){u.fade(i,a,o,d)}}),u;i=Math.min(Math.max(0,parseFloat(i)),1),a=Math.min(Math.max(0,parseFloat(a)),1),o=parseFloat(o),u.volume(i,d);for(var v=u._getSoundIds(d),g=0;g<v.length;g++){var C=u._soundById(v[g]);if(C){if(d||u._stopFade(v[g]),u._webAudio&&!C._muted){var S=e.ctx.currentTime,T=S+o/1e3;C._volume=i,C._node.gain.setValueAtTime(i,S),C._node.gain.linearRampToValueAtTime(a,T)}u._startFadeInterval(C,i,a,o,v[g],typeof d>"u")}}return u},_startFadeInterval:function(i,a,o,d,u,v){var g=this,C=a,S=o-a,T=Math.abs(S/.01),w=Math.max(4,T>0?d/T:d),D=Date.now();i._fadeTo=o,i._interval=setInterval(function(){var E=(Date.now()-D)/d;D=Date.now(),C+=S*E,C=Math.round(C*100)/100,S<0?C=Math.max(o,C):C=Math.min(o,C),g._webAudio?i._volume=C:g.volume(C,i._id,!0),v&&(g._volume=C),(o<a&&C<=o||o>a&&C>=o)&&(clearInterval(i._interval),i._interval=null,i._fadeTo=null,g.volume(o,i._id),g._emit("fade",i._id))},w)},_stopFade:function(i){var a=this,o=a._soundById(i);return o&&o._interval&&(a._webAudio&&o._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(o._interval),o._interval=null,a.volume(o._fadeTo,i),o._fadeTo=null,a._emit("fade",i)),a},loop:function(){var i=this,a=arguments,o,d,u;if(a.length===0)return i._loop;if(a.length===1)if(typeof a[0]=="boolean")o=a[0],i._loop=o;else return u=i._soundById(parseInt(a[0],10)),u?u._loop:!1;else a.length===2&&(o=a[0],d=parseInt(a[1],10));for(var v=i._getSoundIds(d),g=0;g<v.length;g++)u=i._soundById(v[g]),u&&(u._loop=o,i._webAudio&&u._node&&u._node.bufferSource&&(u._node.bufferSource.loop=o,o&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop,i.playing(v[g])&&(i.pause(v[g],!0),i.play(v[g],!0)))));return i},rate:function(){var i=this,a=arguments,o,d;if(a.length===0)d=i._sounds[0]._id;else if(a.length===1){var u=i._getSoundIds(),v=u.indexOf(a[0]);v>=0?d=parseInt(a[0],10):o=parseFloat(a[0])}else a.length===2&&(o=parseFloat(a[0]),d=parseInt(a[1],10));var g;if(typeof o=="number"){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,a)}}),i;typeof d>"u"&&(i._rate=o),d=i._getSoundIds(d);for(var C=0;C<d.length;C++)if(g=i._soundById(d[C]),g){i.playing(d[C])&&(g._rateSeek=i.seek(d[C]),g._playStart=i._webAudio?e.ctx.currentTime:g._playStart),g._rate=o,i._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.setValueAtTime(o,e.ctx.currentTime):g._node&&(g._node.playbackRate=o);var S=i.seek(d[C]),T=(i._sprite[g._sprite][0]+i._sprite[g._sprite][1])/1e3-S,w=T*1e3/Math.abs(g._rate);(i._endTimers[d[C]]||!g._paused)&&(i._clearTimer(d[C]),i._endTimers[d[C]]=setTimeout(i._ended.bind(i,g),w)),i._emit("rate",g._id)}}else return g=i._soundById(d),g?g._rate:i._rate;return i},seek:function(){var i=this,a=arguments,o,d;if(a.length===0)i._sounds.length&&(d=i._sounds[0]._id);else if(a.length===1){var u=i._getSoundIds(),v=u.indexOf(a[0]);v>=0?d=parseInt(a[0],10):i._sounds.length&&(d=i._sounds[0]._id,o=parseFloat(a[0]))}else a.length===2&&(o=parseFloat(a[0]),d=parseInt(a[1],10));if(typeof d>"u")return 0;if(typeof o=="number"&&(i._state!=="loaded"||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,a)}}),i;var g=i._soundById(d);if(g)if(typeof o=="number"&&o>=0){var C=i.playing(d);C&&i.pause(d,!0),g._seek=o,g._ended=!1,i._clearTimer(d),!i._webAudio&&g._node&&!isNaN(g._node.duration)&&(g._node.currentTime=o);var S=function(){C&&i.play(d,!0),i._emit("seek",d)};if(C&&!i._webAudio){var T=function(){i._playLock?setTimeout(T,0):S()};setTimeout(T,0)}else S()}else if(i._webAudio){var w=i.playing(d)?e.ctx.currentTime-g._playStart:0,D=g._rateSeek?g._rateSeek-g._seek:0;return g._seek+(D+w*Math.abs(g._rate))}else return g._node.currentTime;return i},playing:function(i){var a=this;if(typeof i=="number"){var o=a._soundById(i);return o?!o._paused:!1}for(var d=0;d<a._sounds.length;d++)if(!a._sounds[d]._paused)return!0;return!1},duration:function(i){var a=this,o=a._duration,d=a._soundById(i);return d&&(o=a._sprite[d._sprite][1]/1e3),o},state:function(){return this._state},unload:function(){for(var i=this,a=i._sounds,o=0;o<a.length;o++)a[o]._paused||i.stop(a[o]._id),i._webAudio||(i._clearSound(a[o]._node),a[o]._node.removeEventListener("error",a[o]._errorFn,!1),a[o]._node.removeEventListener(e._canPlayEvent,a[o]._loadFn,!1),a[o]._node.removeEventListener("ended",a[o]._endFn,!1),e._releaseHtml5Audio(a[o]._node)),delete a[o]._node,i._clearTimer(a[o]._id);var d=e._howls.indexOf(i);d>=0&&e._howls.splice(d,1);var u=!0;for(o=0;o<e._howls.length;o++)if(e._howls[o]._src===i._src||i._src.indexOf(e._howls[o]._src)>=0){u=!1;break}return n&&u&&delete n[i._src],e.noAudio=!1,i._state="unloaded",i._sounds=[],i=null,null},on:function(i,a,o,d){var u=this,v=u["_on"+i];return typeof a=="function"&&v.push(d?{id:o,fn:a,once:d}:{id:o,fn:a}),u},off:function(i,a,o){var d=this,u=d["_on"+i],v=0;if(typeof a=="number"&&(o=a,a=null),a||o)for(v=0;v<u.length;v++){var g=o===u[v].id;if(a===u[v].fn&&g||!a&&g){u.splice(v,1);break}}else if(i)d["_on"+i]=[];else{var C=Object.keys(d);for(v=0;v<C.length;v++)C[v].indexOf("_on")===0&&Array.isArray(d[C[v]])&&(d[C[v]]=[])}return d},once:function(i,a,o){var d=this;return d.on(i,a,o,1),d},_emit:function(i,a,o){for(var d=this,u=d["_on"+i],v=u.length-1;v>=0;v--)(!u[v].id||u[v].id===a||i==="load")&&(setTimeout(function(g){g.call(this,a,o)}.bind(d,u[v].fn),0),u[v].once&&d.off(i,u[v].fn,u[v].id));return d._loadQueue(i),d},_loadQueue:function(i){var a=this;if(a._queue.length>0){var o=a._queue[0];o.event===i&&(a._queue.shift(),a._loadQueue()),i||o.action()}return a},_ended:function(i){var a=this,o=i._sprite;if(!a._webAudio&&i._node&&!i._node.paused&&!i._node.ended&&i._node.currentTime<i._stop)return setTimeout(a._ended.bind(a,i),100),a;var d=!!(i._loop||a._sprite[o][2]);if(a._emit("end",i._id),!a._webAudio&&d&&a.stop(i._id,!0).play(i._id),a._webAudio&&d){a._emit("play",i._id),i._seek=i._start||0,i._rateSeek=0,i._playStart=e.ctx.currentTime;var u=(i._stop-i._start)*1e3/Math.abs(i._rate);a._endTimers[i._id]=setTimeout(a._ended.bind(a,i),u)}return a._webAudio&&!d&&(i._paused=!0,i._ended=!0,i._seek=i._start||0,i._rateSeek=0,a._clearTimer(i._id),a._cleanBuffer(i._node),e._autoSuspend()),!a._webAudio&&!d&&a.stop(i._id,!0),a},_clearTimer:function(i){var a=this;if(a._endTimers[i]){if(typeof a._endTimers[i]!="function")clearTimeout(a._endTimers[i]);else{var o=a._soundById(i);o&&o._node&&o._node.removeEventListener("ended",a._endTimers[i],!1)}delete a._endTimers[i]}return a},_soundById:function(i){for(var a=this,o=0;o<a._sounds.length;o++)if(i===a._sounds[o]._id)return a._sounds[o];return null},_inactiveSound:function(){var i=this;i._drain();for(var a=0;a<i._sounds.length;a++)if(i._sounds[a]._ended)return i._sounds[a].reset();return new r(i)},_drain:function(){var i=this,a=i._pool,o=0,d=0;if(!(i._sounds.length<a)){for(d=0;d<i._sounds.length;d++)i._sounds[d]._ended&&o++;for(d=i._sounds.length-1;d>=0;d--){if(o<=a)return;i._sounds[d]._ended&&(i._webAudio&&i._sounds[d]._node&&i._sounds[d]._node.disconnect(0),i._sounds.splice(d,1),o--)}}},_getSoundIds:function(i){var a=this;if(typeof i>"u"){for(var o=[],d=0;d<a._sounds.length;d++)o.push(a._sounds[d]._id);return o}else return[i]},_refreshBuffer:function(i){var a=this;return i._node.bufferSource=e.ctx.createBufferSource(),i._node.bufferSource.buffer=n[a._src],i._panner?i._node.bufferSource.connect(i._panner):i._node.bufferSource.connect(i._node),i._node.bufferSource.loop=i._loop,i._loop&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop||0),i._node.bufferSource.playbackRate.setValueAtTime(i._rate,e.ctx.currentTime),a},_cleanBuffer:function(i){var a=this,o=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(e._scratchBuffer&&i.bufferSource&&(i.bufferSource.onended=null,i.bufferSource.disconnect(0),o))try{i.bufferSource.buffer=e._scratchBuffer}catch(d){}return i.bufferSource=null,a},_clearSound:function(i){var a=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);a||(i.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(i){this._parent=i,this.init()};r.prototype={init:function(){var i=this,a=i._parent;return i._muted=a._muted,i._loop=a._loop,i._volume=a._volume,i._rate=a._rate,i._seek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++e._counter,a._sounds.push(i),i.create(),i},create:function(){var i=this,a=i._parent,o=e._muted||i._muted||i._parent._muted?0:i._volume;return a._webAudio?(i._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),i._node.gain.setValueAtTime(o,e.ctx.currentTime),i._node.paused=!0,i._node.connect(e.masterGain)):e.noAudio||(i._node=e._obtainHtml5Audio(),i._errorFn=i._errorListener.bind(i),i._node.addEventListener("error",i._errorFn,!1),i._loadFn=i._loadListener.bind(i),i._node.addEventListener(e._canPlayEvent,i._loadFn,!1),i._endFn=i._endListener.bind(i),i._node.addEventListener("ended",i._endFn,!1),i._node.src=a._src,i._node.preload=a._preload===!0?"auto":a._preload,i._node.volume=o*e.volume(),i._node.load()),i},reset:function(){var i=this,a=i._parent;return i._muted=a._muted,i._loop=a._loop,i._volume=a._volume,i._rate=a._rate,i._seek=0,i._rateSeek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++e._counter,i},_errorListener:function(){var i=this;i._parent._emit("loaderror",i._id,i._node.error?i._node.error.code:0),i._node.removeEventListener("error",i._errorFn,!1)},_loadListener:function(){var i=this,a=i._parent;a._duration=Math.ceil(i._node.duration*10)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),i._node.removeEventListener(e._canPlayEvent,i._loadFn,!1)},_endListener:function(){var i=this,a=i._parent;a._duration===1/0&&(a._duration=Math.ceil(i._node.duration*10)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=a._duration*1e3),a._ended(i)),i._node.removeEventListener("ended",i._endFn,!1)}};var n={},c=function(i){var a=i._src;if(n[a]){i._duration=n[a].duration,f(i);return}if(/^data:[^;]+;base64,/.test(a)){for(var o=atob(a.split(",")[1]),d=new Uint8Array(o.length),u=0;u<o.length;++u)d[u]=o.charCodeAt(u);p(d.buffer,i)}else{var v=new XMLHttpRequest;v.open(i._xhr.method,a,!0),v.withCredentials=i._xhr.withCredentials,v.responseType="arraybuffer",i._xhr.headers&&Object.keys(i._xhr.headers).forEach(function(g){v.setRequestHeader(g,i._xhr.headers[g])}),v.onload=function(){var g=(v.status+"")[0];if(g!=="0"&&g!=="2"&&g!=="3"){i._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}p(v.response,i)},v.onerror=function(){i._webAudio&&(i._html5=!0,i._webAudio=!1,i._sounds=[],delete n[a],i.load())},m(v)}},m=function(i){try{i.send()}catch(a){i.onerror()}},p=function(i,a){var o=function(){a._emit("loaderror",null,"Decoding audio data failed.")},d=function(u){u&&a._sounds.length>0?(n[a._src]=u,f(a,u)):o()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(i).then(d).catch(o):e.ctx.decodeAudioData(i,d,o)},f=function(i,a){a&&!i._duration&&(i._duration=a.duration),Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue())},b=function(){if(!!e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch(u){e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var i=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),a=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),o=a?parseInt(a[1],10):null;if(i&&o&&o<9){var d=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!d&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:e,Howl:t}}),typeof Gt<"u"&&(Gt.Howler=e,Gt.Howl=t),typeof global<"u"?(global.HowlerGlobal=s,global.Howler=e,global.Howl=t,global.Sound=r):typeof window<"u"&&(window.HowlerGlobal=s,window.Howler=e,window.Howl=t,window.Sound=r)})();(function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var r=t._howls.length-1;r>=0;r--)t._howls[r].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,r){var n=this;if(!n.ctx||!n.ctx.listener)return n;if(t=typeof t!="number"?n._pos[1]:t,r=typeof r!="number"?n._pos[2]:r,typeof e=="number")n._pos=[e,t,r],typeof n.ctx.listener.positionX<"u"?(n.ctx.listener.positionX.setTargetAtTime(n._pos[0],Howler.ctx.currentTime,.1),n.ctx.listener.positionY.setTargetAtTime(n._pos[1],Howler.ctx.currentTime,.1),n.ctx.listener.positionZ.setTargetAtTime(n._pos[2],Howler.ctx.currentTime,.1)):n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2]);else return n._pos;return n},HowlerGlobal.prototype.orientation=function(e,t,r,n,c,m){var p=this;if(!p.ctx||!p.ctx.listener)return p;var f=p._orientation;if(t=typeof t!="number"?f[1]:t,r=typeof r!="number"?f[2]:r,n=typeof n!="number"?f[3]:n,c=typeof c!="number"?f[4]:c,m=typeof m!="number"?f[5]:m,typeof e=="number")p._orientation=[e,t,r,n,c,m],typeof p.ctx.listener.forwardX<"u"?(p.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),p.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),p.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),p.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),p.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),p.ctx.listener.upZ.setTargetAtTime(m,Howler.ctx.currentTime,.1)):p.ctx.listener.setOrientation(e,t,r,n,c,m);else return f;return p},Howl.prototype.init=function(e){return function(t){var r=this;return r._orientation=t.orientation||[1,0,0],r._stereo=t.stereo||null,r._pos=t.pos||null,r._pannerAttr={coneInnerAngle:typeof t.coneInnerAngle<"u"?t.coneInnerAngle:360,coneOuterAngle:typeof t.coneOuterAngle<"u"?t.coneOuterAngle:360,coneOuterGain:typeof t.coneOuterGain<"u"?t.coneOuterGain:0,distanceModel:typeof t.distanceModel<"u"?t.distanceModel:"inverse",maxDistance:typeof t.maxDistance<"u"?t.maxDistance:1e4,panningModel:typeof t.panningModel<"u"?t.panningModel:"HRTF",refDistance:typeof t.refDistance<"u"?t.refDistance:1,rolloffFactor:typeof t.rolloffFactor<"u"?t.rolloffFactor:1},r._onstereo=t.onstereo?[{fn:t.onstereo}]:[],r._onpos=t.onpos?[{fn:t.onpos}]:[],r._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,t){var r=this;if(!r._webAudio)return r;if(r._state!=="loaded")return r._queue.push({event:"stereo",action:function(){r.stereo(e,t)}}),r;var n=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof t>"u")if(typeof e=="number")r._stereo=e,r._pos=[e,0,0];else return r._stereo;for(var c=r._getSoundIds(t),m=0;m<c.length;m++){var p=r._soundById(c[m]);if(p)if(typeof e=="number")p._stereo=e,p._pos=[e,0,0],p._node&&(p._pannerAttr.panningModel="equalpower",(!p._panner||!p._panner.pan)&&s(p,n),n==="spatial"?typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):p._panner.setPosition(e,0,0):p._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",p._id);else return p._stereo}return r},Howl.prototype.pos=function(e,t,r,n){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(e,t,r,n)}}),c;if(t=typeof t!="number"?0:t,r=typeof r!="number"?-.5:r,typeof n>"u")if(typeof e=="number")c._pos=[e,t,r];else return c._pos;for(var m=c._getSoundIds(n),p=0;p<m.length;p++){var f=c._soundById(m[p]);if(f)if(typeof e=="number")f._pos=[e,t,r],f._node&&((!f._panner||f._panner.pan)&&s(f,"spatial"),typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(t,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):f._panner.setPosition(e,t,r)),c._emit("pos",f._id);else return f._pos}return c},Howl.prototype.orientation=function(e,t,r,n){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(e,t,r,n)}}),c;if(t=typeof t!="number"?c._orientation[1]:t,r=typeof r!="number"?c._orientation[2]:r,typeof n>"u")if(typeof e=="number")c._orientation=[e,t,r];else return c._orientation;for(var m=c._getSoundIds(n),p=0;p<m.length;p++){var f=c._soundById(m[p]);if(f)if(typeof e=="number")f._orientation=[e,t,r],f._node&&(f._panner||(f._pos||(f._pos=c._pos||[0,0,-.5]),s(f,"spatial")),typeof f._panner.orientationX<"u"?(f._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),f._panner.orientationY.setValueAtTime(t,Howler.ctx.currentTime),f._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):f._panner.setOrientation(e,t,r)),c._emit("orientation",f._id);else return f._orientation}return c},Howl.prototype.pannerAttr=function(){var e=this,t=arguments,r,n,c;if(!e._webAudio)return e;if(t.length===0)return e._pannerAttr;if(t.length===1)if(typeof t[0]=="object")r=t[0],typeof n>"u"&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),e._pannerAttr={coneInnerAngle:typeof r.pannerAttr.coneInnerAngle<"u"?r.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof r.pannerAttr.coneOuterAngle<"u"?r.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof r.pannerAttr.coneOuterGain<"u"?r.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof r.pannerAttr.distanceModel<"u"?r.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof r.pannerAttr.maxDistance<"u"?r.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof r.pannerAttr.refDistance<"u"?r.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof r.pannerAttr.rolloffFactor<"u"?r.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof r.pannerAttr.panningModel<"u"?r.pannerAttr.panningModel:e._panningModel});else return c=e._soundById(parseInt(t[0],10)),c?c._pannerAttr:e._pannerAttr;else t.length===2&&(r=t[0],n=parseInt(t[1],10));for(var m=e._getSoundIds(n),p=0;p<m.length;p++)if(c=e._soundById(m[p]),c){var f=c._pannerAttr;f={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:f.coneInnerAngle,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:f.coneOuterAngle,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:f.coneOuterGain,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:f.distanceModel,maxDistance:typeof r.maxDistance<"u"?r.maxDistance:f.maxDistance,refDistance:typeof r.refDistance<"u"?r.refDistance:f.refDistance,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:f.rolloffFactor,panningModel:typeof r.panningModel<"u"?r.panningModel:f.panningModel};var b=c._panner;b?(b.coneInnerAngle=f.coneInnerAngle,b.coneOuterAngle=f.coneOuterAngle,b.coneOuterGain=f.coneOuterGain,b.distanceModel=f.distanceModel,b.maxDistance=f.maxDistance,b.refDistance=f.refDistance,b.rolloffFactor=f.rolloffFactor,b.panningModel=f.panningModel):(c._pos||(c._pos=e._pos||[0,0,-.5]),s(c,"spatial"))}return e},Sound.prototype.init=function(e){return function(){var t=this,r=t._parent;t._orientation=r._orientation,t._stereo=r._stereo,t._pos=r._pos,t._pannerAttr=r._pannerAttr,e.call(this),t._stereo?r.stereo(t._stereo):t._pos&&r.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,r=t._parent;return t._orientation=r._orientation,t._stereo=r._stereo,t._pos=r._pos,t._pannerAttr=r._pannerAttr,t._stereo?r.stereo(t._stereo):t._pos?r.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,r._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var s=function(e,t){t=t||"spatial",t==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()});var J=class extends Error{constructor(t){super(t.message);l(this,"name");l(this,"message");Object.setPrototypeOf(this,J.prototype),typeof t.name=="string"&&(this.name=t.name),typeof t.message=="string"&&(this.message=t.message)}};var Gi=ri(Vi(),1),Yi=ri(Bi(),1);var vt=(o=>(o.Blob="blob",o.MediaDevices="mediaDevices",o.OffscreenCanvas="offscreenCanvas",o.HttpProtocol="httpProtocol",o.SecureContext="secureContext",o.UrlObject="urlObject",o.WebWorkers="webWorkers",o.WebAssembly="webAssembly",o.WebAssemblyErrorFree="webAssemblyErrorFree",o.WebGL="webGL",o.SharedArrayBuffer="sharedArrayBuffer",o.CrossOriginIsolated="crossOriginIsolated",o))(vt||{});var Hi=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));var Ji=()=>(async s=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(s)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));function ai(){return typeof crossOriginIsolated>"u"?!1:crossOriginIsolated}function ni(){try{return new WebAssembly.Memory({initial:1,maximum:1,shared:!0}).buffer.constructor.name==="SharedArrayBuffer"}catch(s){return!1}}async function bt(){return Hi()}async function oi(){if(!await Ji())return!1;let e=null;try{e=new Worker(URL.createObjectURL(new Blob(['postMessage("Worker" in self);'],{type:"text/javascript"})),{name:"nestedWorkerTest"})}catch(t){return!1}return new Promise(t=>{if(e==null){t(!1);return}e.onmessage=r=>{e==null||e.terminate(),t(r.data)}})}async function Ct(){let s=await oi();return ai()&&ni()&&s}var W;(T=>{let s;function e(){return s==null&&(s=new Yi.default(navigator.userAgent)),s}T.getUserAgentInfo=e;function t(){var E;if("orientation"in window)return!1;let w="(any-pointer: coarse)",D=(E=window.matchMedia)==null?void 0:E.call(window,w);return navigator.maxTouchPoints===0||(D==null?void 0:D.media)===w&&!(D!=null&&D.matches)}T.isDesktopDevice=t;function r(){return e().getDevice().model==="iPhone"}T.isIPhone=r;function n(){return e().getOS().name==="iOS"&&(window.screen.width===1179/3&&window.screen.height===2556/3||window.screen.width===1290/3&&window.screen.height===2796/3)&&window.devicePixelRatio===3}T.isBrokenIPhoneCameraDevice=n;function c(){let w=e().getOS();return w.name==="iOS"&&w.version!=null&&w.version.localeCompare("16.3",void 0,{numeric:!0})>=0}T.isIOSDeviceWithExtendedCameraAccess=c;function m(){return"document"in window?window.document.createElement("canvas"):null}T.getCanvas=m;function p(w){return w.name==="iOS"&&w.version!=null&&["11.2.2","11.2.5","11.2.6"].includes(w.version)}async function f(){return bt()}T.hasSIMDSupport=f;async function b(){return oi()}T.hasThreadsSupport=b;function i(w,D,E){let z=w[D[0]];return z==null?!1:D.length===1?typeof z===E:(typeof z=="function"||typeof z=="object")&&i(z,D.slice(1),E)}function a(){var $;let w=!0,D=null,E=null,z=null,O=null;try{if(D=T.getCanvas(),E=T.getCanvas(),z=D==null?void 0:D.getContext("webgl"),O=E==null?void 0:E.getContext("experimental-webgl"),!i(window,["WebGLRenderingContext"],"function")||z==null&&O==null)throw new Error("WebGLRenderingContext is not supported")}catch(te){w=!1}finally{for(let te of[z,O])typeof(te==null?void 0:te.getExtension)=="function"&&(($=te.getExtension("WEBGL_lose_context"))==null||$.loseContext());z=null,O=null,D=null,E=null}return w}function o(){let w=!0,D=!0,E=new Set;location.protocol.startsWith("http")||(E.add("httpProtocol"),w=!1,D=!1),i(window,["isSecureContext"],"boolean")&&!window.isSecureContext&&E.add("secureContext"),!i(navigator,["mediaDevices","getUserMedia"],"function")&&!i(navigator,["enumerateDevices"],"function")&&!i(window,["MediaStreamTrack","getSources"],"function")&&(E.add("mediaDevices"),w=!1),i(window,["Worker"],"function")||(E.add("webWorkers"),w=!1,D=!1),i(window,["WebAssembly"],"object")||(E.add("webAssembly"),w=!1,D=!1),i(window,["Blob"],"function")||(E.add("blob"),w=!1,D=!1),i(window,["URL","createObjectURL"],"function")||(E.add("urlObject"),w=!1,D=!1),i(window,["OffscreenCanvas"],"function")||E.add("offscreenCanvas"),a()||E.add("webGL");let z=e().getOS();return p(z)&&(E.add("webAssemblyErrorFree"),w=!1,D=!1),ni()||E.add("sharedArrayBuffer"),ai()||E.add("crossOriginIsolated"),{fullSupport:w,scannerSupport:D,missingFeatures:[...E]}}T.checkBrowserCompatibility=o;async function d(){return Ct()}T.checkMultithreadingSupport=d;function u(){let w="scandit-device-id",D="localStorage"in globalThis?globalThis.localStorage:void 0;if(!D)return"";let E=D.getItem(w);if(E!=null&&E!=="")return E;if(E=Gi.default.get(w),E!=null&&E!=="")return D.setItem(w,E),E;let z=new Uint8Array(20);return crypto.getRandomValues(z),E=[...z].map(O=>{let $=O.toString(16);return $.length===1?`0${$}`:$}).join(""),D.setItem(w,E),E}T.getDeviceId=u;function v(w){return w instanceof HTMLElement||w!=null&&typeof w=="object"&&typeof w.tagName=="string"}T.isValidHTMLElement=v;function g(){var z,O;let w=e().getOS();if(w.name!=="iOS")return!0;let[D,E]=(O=(z=w.version)==null?void 0:z.split(".").map(Number))!=null?O:[];return D>14||D===14&&E>=6}T.isSupportedIOSVersion=g;function C(){var E,z,O,$;let w=/iphone|ipod|ipad/.test((z=(E=e().getDevice().model)==null?void 0:E.toLowerCase())!=null?z:""),D=($=(O=e().getBrowser().name)==null?void 0:O.toLowerCase().includes("safari"))!=null?$:!1;return w&&!D}T.isIosWebView=C;async function S(){var D;return((D=e().getOS().name)==null?void 0:D.toLowerCase())!=="android"?!1:e().getUA().includes("wv")?!0:[...(await fetch(document.location.toString(),{method:"HEAD"})).headers].some(([E])=>E.toLowerCase()==="x-requested-with")}T.isAndroidWebView=S})(W||(W={}));var h;(c=>{let s;(a=>(a.Debug="debug",a.Info="info",a.Warn="warn",a.Error="error",a.Quiet="quiet"))(s=c.Level||(c.Level={}));let e=new Map([["debug",1],["info",2],["warn",3],["error",4],["quiet",5]]),t="debug";function r(m){t=m}c.setLevel=r;function n(m,...p){if(!(e.get(t)>e.get(m)))switch(m){case"debug":console.debug(...p);break;case"info":console.log(...p);break;case"warn":console.warn(...p);break;case"error":console.error(...p);break;default:break}}c.log=n})(h||(h={}));function qi(s,e=location){return s+=s.endsWith("/")?"":"/",/^https?:\/\//.test(s)?s:(s=s.split("/").filter(t=>t.length>0).join("/"),s=s===""?"/":`/${s}/`,e.protocol==="file:"||e.origin==="null"?`${e.href.split("/").slice(0,-1).join("/")}${s}`:`${e.origin}${s}`)}function ca(s){return/^https?:\/\/(?:[^./]*\.)*cdn.jsdelivr.net\//.test(s)?{result:!0,cdnBaseURL:"https://cdn.jsdelivr.net/npm/"}:/^https?:\/\/(?:[^./]*\.)*unpkg.com\//.test(s)?{result:!0,cdnBaseURL:"https://unpkg.com/"}:{result:!1,cdnBaseURL:""}}function ua(s){let t=/scandit-web-datacapture-[a-z]+/i.exec(s);return t?t[0]:null}function $i(s,e,t){let r=e,n=ca(r);if(n.result){let m=ua(r);m!=null&&(r=`${n.cdnBaseURL}${m}@${s}/build/engine/`)}let c=t.replace(".wasm","");return n.result?{jsURI:`${r}${c}.js`,wasmURI:`${r}${c}.wasm`}:{jsURI:`${r}${c}.js?v=${s}`,wasmURI:`${r}${c}.wasm?v=${s}`}}var Ae=class extends J{constructor(t){super({name:"UnsupportedBrowserError",message:`This OS / browser has one or more missing features preventing it from working correctly (${t.missingFeatures.join(", ")})`});l(this,"data");this.data=t}};var si=class{constructor(){l(this,"subscribers",new Set)}subscribe(e){this.subscribers.add(e)}unsubscribe(e){this.subscribers.has(e)&&this.subscribers.delete(e)}notify(e){for(let t of this.subscribers)t(e)}},ma=new si,he=ma;var ee={configurePhase:"unconfigured",configurePromise:void 0,userLicenseKey:void 0,mainDataCaptureLoader:void 0,dataCaptureLoaders:void 0,loadingStatus:he};var pa=new Set,St=pa;var Qi={};function ha(s){return[...new Uint8Array(s)].map(e=>{let t=e.toString(16);return t.length===1?`0${t}`:t}).join("")}async function di(s,e,t){if(typeof crypto.subtle.digest!="function")return h.log(h.Level.Warn,`Insecure context (see https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts): The hash of the Scandit Data Capture library WASM file found at ${t} could not be verified`),"NOT_VERIFIABLE";try{let r=s instanceof Promise?await s:s,n=await crypto.subtle.digest("SHA-256",r),c=ha(n);return e==null?(h.log(h.Level.Warn,"The library hash is not defined or empty, cannot correctly verify integrity."),"NOT_VERIFIABLE"):c===e?(h.log(h.Level.Debug,"Data Capture library WASM integrity has been verified correctly."),"VALID"):(h.log(h.Level.Warn,`The Scandit Data Capture library WASM file found at ${t} seems invalid: expected file hash doesn't match (received: ${c}, expected: ${e}). Please ensure the correct Scandit Data Capture file (with correct version) is retrieved.`),"INVALID")}catch(r){return"NOT_VERIFIABLE"}}var li=new Map([["br",4.4],["gzip",2.9],["none",1]]);function ga(s){var r;let e="content-encoding";if(s==null||s.get(e)==null)return li.get("none");let t=new Set(((r=s.get(e))!=null?r:"").split(",").map(n=>n.trim()));for(let[n,c]of li)if(t.has(n))return c;return li.get("none")}function fa(s){var r,n;if(s==null)return 0;let e=(r=ga(s))!=null?r:1,t=Number.parseInt((n=s.get("content-length"))!=null?n:"0",10);return Number.isNaN(t)?0:Math.floor(t*e*100)/100}function va(s){let{pathname:e}=new URL(s);for(let[t,r]of Object.entries(Qi))if(e.endsWith(t))return r.bytes;return 0}function Zi(s){Qi=s}var ba=(s,e)=>{let t=fa(e);return t===0?va(s):t};function Ca(s,e,{onProgress:t,onError:r,onComplete:n}){let{body:c,status:m,statusText:p,headers:f}=e.clone();if(!c)return e;let b=ba(s,f),i=0,a=0,o=c.getReader(),d=new ReadableStream({async start(u){async function v(){try{let{done:g,value:C}=await o.read();if(g){u.close(),t==null||t({percentage:100,loadedBytes:i,privateUri:s}),n==null||n({percentage:100,loadedBytes:i,privateUri:s});return}i+=C.length,b>0&&C.length>0&&a<100?(a=Number((i/b*100).toFixed(2)),t==null||t({percentage:a,loadedBytes:i,privateUri:s})):b===0&&C.length>0&&(t==null||t({percentage:null,loadedBytes:i,privateUri:s})),u.enqueue(C),await v()}catch(g){throw r==null||r({error:g}),g}}return v()}});return new Response(d,{headers:new Headers(f),status:m,statusText:p})}async function At({wasmURI:s,awaitFullResponse:e,onProgress:t}){let r=await fetch(s);if(!r.ok)throw new Error(`HTTP status code is not ok: ${r.status}, ${r.statusText}`);return new Promise((n,c)=>{let m=Ca(s,r,{onProgress:t,onError:({error:p})=>{c(p)},onComplete:()=>{e&&n(m)}});e||n(m)})}function Ki(s,e,t,r,n){async function c(p){try{let b=await(p!=null?p:await At({wasmURI:e,awaitFullResponse:!0,onProgress:n})).arrayBuffer();di(b,t,e);let i=await globalThis.WebAssembly.instantiate(b,s);r(i.instance,i.module)}catch(f){h.log(h.Level.Error,f),h.log(h.Level.Error,`Couldn't instantiate Scandit SDK DataCapture library at ${e}, did you configure the path for it correctly?`)}}async function m(){let p;try{p=await At({wasmURI:e,awaitFullResponse:!1,onProgress:n});let f=await globalThis.WebAssembly.instantiateStreaming(p,s);r(f.instance,f.module),di(At({wasmURI:e,awaitFullResponse:!0}).then(async b=>b.arrayBuffer()),t,e)}catch(f){h.log(h.Level.Warn,f),h.log(h.Level.Warn,"WebAssembly streaming compile failed. Falling back to ArrayBuffer instantiation (this will make things slower)"),c((p==null?void 0:p.bodyUsed)===!0?void 0:p)}}typeof globalThis.WebAssembly.instantiateStreaming=="function"?m():c()}async function ci(s,e,t,r){return new Promise((n,c)=>{s().then(n).catch(m=>{let p=e*2;if(p>t){c(m);return}r(m),globalThis.setTimeout(()=>{ci(s,p,t,r).then(n).catch(c)},e)})})}var wt=class{constructor(){l(this,"promise");l(this,"resolve");l(this,"reject");this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}};var yt=Promise.resolve(),Mt=!1,ui=!1,Pe,Fe={writableDataPathPreload:"",writableDataPath:"",preloading:!1};async function Aa(){let s="FILE_DATA",e,t,r,n,c;function m(){clearTimeout(c),r.result.close(),n.result.close(),e(0)}function p(){try{let f=[],b=r.result.transaction(s,"readonly");b.addEventListener("error",m),b.addEventListener("abort",m);let i=b.objectStore(s).openCursor();i.onsuccess=()=>{let a=i.result;if(a==null)try{let o=0,d=n.result.transaction(s,"readwrite"),u=d.objectStore(s);d.addEventListener("error",m),d.addEventListener("abort",m),d.oncomplete=()=>{clearTimeout(c),r.result.close(),n.result.close(),e(o)};for(let v of f){let g=u.count(v.primaryKey);g.onsuccess=()=>{g.result===0&&(++o,u.add(v.value,v.primaryKey))},clearTimeout(c),c=globalThis.setTimeout(()=>{h.log(h.Level.Warn,"IndexedDB database is blocked! Resetting Scandit Data Capture library..."),t(new J({name:"BlockedIndexedDB",message:"IndexedDB database is blocked"}))},500)}}catch(o){m.call({error:o})}else{let{writableDataPathPreload:o,writableDataPath:d}=Fe;f.push({value:a.value,primaryKey:a.primaryKey.toString().replace(`${o}/`,`${d}/`)}),a.continue()}},i.onerror=m}catch(f){m.call({error:f})}}return new Promise((f,b)=>{let{writableDataPathPreload:i,writableDataPath:a}=Fe;e=f,t=b,r=indexedDB.open(i),r.onupgradeneeded=()=>{try{r.result.createObjectStore(s)}catch(o){}},r.onsuccess=()=>{if(!Array.from(r.result.objectStoreNames).includes(s)){f(0);return}n=indexedDB.open(a),n.onupgradeneeded=()=>{try{n.result.createObjectStore(s)}catch(o){}},n.onsuccess=()=>{p()},n.onblocked=n.onerror=m},r.onblocked=r.onerror=m})}async function Xi(s,e){let{preloading:t}=Fe;if(Pe!=null){if(Mt=!0,!t&&s){let r=await Aa();if(!e&&r===0){Mt=!1;return}}await new Promise((r,n)=>{Pe==null||Pe(s,c=>{if(Mt=!1,c!=null){n(c);return}r()})})}}async function er(s,e=!1,t=!1){return(!ui||t)&&(Mt?(ui=!0,yt=yt.then(async()=>(ui=!1,Xi(s,e)))):yt=Xi(s,e)),yt}async function tr(s){Fe=s,Pe=FS.syncfs,FS.syncfs=(e,t)=>{let r=t,n=c=>{r(c)};er(e).then(n).catch(n)};try{FS.mkdir(Fe.writableDataPath)}catch(e){if(e.code!=="EEXIST")throw Pe=void 0,e}return FS.mount(IDBFS,{},Fe.writableDataPath),er(!0,!0)}var ge=class{constructor(){l(this,"_message");l(this,"_code");l(this,"_isValid")}static fromJSON(e){let t=new ge;return t._code=e.code,t._message=e.message,t._isValid=e.isValid,t}get message(){return this._message}get code(){return this._code}get isValid(){return this._isValid}},mi=(r=>(r.None="None",r.X="X",r.Y="Y",r))(mi||{});var Lt;(e=>{function s(){let t="6.19.1";if(t==null)throw new J({name:"Invalid library version",message:"Library version is not defined or empty."});return t}e.sdkVersion=s})(Lt||(Lt={}));async function ya(s,e){async function t(){return importScripts(s)}try{await ci(t,250,4e3,n=>{h.log(h.Level.Warn,n),h.log(h.Level.Warn,`Couldn't retrieve Scandit Data Capture library at ${s}, retrying...`)}),self.Module.mainScriptUrlOrBlob=s;let r=globalThis.SDC_WASM_JS_VERSION;return r!==e&&h.log(h.Level.Warn,`The Scandit Data Capture library JS file found at ${s} seems invalid: expected version doesn't match (received: ${r}, expected: ${e}). Please ensure the correct Scandit Data Capture file (with correct version) is retrieved.`),!0}catch(r){return h.log(h.Level.Error,r),!1}}var xt=class{constructor(e,t){l(this,"context");l(this,"lastUsedModuleMirrorAxis");l(this,"view");l(this,"MAX_NUMBER_OF_IMAGES_IN_FRAME_DATA_POOL",10);l(this,"moduleHandler");l(this,"redrawInterval",1e3/30);l(this,"redrawRequests",[]);l(this,"workerFunctions");l(this,"_isDrawLoopRunning",!1);l(this,"contextDeserializer");l(this,"frameDataPool",new Map);l(this,"imageFrameSource");l(this,"lastFrameCounter",-1);l(this,"libraryLoadingPromise");l(this,"loopTimeoutId");l(this,"resourcePath");l(this,"writableDataPath");l(this,"poorMansBenchmarkLogs",!1);l(this,"writableDataPathPreload","/scandit_sync_folder_preload");l(this,"writableDataPathStandard","/scandit_sync_folder");l(this,"resourceFilesSubfolder","resources");l(this,"performanceMetricsReporterTimer");l(this,"performanceMetrics",{frameDataPoolSize:0,processedFramesCount:0,redrawRequestsCount:0,actualRedrawsCount:0});l(this,"gestureRecognizer");l(this,"gestureListener",null);this.moduleHandler=e,this.workerFunctions=t,this._loadProgressCallback=this._loadProgressCallback.bind(this),Zi(this.getWasmMetadata())}get Module(){return this.moduleHandler.get()}set isDrawLoopRunning(e){this._isDrawLoopRunning=e,!e&&typeof this.loopTimeoutId=="number"&&(clearTimeout(this.loopTimeoutId),this.loopTimeoutId=void 0)}get isDrawLoopRunning(){return this._isDrawLoopRunning}setPoorMansBenchmarkLogs(e){this.poorMansBenchmarkLogs=e}convertToLoadableFrameData(e){let t=this.getNextFrameId();this.frameDataPool.set(t,new Uint8ClampedArray(e.getFrameData()));let r=this.lastUsedModuleMirrorAxis!=null?this.lastUsedModuleMirrorAxis!==this.Module.Axis.None:!1;return{frameId:t,width:e.getWidth(),height:e.getHeight(),isFrameSourceMirrored:r}}createContext(e){var f,b;let t=this.getModeDeserializers();this.contextDeserializer=new this.Module.DataCaptureContextDeserializer(this.writableDataPath,e.deviceId,e.context.deviceModelName,e.domain,t,e.delayedRegistration,e.highEndBlurryRecognition,this.resourcePath);let r=this.contextDeserializer.contextFromJson(JSON.stringify(e.context)),n=r.getView();this.context=r.getContext(),r.delete();let c=this.Module.DataCaptureContextListener.extend("DataCaptureContextListener",{didChangeStatus:(i,a)=>{this.contextDidChangeStatus(JSON.parse(a.toJson()))},didStartObservingContext:()=>{this.didStartObservingContext()}}),m=this.Module.GestureRecognizer.extend("GestureRecognizer",{setGestureListener:(i,a)=>{var o;(o=this.gestureListener)==null||o.delete(),this.gestureListener=i.clone()}});(f=this.gestureRecognizer)==null||f.delete(),this.gestureRecognizer=new m;let p=new c;this.context.addListener(p),p.delete(),this.setView(n),(b=this.view)==null||b.setGestureRecognizer(this.gestureRecognizer)}onTap(e){var t;(t=this.gestureListener)==null||t.onTap(JSON.stringify(e))}startReportingPerformanceMetrics(){this.performanceMetricsReporterTimer==null&&(this.performanceMetricsReporterTimer=setInterval(()=>{this.reportPerformanceMetrics();for(let e of Object.keys(this.performanceMetrics))this.performanceMetrics[e]=0},1e3))}async reportPerformanceMetrics(){this.workerFunctions.postMessage({type:"performanceMetricsReport",payload:{...this.performanceMetrics}})}deleteFrameData(e){this.frameDataPool.delete(e)}dispose(){var e,t;this.context.dispose(),this.frameDataPool.clear(),this.isDrawLoopRunning=!1,this.lastFrameCounter=-1,(e=this.gestureRecognizer)==null||e.delete(),this.gestureRecognizer=null,(t=this.gestureListener)==null||t.delete(),this.gestureListener=null}extractCentaurusLicense(e){return{payload:{centaurus:{licenseKey:this.Module.LicenseUtils.getBlinkIdLicenseKey(e)}}}}getModeDeserializers(){return new this.Module.VectorDataCaptureModeDeserializer}loadLibrary(e){return this.libraryLoadingPromise!=null?this.libraryLoadingPromise:(this.libraryLoadingPromise=this.setup(e),this.libraryLoadingPromise)}processFrame(e){var n;if(this.context==null)return{payload:e,transferables:[e.data.buffer]};let t=e.data,r=this.Module.allocateUint8Array(t.byteLength);return this.Module.HEAPU8.set(t,r),(n=this.imageFrameSource)==null||n.outputFrame(r,e.width,e.height,this.Module.ImageBufferFormat.Rgba8888),{payload:e,transferables:[e.data.buffer]}}reportCameraProperties(e){this.context.setCameraProperties(e.deviceId,e.isFrontFacing,e.hasAutofocus)}requestFrameData(e){let t=this.frameDataPool.get(e);return t==null?{payload:{data:null}}:{payload:{data:t},transferables:[t.buffer]}}scheduleRedraw(e,t){this.addRedrawRequest(t),this.isDrawLoopRunning||this.startDrawLoop(e)}sendViewRefreshCommands(e){this.workerFunctions.postMessage({type:"draw",payload:e})}setFrameSource(e){var t;this.lastUsedModuleMirrorAxis=this.mapMirrorAxisOnModule(e),(t=this.imageFrameSource)==null||t.delete(),this.imageFrameSource=new this.Module.ImageBufferFrameSource(this.lastUsedModuleMirrorAxis),this.context.setFrameSource(this.imageFrameSource)}startDrawLoop(e){this.isDrawLoopRunning=!0;let t=c=>this.redrawRequests.length>0&&this.redrawRequests[0]<=c,r=c=>{for(;this.redrawRequests.length>0&&this.redrawRequests[0]<=c;)this.redrawRequests.shift()},n=()=>{this.loopTimeoutId=setTimeout(()=>{if(!this.isDrawLoopRunning)return;let c=performance.now();t(c)&&(r(c),e.draw(),this.sendViewRefreshCommands(JSON.parse(e.getDrawCommands()))),n()},this.redrawInterval)};n()}updateContext(e){if(this.context!=null&&this.contextDeserializer!=null){let t=this.contextDeserializer.updateContextFromJson(this.context,this.view,JSON.stringify(e.context));this.context.delete(),this.context=t.getContext();let r=t.getView();t.delete(),r!=null&&e.view!=null&&r.setViewSize(e.view.width,e.view.height),this.gestureRecognizer!=null&&(r==null||r.setGestureRecognizer(this.gestureRecognizer)),this.setView(r),h.log(h.Level.Debug,"context updated",e)}}getNextFrameId(){return this.lastFrameCounter++,this.lastFrameCounter>=this.MAX_NUMBER_OF_IMAGES_IN_FRAME_DATA_POOL&&(this.lastFrameCounter=0),this.lastFrameCounter}getWasmDynamicLibraries(e){return this.getWasmSideModuleFileName()==null?[]:[`${e.replace(/\/[^/]*$/,"/")}${this.getWasmSideModuleFileName()}`]}getWasmCoreExpectedHash(e,t){return t?e?globalThis.SDC_WASM_CORE_MT_SIMD_HASH:globalThis.SDC_WASM_CORE_MT_HASH:e?globalThis.SDC_WASM_CORE_SIMD_HASH:""}getWasmCoreFileName(e,t){return t?e?globalThis.SDC_WASM_CORE_MT_SIMD_FILE_NAME:globalThis.SDC_WASM_CORE_MT_FILE_NAME:e?globalThis.SDC_WASM_CORE_SIMD_FILE_NAME:""}getWasmMetadata(){return globalThis.WASM_METADATA}getWasmSideModuleFileName(){return""}_loadProgressCallback(e){this.workerFunctions.postMessage({type:"loadLibraryProgress",payload:e})}addRedrawRequest(e){this.redrawRequests.push(Math.round(performance.now())+e),this.redrawRequests.sort((t,r)=>t-r)}contextDidChangeStatus(e){var t,r;if(e.code===260){let n;if((t=location.href)!=null&&t.startsWith("blob:null/"))n="localhost";else{let c=((r=location.pathname)==null?void 0:r.length)>1&&!location.pathname.startsWith("/");n=new URL(c?location.pathname:location.origin).hostname}n.startsWith("[")&&n.endsWith("]")&&(n=n.slice(1,-1)),e.message=e.message.replace("domain name",`domain name (${n})`)}this.workerFunctions.postMessage({type:"contextDidChangeStatus",payload:e})}didStartObservingContext(){this.workerFunctions.postMessage({type:"didStartObservingContext"})}mapMirrorAxisOnModule(e){switch(e){case"None":return this.Module.Axis.None;case"X":return this.Module.Axis.X;case"Y":return this.Module.Axis.Y;default:return this.Module.Axis.None}}setView(e){this.view=e,this.setViewRefreshHandler(e),e==null&&(this.isDrawLoopRunning=!1,this.sendViewRefreshCommands([]))}setViewRefreshHandler(e){if(e==null||e.isViewRefreshHandlerSet)return;let t=this.Module.NeedsRedrawDelegate.extend("NeedsRedrawDelegate",{setNeedsRedrawIn:this.scheduleRedraw.bind(this,e)}),r=new t;e.setNeedsRedrawDelegate(r),e.isViewRefreshHandlerSet=!0}setupDataDecoding(){let e=this.moduleHandler.get(),t=e.DataDecoding.extend("DataDecoding",{decode(r,n){try{let c=JSON.parse(n),m=[];for(let p of c){let f=new TextDecoder(p.ianaName,{fatal:!0});m.push(f.decode(r.slice(p.startIndex,p.endIndex)))}return m.join("")}catch(c){return""}}});e.setDataDecoding(new t)}start(e,t,r){e&&t&&(this.setupDataDecoding(),this.moduleHandler.get().callMain(),typeof this.moduleHandler.get().PThread=="object"||r())}getWritableDataPath(e,t){return e?this.writableDataPathPreload:t!=null?(h.log(h.Level.Debug,`IndexedDB database name override in use to recover from blocked standard database: ${t}`),t):this.writableDataPathStandard}async setup({libraryLocation:e,locationPath:t,preloadEngine:r,writableDataPathOverride:n,overrideThreadsSupport:c,overrideSimdSupport:m}){var T;let p=!1,f=!1;this.writableDataPath=this.getWritableDataPath(r,n),this.resourcePath=`${e}${this.resourceFilesSubfolder}/`,globalThis.path=t;let{resolve:b,reject:i,promise:a}=new wt,o=Lt.sdkVersion();if(o==="")throw new J({name:"Invalid library version",message:"Library version is not defined or empty, cannot generate proper path to library files."});let[d,u]=await Promise.all([bt(),Ct()]);c!=="auto"&&(u=c==="on"),m!=="auto"&&(d=m==="on");let v=$i(o,e,this.getWasmCoreFileName(d,u)),{jsURI:g}=v,{wasmURI:C}=v;return this.moduleHandler.set({mainScriptUrlOrBlob:g,canvas:(T=this.workerFunctions.getOffscreenCanvas())!=null?T:{getContext:()=>null},instantiateWasm:(w,D)=>(Ki(w,C,this.getWasmCoreExpectedHash(d,u),D,this._loadProgressCallback),{}),dynamicLibraries:this.getWasmDynamicLibraries(C),locateFile:w=>e+w,noInitialRun:!0,preRun:[async()=>{try{await tr({writableDataPathPreload:this.writableDataPathPreload,writableDataPath:this.writableDataPath,preloading:r})}catch(w){if(w.name==="BlockedIndexedDB"){i(w.toString());return}h.log(h.Level.Debug,"No IndexedDB support, some data will not be persisted:",w)}f=!0,this.start(f,p,b)}],onMainComplete:()=>{if([p,f].includes(!1)){h.log(h.Level.Warn,{runtimeLoaded:p,fileSystemSynced:f},"Both runtimeLoaded and fileSystemSynced should be true when calling onMainComplete"),i("onMainComplete has been called but runtime or file system was not ready.");return}b()},onRuntimeInitialized:()=>{p=!0,this.start(f,p,b)},print:w=>{this.poorMansBenchmarkLogs&&(h.log(h.Level.Info,w),this.workerFunctions.postMessage({type:"console",payload:w}))}}),await ya(g,o)||i(`Couldn't retrieve Scandit Data Capture library at ${g}, did you configure the path for it correctly?`),a}};function qn(s,e){if(s===!1)throw new Error(e)}function _t(s){console.warn("Reached unexpected case",s)}function $n(s){throw new Error("Reached unexpected case")}function Et(s){return typeof s=="object"&&s!=null}function ir(s){if(typeof s=="string")return s;if(Et(s)){if(typeof s.message=="string")return s.message}else if(typeof(s==null?void 0:s.toString)=="function")return s.toString();return"unknow error"}function Zn(s){let e=new Set,t;return{when(r,n){return e.add([r,n]),this},otherwise(r){return t=r,this},run(){for(let[r,n]of e)if(r(s))return n(s);if(typeof t!="function")throw new Error("Math case miss default handler or is not a function");return t(s)}}}var ze=class{constructor(e,t){l(this,"dataCaptureInstance");l(this,"workerSelf");!ze.isWorkerScope(e)||(this.workerSelf=e,this.dataCaptureInstance=new xt(t,{postMessage:this.postMessage.bind(this),getOffscreenCanvas:this.getOffscreenCanvas.bind(this)}),this.listenToMessages())}static isWorkerScope(e){return typeof e<"u"&&e.document==null}listenToMessages(){this.workerSelf.onmessage=this.onMessage.bind(this)}postMessage(e,t){this.workerSelf.postMessage(e,t!=null?t:[])}getOffscreenCanvas(){if(typeof this.workerSelf.OffscreenCanvas=="function")return new this.workerSelf.OffscreenCanvas(32,32)}hasPayload(e){return Et(e)&&"payload"in e}hasTransferables(e){return Et(e)&&Array.isArray(e.transferables)}async respondWith(e,t,r){let n=null,c;try{c=r(),c instanceof Promise&&(c=await c)}catch(p){c=void 0,n=ir(p)}let m={type:"workerTaskId",command:e,id:t,payload:this.hasPayload(c)?c.payload:void 0};n!=null&&(m.error=n),this.postMessage(m,this.hasTransferables(c)?c.transferables:[])}onMessage(e){switch(e.data.command){case"loadLibrary":{let{data:t}=e;this.respondWith(t.command,t.id,async()=>this.dataCaptureInstance.loadLibrary({libraryLocation:t.libraryLocation,locationPath:t.locationPath,preloadEngine:t.preloadEngine,writableDataPathOverride:t.writableDataPathOverride,overrideThreadsSupport:t.overrideThreadsSupport,overrideSimdSupport:t.overrideSimdSupport}))}break;case"onTap":{let{data:t}=e;this.respondWith(t.command,t.id,async()=>{this.dataCaptureInstance.onTap(t.point)})}break;case"createContext":{let{data:t}=e;this.respondWith(t.command,t.id,()=>this.dataCaptureInstance.createContext({context:t.context,deviceId:t.deviceId,domain:t.domain,delayedRegistration:t.delayedRegistration,highEndBlurryRecognition:t.highEndBlurryRecognition}))}break;case"setFrameSource":{let{data:t}=e;this.respondWith(t.command,t.id,()=>this.dataCaptureInstance.setFrameSource(t.mirrorAxis))}break;case"processFrame":{let{data:t}=e;this.respondWith(t.command,t.id,()=>this.dataCaptureInstance.processFrame({data:t.data,width:t.width,height:t.height}))}break;case"requestFrameData":{let{data:t}=e;this.respondWith(t.command,t.id,()=>this.dataCaptureInstance.requestFrameData(t.frameId))}break;case"deleteFrameData":{let{data:t}=e;this.respondWith(t.command,t.id,()=>{this.dataCaptureInstance.deleteFrameData(t.frameId)})}break;case"updateContext":{let{data:t}=e;this.respondWith(t.command,t.id,async()=>this.dataCaptureInstance.updateContext(t))}break;case"dispose":this.respondWith(e.data.command,e.data.id,()=>this.dataCaptureInstance.dispose());break;case"reportCameraProperties":{let{data:t}=e;this.respondWith(t.command,t.id,async()=>this.dataCaptureInstance.reportCameraProperties(t))}break;case"setLogLevel":{let{data:t}=e;this.respondWith(t.command,t.id,()=>{h.setLevel(t.level)})}break;case"setPoorMansBenchmarkLogs":{let{data:t}=e;this.respondWith(t.command,t.id,()=>{this.dataCaptureInstance.setPoorMansBenchmarkLogs(t.enable)})}break;case"extractCentaurusLicense":{let{data:t}=e;this.respondWith(t.command,t.id,()=>this.dataCaptureInstance.extractCentaurusLicense(t.licenseKey))}break;default:return _t(e.data),!1}return!0}},ro=new ze(globalThis,{get:()=>globalThis.Module,set:s=>{globalThis.Module=s}}),Ma="js/worker.js";var rr=Ma;var nr=(r=>(r.Auto="auto",r.Off="off",r.On="on",r))(nr||{}),ar=class{constructor(e,t,r,n,c){l(this,"overrideThreadsSupport","auto");l(this,"overrideSimdSupport","auto");l(this,"_dataCaptureWorker");l(this,"libraryLocation");l(this,"isPreloadEngine");l(this,"workerCommandId",1);l(this,"workerTasks",new Map);l(this,"workerListeners",[]);l(this,"workerMessageListener");this.libraryLocation=e,this.isPreloadEngine=t,this.workerMessageListener=this.onWorkerMessage.bind(this),this.dataCaptureWorker.addEventListener("message",this.workerMessageListener),this.overrideThreadsSupport=r,this.overrideSimdSupport=n,typeof c=="function"&&this.addWorkerListener(m=>{m.type==="loadLibraryProgress"&&c(m.payload)})}get dataCaptureWorker(){var e;return(e=this._dataCaptureWorker)!=null||(this._dataCaptureWorker=new Worker(rr)),this._dataCaptureWorker}static async create(e){var r,n;let t=new this(e.libraryLocation,(r=e.preloadEngine)!=null?r:!1,e.overrideThreadsSupport,e.overrideSimdSupport,e.loadProgressNotifier);return await t.workerCommand("setLogLevel",{level:(n=e.logLevel)!=null?n:h.Level.Debug}),await t.load(),t}async load(){var e;try{await this.workerCommand("loadLibrary",{libraryLocation:this.libraryLocation,locationPath:window.location.pathname,preloadEngine:this.isPreloadEngine,writableDataPathOverride:(e=localStorage.getItem("scanditWritableDataPathOverride"))!=null?e:void 0,overrideThreadsSupport:this.overrideThreadsSupport,overrideSimdSupport:this.overrideSimdSupport})}catch(t){if(t!=null&&typeof t=="object"&&typeof t.error=="string"&&t.error.includes("BlockedIndexedDB"))return await this.terminateDataCaptureWorker(!1),this.dataCaptureWorker.addEventListener("message",this.workerMessageListener),localStorage.setItem("scanditWritableDataPathOverride",`/scandit_sync_folder_${[...crypto.getRandomValues(new Uint32Array(2))].map(r=>r.toString(32)).join("")}`),this.load();throw t}}async workerCommand(e,t,r){return new Promise((n,c)=>{let m=this.workerCommandId++;this.workerTasks.set(m,{resolve:n,reject:c,command:e});let p={...t,command:e,id:m};this.dataCaptureWorker.postMessage(p,r)})}async terminateDataCaptureWorker(e=!0){var t,r;e&&await this.workerCommand("dispose",{}),(t=this._dataCaptureWorker)==null||t.removeEventListener("message",this.workerMessageListener),(r=this._dataCaptureWorker)==null||r.terminate(),this._dataCaptureWorker=void 0}addWorkerListener(e){this.workerListeners.push(e)}removeWorkerListener(e){!this.workerListeners.includes(e)||this.workerListeners.splice(this.workerListeners.indexOf(e),1)}onWorkerMessage(e){var r;let t=e.data;if(t.type==="console")(r=globalThis.workerConsole)==null||r.call(globalThis,t.payload);else if(t.type==="workerTaskId"&&typeof t.id=="number"){let{id:n,error:c,payload:m}=t,p=this.workerTasks.get(n);c!=null?p==null||p.reject(t):p==null||p.resolve(m),this.workerTasks.delete(n)}else for(let n of this.workerListeners)n(t)}};var ne=class{constructor(e,t){l(this,"_x");l(this,"_y");this._x=e,this._y=t}get x(){return this._x}get y(){return this._y}static fromJSON(e){return new ne(e.x,e.y)}toJSONObject(){return{x:this.x,y:this.y}}},We=class{constructor(e,t,r,n){l(this,"_topLeft");l(this,"_topRight");l(this,"_bottomRight");l(this,"_bottomLeft");this._topLeft=e,this._topRight=t,this._bottomRight=r,this._bottomLeft=n}get topLeft(){return this._topLeft}get topRight(){return this._topRight}get bottomRight(){return this._bottomRight}get bottomLeft(){return this._bottomLeft}static fromJSON(e){return new We(ne.fromJSON(e.topLeft),ne.fromJSON(e.topRight),ne.fromJSON(e.bottomRight),ne.fromJSON(e.bottomLeft))}toJSONObject(){return{topLeft:this.topLeft.toJSONObject(),topRight:this.topRight.toJSONObject(),bottomLeft:this.bottomLeft.toJSONObject(),bottomRight:this.bottomRight.toJSONObject()}}},pi=(t=>(t.Pixel="pixel",t.Fraction="fraction",t))(pi||{}),U=class{constructor(e,t){l(this,"_value");l(this,"_unit");this._value=e,this._unit=t}get value(){return this._value}get unit(){return this._unit}static fromJSON(e){return new U(e.value,e.unit)}toJSONObject(){return{unit:this.unit,value:this.value}}},Ce=class{constructor(e,t){l(this,"_x");l(this,"_y");this._x=e,this._y=t}static get zero(){return new Ce(new U(0,"pixel"),new U(0,"pixel"))}get x(){return this._x}get y(){return this._y}static fromJSON(e){return new Ce(U.fromJSON(e.x),U.fromJSON(e.y))}toJSONObject(){return{x:this.x.toJSONObject(),y:this.y.toJSONObject()}}},or=class{constructor(e,t){l(this,"_origin");l(this,"_size");this._origin=e,this._size=t}get origin(){return this._origin}get size(){return this._size}toJSONObject(){return{origin:this.origin.toJSONObject(),size:this.size.toJSONObject()}}},sr=class{constructor(e,t){l(this,"_origin");l(this,"_size");this._origin=e,this._size=t}get origin(){return this._origin}get size(){return this._size}toJSONObject(){return{origin:this._origin.toJSONObject(),size:this._size.toJSONObject()}}},we=class{constructor(e,t){l(this,"_width");l(this,"_height");this._width=e,this._height=t}get width(){return this._width}get height(){return this._height}static fromJSON(e){return new we(U.fromJSON(e.width),U.fromJSON(e.height))}isSameAs(e){return JSON.stringify(this.toJSONObject())===JSON.stringify(e.toJSONObject())}toJSONObject(){return{width:this.width.toJSONObject(),height:this.height.toJSONObject()}}},Ue=class{constructor(e,t){l(this,"_width");l(this,"_height");this._width=e,this._height=t}get width(){return this._width}get height(){return this._height}static fromJSON(e){return new Ue(e.width,e.height)}toJSONObject(){return{height:this.height,width:this.width}}},Qe=class{constructor(e,t){l(this,"_size");l(this,"_aspect");this._size=e,this._aspect=t}get size(){return this._size}get aspect(){return this._aspect}},La=(n=>(n.WidthAndHeight="widthAndHeight",n.WidthAndAspectRatio="widthAndAspectRatio",n.HeightAndAspectRatio="heightAndAspectRatio",n.ShorterDimensionAndAspectRatio="shorterDimensionAndAspectRatio",n))(La||{}),X=class{constructor(){l(this,"_widthAndHeight");l(this,"_widthAndAspectRatio");l(this,"_heightAndAspectRatio");l(this,"_shorterDimensionAndAspectRatio",null)}get widthAndHeight(){return this._widthAndHeight}get widthAndAspectRatio(){return this._widthAndAspectRatio}get heightAndAspectRatio(){return this._heightAndAspectRatio}get shorterDimensionAndAspectRatio(){return this._shorterDimensionAndAspectRatio}get sizingMode(){return this.widthAndAspectRatio?"widthAndAspectRatio":this.heightAndAspectRatio?"heightAndAspectRatio":this.shorterDimensionAndAspectRatio?"shorterDimensionAndAspectRatio":"widthAndHeight"}static sizeWithWidthAndHeight(e){let t=new X;return t._widthAndHeight=e,t}static sizeWithWidthAndAspectRatio(e,t){let r=new X;return r._widthAndAspectRatio=new Qe(e,t),r}static sizeWithHeightAndAspectRatio(e,t){let r=new X;return r._heightAndAspectRatio=new Qe(e,t),r}static sizeWithShorterDimensionAndAspectRatio(e,t){let r=new X;return r._shorterDimensionAndAspectRatio=new Qe(e,t),r}static fromJSON(e){if(e.width&&e.height)return this.sizeWithWidthAndHeight(new we(U.fromJSON(e.width),U.fromJSON(e.height)));if(e.width&&typeof e.aspect=="number")return this.sizeWithWidthAndAspectRatio(U.fromJSON(e.width),e.aspect);if(e.height&&typeof e.aspect=="number")return this.sizeWithHeightAndAspectRatio(U.fromJSON(e.height),e.aspect);if(e.shorterDimension&&typeof e.aspect=="number")return this.sizeWithShorterDimensionAndAspectRatio(U.fromJSON(e.shorterDimension),e.aspect);throw new Error(`SizeWithUnitAndAspectJSON is malformed: ${JSON.stringify(e)}`)}toJSONObject(){var e,t,r,n,c,m,p,f;switch(this.sizingMode){case"widthAndAspectRatio":return{width:(e=this.widthAndAspectRatio)==null?void 0:e.size.toJSONObject(),aspect:(t=this.widthAndAspectRatio)==null?void 0:t.aspect};case"heightAndAspectRatio":return{height:(r=this.heightAndAspectRatio)==null?void 0:r.size.toJSONObject(),aspect:(n=this.heightAndAspectRatio)==null?void 0:n.aspect};case"shorterDimensionAndAspectRatio":return{shorterDimension:(c=this.shorterDimensionAndAspectRatio)==null?void 0:c.size.toJSONObject(),aspect:(m=this.shorterDimensionAndAspectRatio)==null?void 0:m.aspect};default:return{width:(p=this.widthAndHeight)==null?void 0:p.width.toJSONObject(),height:(f=this.widthAndHeight)==null?void 0:f.height.toJSONObject()}}}},ye=class{constructor(e,t,r,n){l(this,"_left");l(this,"_right");l(this,"_top");l(this,"_bottom");this._left=e,this._top=t,this._right=r,this._bottom=n}static get zero(){return new ye(new U(0,"pixel"),new U(0,"pixel"),new U(0,"pixel"),new U(0,"pixel"))}get left(){return this._left}get right(){return this._right}get top(){return this._top}get bottom(){return this._bottom}static fromJSON(e){return new ye(U.fromJSON(e.left),U.fromJSON(e.top),U.fromJSON(e.right),U.fromJSON(e.bottom))}toJSONObject(){return{left:this.left.toJSONObject(),right:this.right.toJSONObject(),top:this.top.toJSONObject(),bottom:this.bottom.toJSONObject()}}},V=class{constructor(e){l(this,"hexadecimalString");this.hexadecimalString=e}get redComponent(){return this.hexadecimalString.slice(0,2)}get greenComponent(){return this.hexadecimalString.slice(2,4)}get blueComponent(){return this.hexadecimalString.slice(4,6)}get alphaComponent(){return this.hexadecimalString.slice(6,8)}get red(){return V.hexToNumber(this.redComponent)}get green(){return V.hexToNumber(this.greenComponent)}get blue(){return V.hexToNumber(this.blueComponent)}get alpha(){return V.hexToNumber(this.alphaComponent)}static fromHex(e){return new V(V.normalizeHex(e))}static fromRGBA(e,t,r,n=1){let c=[e,t,r,this.normalizeAlpha(n)].reduce((m,p)=>m+this.numberToHex(p),"");return new V(c)}static areEquals(e,t){return e==null||t==null?!1:e.hexadecimalString===t.hexadecimalString}static hexToNumber(e){return Number.parseInt(e,16)}static fromJSON(e){return V.fromHex(e)}static numberToHex(e){let r=Math.round(e).toString(16);return r.length===1&&(r=`0${r}`),r.toUpperCase()}static normalizeHex(e){let t=e;return t.startsWith("#")&&(t=t.slice(1)),t.length<6&&(t=[...t].map(r=>r+r).join("")),t.length===6&&(t+="FF"),t.toUpperCase()}static normalizeAlpha(e){return e>0&&e<=1?255*e:e}withAlpha(e){let t=this.hexadecimalString.slice(0,6)+V.numberToHex(V.normalizeAlpha(e));return V.fromHex(t)}toJSON(){return this.hexadecimalString}},lr=(c=>(c.Unknown="unknown",c.Portrait="portrait",c.PortraitUpsideDown="portraitUpsideDown",c.LandscapeRight="landscapeRight",c.LandscapeLeft="landscapeLeft",c))(lr||{}),xa=(p=>(p.None="none",p.Horizontal="horizontal",p.LeftToRight="leftToRight",p.RightToLeft="rightToLeft",p.Vertical="vertical",p.TopToBottom="topToBottom",p.BottomToTop="bottomToTop",p))(xa||{}),dr=(b=>(b.TopLeft="topLeft",b.TopCenter="topCenter",b.TopRight="topRight",b.CenterLeft="centerLeft",b.Center="center",b.CenterRight="centerRight",b.BottomLeft="bottomLeft",b.BottomCenter="bottomCenter",b.BottomRight="bottomRight",b))(dr||{});var _a=(t=>(t.Minimal="minimal",t.Extended="extended",t))(_a||{}),Dt=class{constructor(){l(this,"type","tapToFocus")}toJSONObject(){return{type:this.type}}},It=class{constructor(){l(this,"type","swipeToZoom")}toJSONObject(){return{type:this.type}}};var Ea=(t=>(t.Rounded="rounded",t.Square="square",t))(Ea||{}),Da=(t=>(t.Light="light",t.Bold="bold",t))(Da||{}),Ia=(e=>(e.Animated="animated",e))(Ia||{}),je=class{constructor(e){l(this,"_isLooping",!1);this._isLooping=e}get isLooping(){return this._isLooping}static fromJSON(e){return e===null?null:new je(e.looping)}toJSONObject(){return{looping:this.isLooping}}};var cr="data:audio/mp3;base64,//vkwAAAP+X9CbWNgAauxig3N9AC0BJQKbbcjbTLG7sPafMNYRUWovMBAT4SPNsTi0DPk8sm0xGCSlL8tmWXLjoNGQGBq6iaGSgkIMqPjRkYz4yMgCiQPMzQTbGQ1g+GjQwsdMhGR4PAAgYwNGLBQKE2vAQIMOEAEKKKmFipjIuBhtMAEAhhQMiqYybmps5ubeaqNmQKx19yfflnMr4KQjLkw1xiNeUDNAQxc5N0eDclwz4cQdMLETEw0IB0nDEBgzEtMlFUCYMAC6CHMw0TMPARgEMjJzIxcMD2EFsEwHUbuWzMIBgMENAYGmOy+aijpoqMkgNr8SQwAAAgMYWYMEGDACakpa2zt+6BhiD6RbT5plCpFiNclkw4DDGuSlW9AOnXBRcMvGuuL6w5Xp4xGJZhuvTyt22IPxQxuX3H8hyhaw7ksxr591hT55/hhhUpJfT9wwww//1hzdent1I3L7esOfnnhhz888888Pzz/CksbpKTD//XP1////rC3mUBBYOHBOH/DH///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////6SSgIJJACZKKSbbTZkdMhgouYiADgGla1YoADHj8w0wVoJAheaFZjIwabFkoCYSWGqiYGeBRG58cmZAmm+SShC/mKgIGCQXA4NQKCkFKBJcf4KAtdrWiYA4KUt99hYF0+AwAASB4sA5g+BLcmlPOFABBgA9//LymAQaGJwVEwzGCQGKLiwGmEqomwQTggFSgFCzzAjBN4zQwDXpXB/g4H0AjBplYRPZS1f5UARj8VdKgYddIQTW5z9TZgmAYQEjOKWB0xE5y4IjBEAATRaq3I06BIAJEEc9z/4zwSAtQRxnEiZe0wbB8mAtQpdC352rcpqxhMD0AxGitf//5dv/+PsEQ5hgDpjpGO6zV4lLAMC6+lYHaiSy0mYBgV9soKC4EFATRmAv/FWnf//BUA4Cx/Dfedwy53//uH8//1zCvb5/91/P//3f///9f///3P///5z///33//9c///9d///8+f//qv+T//////////////////////////////////////////////////////////////////////////////////////////////8//vkwAAAP/IJR/2LABatraj03tGyd3eGQSE7ITLZBQqwCm0WuxmTMqSuFTF/lK2sgw4s1WUFfb4DA2CgDC8vgDKqAoBICACgJDJF8OVICTxNOjsvRIaJ9BQBRPPX9ZqTVRsOkQFAEAeAANECQVzUWaRKZu3/kNAwAACCx4ZUoot/5iQEXKIDAYQAXAYIwBClisXWb+o4kkUiBABASFFdT/6LVmIZBDVoGDoDQN4h3Oil/+ovByZdRU7//RJknALAdM3R//9P//+///9v//1n/+n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wG/oKujJksi/rUYjCkITgji8ApTpMA8WGQAEEGGFoNIysqiNA0V2JZB9nXN93l/1hwBk8sf/////9XbsfJAT+BuhoL1xJCJmZgP6//kYA80JwJhB//oJkMI8DGqg5hu3/1tUUwEGSfQ//2c1AO9kI///rD8Pb/+kCJOXEv9X//9H/J/9P////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+//vkwAAAP+YJRaf2jdavQWj9jtG6wG3oKujJkknx//eSDgyw6DrGIANugTAVDxKABgLIRl8Dxc9sUBxhW9wIckdi/n3vO/u4WAYiG//////8scsqs1AIyARgseRhmAzk1uGxFUX/8mQAR4byUCkj/92PivAAzRKJeRS//rOAgEJL//7G4BZEhWf//qDJ/f/+UQMcCL6L//+3//9v//1P//+s9/yP/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////7PDu6iRL7CpNL+ENxoCGAzIZQFgJZqgcEHDy1BAYKHQIGBIAOyEBAY804b3AYQAArRB8RMDwBQXLQNpeCoAmA4FmBYEmA4Boby6G3LdsCgsPApKH8hyxqpSUnK8NxvP867/ykw9JYxGAD5ZSRyDCmmm9ab1FwAQmJzWamjLTTTpppugggPshoAzQFB6zdNPQTegggomyfNCiBmTocAboGBcLjoFwuIJl8ny+am4e2OeBtzAbYVEKkO/fzMPy+m9BDQbVDiADTpBDfq3b/v///f//+///89/1f/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+//vkwAAAP+VtQaxrTZavI6X9HNG022tgBmsJk1udMxFAUq4uaYimQqgKQypiyzlA0D7pbA4NIQQHRTOIPARqQsS0EArr7P8u4woAu1B65UJJbF3p5pIWBhg2W2ZVKqWzhWjUaz3j9NM7Bg0z0kBfWJSqzZhqeyy/9////wEXuWdMzuWVNl+NXL8cccLVRpZiSgYKnsv3jjj+OOP5fWziT9gICoLFZTZ5WpaXmVNTWqtV2rbhCIucSSAnsoyprOWWWW8ccfxxx99UhYO79bL8ef+XP/uu0CVRhxTNZc2Win///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4ADvEGILtrY23+kdZZESJEAEDABkvsj2LAiI05IwYUJFPzapY1hjS5VrXd44/+4zey7l+su/vHm0DEqDlh8ABRIDJOwNoLC14UOQo8CUi+aotV90ThtS//1GRdMDb//6T//9SzAixu3+R/4lR/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+//vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHMTBfU2NhbmRpdF9CYXJjb2RlLUNhcHR1cmVfU3VjU29ub25hdXQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAyMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf8=",ur="PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTU4IDEwSDI4LjZMMjIuOS41QTEgMSAwIDAgMCAyMiAwSDJhMiAyIDAgMCAwLTIgMnY0NmE2IDYgMCAwIDAgNiA2aDQ4YTYgNiAwIDAgMCA2LTZWMTJhMiAyIDAgMCAwLTItMlptLTM3LjUgOGE0LjUgNC41IDAgMSAxIDAgOSA0LjUgNC41IDAgMCAxIDAtOVptMjcuNCAyNy41YTEgMSAwIDAgMS0uOS41SDEzYTEgMSAwIDAgMS0uOC0xLjVsNy0xMWExIDEgMCAwIDEgMS42LS4xbDUgNiA5LjQtMTVhMSAxIDAgMCAxIDEuMy0uM2wuNC40IDExIDIwYTEgMSAwIDAgMSAwIDFaIi8+PC9zdmc+",mr="PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNjQuNjIgMTIuMjIiPjxwYXRoIGQ9Ik0xMDEuNTUuOTFhMi4yOCAyLjI4IDAgMCAwLTEuOTcgMS43MSAyLjcyIDIuNzIgMCAwIDAgMCAxLjExIDIuNDIgMi40MiAwIDAgMCAxLjI0IDEuNTRjLjQ2LjIzLjUuMjQgMS43OS4yNmwxLjE1LjAyLjIyLjFhMS41MSAxLjUxIDAgMCAxIC44IDEuNyAxLjQxIDEuNDEgMCAwIDEtMS4wNiAxLjA4Yy0uMTIuMDMtLjguMDQtMi4wOS4wNGE3Ljc0IDcuNzQgMCAwIDAtMS45My4wNSAzLjE5IDMuMTkgMCAwIDAgLjAxLjc3IDE0LjY5IDE0LjY5IDAgMCAwIDIuMS4wM2wyLjA4LS4wMS4yNi0uMWEyLjI3IDIuMjcgMCAwIDAgMS41LTEuNzQgMi41NSAyLjU1IDAgMCAwLS4wOC0xLjIgMi40IDIuNCAwIDAgMC0xLjE0LTEuMzZjLS40Ni0uMjItLjU1LS4yMy0xLjY1LS4yMy0xLjMyIDAtMS41My0uMDYtMS45NS0uNDdhMS40OCAxLjQ4IDAgMCAxLS40NS0uOTQgMS40MyAxLjQzIDAgMCAxIC45NC0xLjRjLjItLjA4LjItLjA4IDIuMDktLjFsMS45LS4wMXYtLjQxYy4wMi0uMzEgMC0uNDItLjAyLS40NC0uMDYtLjA0LTMuNDMtLjAzLTMuNzQgMFptMjAuMDIuMTFjLS4zNCAxLjI0LTIuMiA4LjI3LTIuMTkgOC4yOGExLjg2IDEuODYgMCAwIDAgLjQ0LjAzYy4zOCAwIC40MyAwIC40NC0uMDZsMS0zLjcyLjk4LTMuNyAxIDMuNjcgMSAzLjc1YzAgLjAzLjA2LjA2LjQ1LjA2aC40NWwtLjAyLS4xYy0uMDQtLjE1LTIuMTMtOC0yLjE5LTguMThsLS4wNS0uMTdoLTEuMjdsLS4wNC4xNFptOC4yMyA0LjA4VjkuM2guODNsLjAyLTMuNzcuMDEtMy43NyAyLjIgMy43NyAyLjIgMy43Ny41Mi4wMS41Mi4wMVY1LjEyTDEzNi4wOS45aC0uODZsLS4wMiAzLjQzLS4wMiAzLjQ0LTIuMDItMy40NEwxMzEuMTYuOWwtLjY5LS4wMWgtLjY4Wk0xNTIuNzkuOTNjLS4wMy4wNy0uMDMgOC4yOCAwIDguMzUuMDEuMDQuMDguMDUuNDMuMDVoLjRWLjg4aC0uNGMtLjM1IDAtLjQyLjAxLS40My4wNVptNS4yMi4zNnYuNDJoMi44NHYzLjhsLjAyIDMuOGguMzhhMS4wNSAxLjA1IDAgMCAwIC40Mi0uMDJjLjA0LS4wNC4wNC0uNjMuMDQtMy44MVYxLjdoMi44Vi44OGgtNi41Wk0xMTEuODUuOTZhMy4yNyAzLjI3IDAgMCAwLTIuMDQgMS42NCA0Ljk4IDQuOTggMCAwIDAtLjU1IDEuNzkgOC4yNCA4LjI0IDAgMCAwIC4wOCAyLjA2IDMuMzUgMy4zNSAwIDAgMCAyLjI4IDIuNzkgNy44NSA3Ljg1IDAgMCAwIDIuMS4wN2gxLjgzbC4wMS0uNDIuMDEtLjQyaC0xLjcxYy0xLjkgMC0xLjk0IDAtMi4zNS0uMjFhMi44NSAyLjg1IDAgMCAxLTEuMzUtMi4xIDcuMTcgNy4xNyAwIDAgMS0uMDMtMS43NyAzLjA4IDMuMDggMCAwIDEgMS43LTIuNTNjLjE4LS4wNy4yMS0uMDcgMS45NC0uMWgxLjc1Vi45MmgtMS43NGExNS45NyAxNS45NyAwIDAgMC0xLjkzLjA0Wm0yOS41NyA0LjE1djQuMmwxLjguMDFhOS41NiA5LjU2IDAgMCAwIDIuNjQtLjEzYzEuNTgtLjQ1IDIuNDktMi4xIDIuNDEtNC4zOGE0LjMxIDQuMzEgMCAwIDAtLjQzLTEuODYgMy43NiAzLjc2IDAgMCAwLTEuODctMS44NGMtLjUtLjE5LS41OC0uMi0yLjY2LS4yaC0xLjl2NC4yWm0zLjc5LTMuM2EyLjgxIDIuODEgMCAwIDEgMi4wNCAyLjA1IDMuNDkgMy40OSAwIDAgMSAuMTYgMS4zNkE0LjQ4IDQuNDggMCAwIDEgMTQ3IDcuMWEyLjIzIDIuMjMgMCAwIDEtMS4wNSAxLjEzYy0uNDUuMjItLjQ2LjIyLTIuMTUuMjRoLTEuNTN2LTYuN2gxLjM2Yy44IDAgMS40NS4wMiAxLjU4LjA0WiIgZmlsbD0iIzEyMTYxOSIgc3Ryb2tlPSIjMTIxNjE5IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iLjIiLz48cGF0aCBkPSJNNS45IDIuOTRoMS4xN2EzLjI3IDMuMjcgMCAwIDAtLjI5LTEuMzJBMi41NyAyLjU3IDAgMCAwIDYuMDUuNyAzIDMgMCAwIDAgNC45OC4xNyA0Ljk2IDQuOTYgMCAwIDAgMy42NSAwYTQuNzYgNC43NiAwIDAgMC0xLjI0LjE3IDMuNDEgMy40MSAwIDAgMC0xLjA4LjQ5IDIuNSAyLjUgMCAwIDAtLjc2Ljg0QTIuNDYgMi40NiAwIDAgMCAuMyAyLjcyYTIuMDMgMi4wMyAwIDAgMCAuMjUgMS4wNiAyLjA2IDIuMDYgMCAwIDAgLjY4LjY5IDMuOTMgMy45MyAwIDAgMCAuOTUuNDNxLjUzLjE2IDEuMDkuMjhsMS4wOC4yNGE0Ljk1IDQuOTUgMCAwIDEgLjk2LjMgMS44NiAxLjg2IDAgMCAxIC42OC41IDEuMTcgMS4xNyAwIDAgMSAuMjUuNzcgMS41MiAxLjUyIDAgMCAxLS4yMS44NCAxLjUxIDEuNTEgMCAwIDEtLjU1LjUgMi40NyAyLjQ3IDAgMCAxLS43Ni4yOCA0LjYxIDQuNjEgMCAwIDEtLjgzLjA3IDMuOTcgMy45NyAwIDAgMS0xLjAyLS4xMyAyLjUyIDIuNTIgMCAwIDEtLjg2LS40IDIuMDcgMi4wNyAwIDAgMS0uNi0uNyAyLjEgMi4xIDAgMCAxLS4yMy0xSDBBMy4yNiAzLjI2IDAgMCAwIC4zIDcuOWEyLjggMi44IDAgMCAwIC44NCAxLjAxIDMuNjQgMy42NCAwIDAgMCAxLjIyLjYgNS40NCA1LjQ0IDAgMCAwIDEuNDguMiA1LjY0IDUuNjQgMCAwIDAgMS4yOC0uMTYgMy43IDMuNyAwIDAgMCAxLjE2LS40OCAyLjczIDIuNzMgMCAwIDAgLjg1LS44NiAyLjMzIDIuMzMgMCAwIDAgLjMzLTEuMjYgMi4zMyAyLjMzIDAgMCAwLS4yNS0xLjE1IDIuMjYgMi4yNiAwIDAgMC0uNjgtLjc1IDMuNTggMy41OCAwIDAgMC0uOTUtLjQ4cS0uNTQtLjE4LTEuMDktLjN0LTEuMDgtLjI0YTUuNjggNS42OCAwIDAgMS0uOTYtLjI4IDEuODggMS44OCAwIDAgMS0uNjgtLjQ0Ljk3Ljk3IDAgMCAxLS4yNS0uNyAxLjUgMS41IDAgMCAxIC4xNy0uNzUgMS4zNiAxLjM2IDAgMCAxIC40Ny0uNSAyLjA0IDIuMDQgMCAwIDEgLjY3LS4yNSAzLjc4IDMuNzggMCAwIDEgLjc3LS4wOCAyLjYyIDIuNjIgMCAwIDEgMS41OC40NSAxLjkzIDEuOTMgMCAwIDEgLjcyIDEuNDVabTkuMzkgMmgxLjE0YTIuNjYgMi42NiAwIDAgMC0uMzEtMS4wNCAyLjMgMi4zIDAgMCAwLS42My0uNzIgMi42MSAyLjYxIDAgMCAwLS44OS0uNDIgNC4wNiA0LjA2IDAgMCAwLTEuMDctLjE0IDMuMjUgMy4yNSAwIDAgMC0xLjM5LjI4IDIuNzggMi43OCAwIDAgMC0xIC43NyAzLjI2IDMuMjYgMCAwIDAtLjU5IDEuMTQgNC45MyA0LjkzIDAgMCAwLS4yIDEuNDIgNC41MyA0LjUzIDAgMCAwIC4yIDEuMzggMy4wNCAzLjA0IDAgMCAwIC42IDEuMDkgMi42MyAyLjYzIDAgMCAwIDEgLjcgMy41IDMuNSAwIDAgMCAxLjM1LjI0IDIuOTIgMi45MiAwIDAgMCAyLjA0LS42NyAzLjEgMy4xIDAgMCAwIC45My0xLjkzaC0xLjEzYTEuOTQgMS45NCAwIDAgMS0uNTcgMS4yMSAxLjggMS44IDAgMCAxLTEuMjguNDMgMS44MyAxLjgzIDAgMCAxLS45LS4yIDEuNzUgMS43NSAwIDAgMS0uNi0uNTYgMi40NCAyLjQ0IDAgMCAxLS4zNS0uNzggMy43NCAzLjc0IDAgMCAxLS4xMS0uOTEgNC41NyA0LjU3IDAgMCAxIC4xLS45OSAyLjQ2IDIuNDYgMCAwIDEgLjM1LS44NCAxLjc4IDEuNzggMCAwIDEgLjY0LS41OCAyLjA2IDIuMDYgMCAwIDEgMS0uMjIgMS42OCAxLjY4IDAgMCAxIDEuMTIuMzUgMS42OCAxLjY4IDAgMCAxIC41NS45OVpNMjUuNiA5LjQ4YTEuNTYgMS41NiAwIDAgMS0uOC4xNy45NS45NSAwIDAgMS0uNjgtLjI1IDEuMDQgMS4wNCAwIDAgMS0uMjUtLjc4IDIuNjQgMi42NCAwIDAgMS0xLjA2Ljc4IDMuNSAzLjUgMCAwIDEtMS4zLjI1IDMuNSAzLjUgMCAwIDEtLjg3LS4xIDIuMDEgMi4wMSAwIDAgMS0uNy0uMzMgMS41NiAxLjU2IDAgMCAxLS40OC0uNTggMS45NSAxLjk1IDAgMCAxLS4xNy0uODYgMS45NyAxLjk3IDAgMCAxIC4yLS45NCAxLjcgMS43IDAgMCAxIC41LS41OSAyLjM1IDIuMzUgMCAwIDEgLjczLS4zNXEuNC0uMTEuODQtLjIuNDUtLjA4Ljg2LS4xM2E0LjgyIDQuODIgMCAwIDAgLjcyLS4xMyAxLjIgMS4yIDAgMCAwIC41LS4yNS42LjYgMCAwIDAgLjE4LS40NyAxLjEgMS4xIDAgMCAwLS4xNC0uNTkuOTQuOTQgMCAwIDAtLjM1LS4zMyAxLjQzIDEuNDMgMCAwIDAtLjQ4LS4xNiAzLjYzIDMuNjMgMCAwIDAtLjUzLS4wNCAyLjM0IDIuMzQgMCAwIDAtMS4xNy4yNyAxLjEzIDEuMTMgMCAwIDAtLjUgMWgtMS4xYTIuMzkgMi4zOSAwIDAgMSAuMjYtMS4wNSAxLjk3IDEuOTcgMCAwIDEgLjYyLS43IDIuNjIgMi42MiAwIDAgMSAuOS0uMzggNC43IDQuNyAwIDAgMSAxLjA3LS4xMiA2LjMgNi4zIDAgMCAxIC45LjA3IDIuMzYgMi4zNiAwIDAgMSAuOC4yNiAxLjU2IDEuNTYgMCAwIDEgLjYuNTcgMS44MSAxLjgxIDAgMCAxIC4yMS45NXYzLjQ1YTIuNTkgMi41OSAwIDAgMCAuMDUuNThxLjA0LjE5LjMuMTlhMS4xIDEuMSAwIDAgMCAuMzQtLjA3Wm0tMS44LTMuNDVhMS4zOCAxLjM4IDAgMCAxLS41NC4yM3EtLjMzLjA3LS43LjEydC0uNzUuMWEyLjc1IDIuNzUgMCAwIDAtLjY4LjE4IDEuMjMgMS4yMyAwIDAgMC0uNDguMzcgMS4wNCAxLjA0IDAgMCAwLS4yLjY2LjkuOSAwIDAgMCAuMTIuNDYuOTIuOTIgMCAwIDAgLjI4LjMgMS4yIDEuMiAwIDAgMCAuNDEuMTggMi4yNyAyLjI3IDAgMCAwIC41LjA1IDIuNjIgMi42MiAwIDAgMCAuOTMtLjE1IDEuOTcgMS45NyAwIDAgMCAuNjQtLjM4IDEuNDkgMS40OSAwIDAgMCAuMzctLjUgMS4yNSAxLjI1IDAgMCAwIC4xMS0uNVptNC43OC0zLjI1VjkuNWgxLjFWNS43YTIuNzIgMi43MiAwIDAgMSAuMTItLjg0IDEuOSAxLjkgMCAwIDEgLjM3LS42NiAxLjY1IDEuNjUgMCAwIDEgLjYyLS40NSAyLjI1IDIuMjUgMCAwIDEgLjg4LS4xNSAxLjM1IDEuMzUgMCAwIDEgMSAuMzYgMS4zMyAxLjMzIDAgMCAxIC4zNi45OVY5LjVoMS4xVjUuMDhhNC4xNiA0LjE2IDAgMCAwLS4xLTEgMS44OCAxLjg4IDAgMCAwLS40LS43NyAxLjgyIDEuODIgMCAwIDAtLjctLjUgMi45MiAyLjkyIDAgMCAwLTEuMS0uMTggMi4zMyAyLjMzIDAgMCAwLTIuMTkgMS4yMmgtLjAzVjIuNzhabTkuMTggMFY5LjVoMS4xVjUuN2EyLjcyIDIuNzIgMCAwIDEgLjEyLS44NCAxLjkgMS45IDAgMCAxIC4zNy0uNjYgMS42NSAxLjY1IDAgMCAxIC42Mi0uNDUgMi4yNSAyLjI1IDAgMCAxIC44OC0uMTUgMS4zNSAxLjM1IDAgMCAxIDEgLjM3IDEuMzMgMS4zMyAwIDAgMSAuMzYuOThWOS41aDEuMVY1LjA4YTQuMTYgNC4xNiAwIDAgMC0uMS0xIDEuODggMS44OCAwIDAgMC0uNC0uNzcgMS44MiAxLjgyIDAgMCAwLS43LS41IDIuOTIgMi45MiAwIDAgMC0xLjEtLjE4IDIuMzMgMi4zMyAwIDAgMC0yLjE5IDEuMjJoLS4wM1YyLjc4Wm0xMC4zNC0xLjJWLjIxaC0xLjF2MS4zNVptLTEuMSAxLjJWOS41aDEuMVYyLjc4Wm00Ljc3IDBWOS41aDEuMVY1LjdhMi43MiAyLjcyIDAgMCAxIC4xMy0uODQgMS45IDEuOSAwIDAgMSAuMzctLjY2IDEuNjUgMS42NSAwIDAgMSAuNjItLjQ1IDIuMjUgMi4yNSAwIDAgMSAuODctLjE1IDEuMzUgMS4zNSAwIDAgMSAxIC4zNiAxLjMzIDEuMzMgMCAwIDEgLjM3Ljk5VjkuNWgxLjFWNS4wOGE0LjE2IDQuMTYgMCAwIDAtLjExLTEgMS44OCAxLjg4IDAgMCAwLS4zOS0uNzcgMS44MiAxLjgyIDAgMCAwLS43MS0uNSAyLjkyIDIuOTIgMCAwIDAtMS4xLS4xOCAyLjMzIDIuMzMgMCAwIDAtMi4xOSAxLjIyaC0uMDJWMi43OFptMTQuOTggNi4xNVYyLjc4aC0xLjA0di45NmgtLjAxYTEuOTcgMS45NyAwIDAgMC0uODQtLjg0IDIuNDggMi40OCAwIDAgMC0xLjE3LS4yOCAzIDMgMCAwIDAtMS40Ni4zNCAyLjg1IDIuODUgMCAwIDAtLjk3Ljg0IDMuMzUgMy4zNSAwIDAgMC0uNTIgMS4xNSA1LjEgNS4xIDAgMCAwLS4xNSAxLjIyIDQuNDUgNC40NSAwIDAgMCAuMTkgMS4zMSAzLjEzIDMuMTMgMCAwIDAgLjU2IDEuMDggMi43NSAyLjc1IDAgMCAwIC45NC43MyAyLjk2IDIuOTYgMCAwIDAgMS4zMS4yOCAyLjY5IDIuNjkgMCAwIDAgMS4yMy0uMyAxLjg2IDEuODYgMCAwIDAgLjg2LS45MWguMDN2LjQ0YTQuNDcgNC40NyAwIDAgMS0uMTIgMS4wMyAyLjE1IDIuMTUgMCAwIDEtLjM1LjggMS43MyAxLjczIDAgMCAxLS42My41MiAyLjA1IDIuMDUgMCAwIDEtLjkyLjE5IDIuOTggMi45OCAwIDAgMS0uNTctLjA2IDIuMDggMi4wOCAwIDAgMS0uNTUtLjIgMS4zOCAxLjM4IDAgMCAxLS40My0uMzMuODIuODIgMCAwIDEtLjItLjVoLTEuMWExLjc0IDEuNzQgMCAwIDAgLjMuOTIgMi4wNiAyLjA2IDAgMCAwIC42NS42IDIuOTMgMi45MyAwIDAgMCAuODkuMzUgNC41NyA0LjU3IDAgMCAwIC45NS4xQTMuMDcgMy4wNyAwIDAgMCA2NiAxMS40YTMuNTQgMy41NCAwIDAgMCAuNzYtMi40N1ptLTMuMS0uMzNhMS42OSAxLjY5IDAgMCAxLS45LS4yMiAxLjc2IDEuNzYgMCAwIDEtLjYtLjYgMi41OSAyLjU5IDAgMCAxLS4zLS44MyA0LjYzIDQuNjMgMCAwIDEtLjEtLjkxIDMuOCAzLjggMCAwIDEgLjExLS45MiAyLjI5IDIuMjkgMCAwIDEgLjM1LS43OCAxLjc3IDEuNzcgMCAwIDEgLjYyLS41NCAxLjkgMS45IDAgMCAxIC45MS0uMiAxLjc1IDEuNzUgMCAwIDEgLjg5LjIgMS43MiAxLjcyIDAgMCAxIC41OS41NiAyLjQzIDIuNDMgMCAwIDEgLjMzLjc3IDMuNjggMy42OCAwIDAgMSAuMS44NyA0LjA2IDQuMDYgMCAwIDEtLjExLjk0IDIuNzMgMi43MyAwIDAgMS0uMzUuODQgMS44MSAxLjgxIDAgMCAxLS42MS42IDEuOCAxLjggMCAwIDEtLjkzLjIyWk03NS45Ny4yMlY5LjVoMS4xdi0uOWguMDNhMS43OCAxLjc4IDAgMCAwIC40NS41IDIuMzYgMi4zNiAwIDAgMCAuNTYuMzIgMy4wNyAzLjA3IDAgMCAwIC42LjE3IDMuMzIgMy4zMiAwIDAgMCAuNTUuMDUgMy4xMiAzLjEyIDAgMCAwIDEuMzYtLjI3IDIuNyAyLjcgMCAwIDAgLjk2LS43NCAzLjE4IDMuMTggMCAwIDAgLjU3LTEuMTIgNC43NCA0Ljc0IDAgMCAwIC4yLTEuMzUgNC42IDQuNiAwIDAgMC0uMi0xLjM1IDMuNDIgMy40MiAwIDAgMC0uNTgtMS4xMyAyLjc2IDIuNzYgMCAwIDAtLjk2LS43NyAzLjAzIDMuMDMgMCAwIDAtMS4zNi0uMjkgMy4yIDMuMiAwIDAgMC0xLjI5LjI2IDEuNjUgMS42NSAwIDAgMC0uODYuODFoLS4wMlYuMjJabTUuMiA1Ljg2YTQuNDIgNC40MiAwIDAgMS0uMS45NyAyLjU0IDIuNTQgMCAwIDEtLjM0LjgzIDEuNzggMS43OCAwIDAgMS0uNjEuNTggMS44OSAxLjg5IDAgMCAxLS45Ni4yMiAyLjA1IDIuMDUgMCAwIDEtLjk3LS4yMSAxLjkgMS45IDAgMCAxLS42Ni0uNTcgMi4zNyAyLjM3IDAgMCAxLS4zNy0uOCAzLjg3IDMuODcgMCAwIDEtLjEyLS45NiAzLjkgMy45IDAgMCAxIC4xMS0uOTMgMi40MiAyLjQyIDAgMCAxIC4zNi0uOCAxLjkgMS45IDAgMCAxIC42NC0uNTkgMS45IDEuOSAwIDAgMSAuOTUtLjIyIDEuOTcgMS45NyAwIDAgMSAuOTMuMiAxLjg1IDEuODUgMCAwIDEgLjY1LjU3IDIuNDcgMi40NyAwIDAgMSAuMzcuOCAzLjQ0IDMuNDQgMCAwIDEgLjEyLjkxWm03LjA2IDQuMzJhNy4wMyA3LjAzIDAgMCAxLS4zOC44NCAyLjI3IDIuMjcgMCAwIDEtLjQyLjU1IDEuNDEgMS40MSAwIDAgMS0uNS4zMSAxLjk1IDEuOTUgMCAwIDEtLjY1LjEgMi45NSAyLjk1IDAgMCAxLS4zOS0uMDMgMS44NCAxLjg0IDAgMCAxLS4zNy0uMDl2LTEuMDJhMS44NiAxLjg2IDAgMCAwIC4zMy4xMSAxLjQgMS40IDAgMCAwIC4zMi4wNS45NS45NSAwIDAgMCAuNTYtLjE2IDEgMSAwIDAgMCAuMzQtLjQ2bC40Ni0xLjE0LTIuNjctNi42OGgxLjI1bDEuOTcgNS41aC4wMkw5MCAyLjc4aDEuMTdaIiBmaWxsPSIjMTIxNjE5Ii8+PC9zdmc+",pr="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var gi=class{static fromJSON(e){return(e==null?void 0:e.type)==="tapToFocus"?new Dt:null}},fi=class{static fromJSON(e){return(e==null?void 0:e.type)==="swipeToZoom"?new It:null}};function hi(s){let e="document"in globalThis?globalThis.document:void 0,t=e==null?void 0:e.createRange().createContextualFragment(s);if(!!t)return t.firstElementChild}function Oa(s){var e;return{Camera:{Settings:{preferredResolution:s.Camera.Settings.preferredResolution,zoomFactor:s.Camera.Settings.zoomFactor,zoomGestureZoomFactor:s.Camera.Settings.zoomGestureZoomFactor,focusGestureStrategy:s.Camera.Settings.focusGestureStrategy},defaultPosition:(e=s.Camera.defaultPosition)!=null?e:null,availablePositions:s.Camera.availablePositions},SingleImageUploader:{Settings:{iconElement:hi(s.SingleImageUploader.Settings.iconElement),informationElement:hi(s.SingleImageUploader.Settings.informationElement),buttonElement:hi(s.SingleImageUploader.Settings.buttonElement),containerStyle:s.SingleImageUploader.Settings.containerStyle,iconStyle:s.SingleImageUploader.Settings.iconStyle,informationStyle:s.SingleImageUploader.Settings.informationStyle,buttonStyle:s.SingleImageUploader.Settings.buttonStyle}},DataCaptureView:{scanAreaMargins:ye.fromJSON(JSON.parse(s.DataCaptureView.scanAreaMargins)),pointOfInterest:Ce.fromJSON(JSON.parse(s.DataCaptureView.pointOfInterest)),logoStyle:s.DataCaptureView.logoStyle,logoAnchor:s.DataCaptureView.logoAnchor,logoOffset:Ce.fromJSON(JSON.parse(s.DataCaptureView.logoOffset)),focusGesture:gi.fromJSON(JSON.parse(s.DataCaptureView.focusGesture)),zoomGesture:fi.fromJSON(JSON.parse(s.DataCaptureView.zoomGesture)),cameraRecoveryText:s.DataCaptureView.cameraRecoveryText},LaserlineViewfinder:Object.keys(s.LaserlineViewfinder.styles).reduce((t,r)=>{let n=s.LaserlineViewfinder.styles[r];return t.styles[r]={width:U.fromJSON(JSON.parse(n.width)),enabledColor:V.fromJSON(n.enabledColor),disabledColor:V.fromJSON(n.disabledColor),style:n.style},t},{defaultStyle:s.LaserlineViewfinder.defaultStyle,styles:{}}),RectangularViewfinder:Object.keys(s.RectangularViewfinder.styles).reduce((t,r)=>{let n=s.RectangularViewfinder.styles[r];return t.styles[r]={size:X.fromJSON(JSON.parse(n.size)),color:V.fromJSON(n.color),style:n.style,lineStyle:n.lineStyle,dimming:Number.parseFloat(n.dimming.toString()),animation:je.fromJSON(JSON.parse(n.animation))},t},{defaultStyle:s.RectangularViewfinder.defaultStyle,styles:{}}),AimerViewfinder:{frameColor:V.fromJSON(s.AimerViewfinder.frameColor),dotColor:V.fromJSON(s.AimerViewfinder.dotColor)},Brush:{fillColor:V.fromJSON(s.Brush.fillColor),strokeColor:V.fromJSON(s.Brush.strokeColor),strokeWidth:s.Brush.strokeWidth}}}var R=Oa({DataCaptureView:{focusGesture:"null",zoomGesture:"null",logoAnchor:"bottomRight",logoStyle:"extended",logoOffset:JSON.stringify({x:{value:0,unit:"fraction"},y:{value:0,unit:"fraction"}}),pointOfInterest:JSON.stringify({x:{value:.5,unit:"fraction"},y:{value:.5,unit:"fraction"}}),scanAreaMargins:JSON.stringify({left:{value:0,unit:"fraction"},right:{value:0,unit:"fraction"},top:{value:0,unit:"fraction"},bottom:{value:0,unit:"fraction"}}),cameraRecoveryText:"Tap/click to resume scanning"},Camera:{Settings:{preferredResolution:"auto",zoomFactor:1,focusGestureStrategy:"manualUntilCapture",zoomGestureZoomFactor:2},defaultPosition:"worldFacing",availablePositions:["worldFacing","userFacing"]},SingleImageUploader:{Settings:{iconElement:atob(ur),informationElement:"<p>Analyze an image from your device.</p>",buttonElement:"<div>Choose an Image</div>",containerStyle:{backgroundColor:"#FFFFFF"},iconStyle:{fill:"#121619"},informationStyle:{color:"#121619",marginBottom:"2em"},buttonStyle:{color:"#FFFFFF",backgroundColor:"#121619",fontWeight:"bold",padding:"1.25em",width:"12em",textAlign:"center",textTransform:"uppercase"}}},LaserlineViewfinder:{defaultStyle:"animated",styles:{animated:{width:JSON.stringify({unit:"fraction",value:.8}),enabledColor:"#FFFFFFFF",disabledColor:"#00000000",style:"animated"}}},AimerViewfinder:{frameColor:"#FFFFFFFF",dotColor:"#FFFFFFCC"},RectangularViewfinder:{defaultStyle:"rounded",styles:{rounded:{size:JSON.stringify({aspect:1,shorterDimension:{unit:"fraction",value:.75}}),color:"#FFFFFFFF",style:"rounded",lineStyle:"light",dimming:0,animation:JSON.stringify({looping:!0})},square:{size:JSON.stringify({aspect:1,shorterDimension:{unit:"fraction",value:.75}}),color:"#FFFFFFFF",style:"square",lineStyle:"light",dimming:0,animation:JSON.stringify({looping:!0})}}},Brush:{fillColor:"#00000000",strokeColor:"#00000000",strokeWidth:0}});var K={CONTAINER_CLASS_NAME:"scandit-container",PAINTBOARDS_CONTAINER_CLASS_NAME:"scandit-paintboards",PAINTBOARD_CLASS_NAME:"scandit-paintboard",PAINTBOARD_CLASS_NAME_STATE_ON:"scandit-paintboard--camera-on",CONTROLS_CLASS_NAME:"scandit-controls",CONTROL_WIDGET_CLASS_NAME:"scandit-control-widget",MIRRORED_CLASS_NAME:"scandit-mirrored",CAMERA_RECOVERY_CLASS_NAME:"scandit-camera-recovery",ERROR_CLASS_NAME:"scandit-error",HINT_CONTAINER_CLASS_NAME:"scandit-hint-container",HINT_CLASS_NAME:"scandit-hint",SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME:"scandit-single-image-uploader-container",CANVAS_VIDEO_PREVIEW_CLASS_NAME:"scandit-canvas-video-preview",TORCH_SWITCH_CONTROL_CLASS_NAME:"torch",CAMERA_SWITCH_CONTROL_CLASS_NAME:"camera",CAMERA_FOV_SWITCH_CONTROL_CLASS_NAME:"camera-fov"};var Ze=(b=>(b.On="on",b.Off="off",b.Standby="standby",b.Starting="starting",b.Stopping="stopping",b.BootingUp="bootingUp",b.WakingUp="wakingUp",b.GoingToSleep="goingToSleep",b.ShuttingDown="shuttingDown",b))(Ze||{}),vi=(t=>(t.On="on",t.Off="off",t))(vi||{}),bi=(t=>(t.WorldFacing="worldFacing",t.UserFacing="userFacing",t))(bi||{}),hr=(n=>(n.Auto="auto",n.HD="hd",n.FullHD="fullHd",n.UHD4K="uhd4k",n))(hr||{}),Na=(n=>(n.None="none",n.Manual="manual",n.ManualUntilCapture="manualUntilCapture",n.AutoOnLocation="autoOnLocation",n))(Na||{});function Me(s){var e;return((e=s==null?void 0:s.toJSONObject())==null?void 0:e.type)==="camera"}var ue=class{constructor(e){l(this,"preferredResolution",R.Camera.Settings.preferredResolution);l(this,"zoomFactor",R.Camera.Settings.zoomFactor);l(this,"zoomGestureZoomFactor",R.Camera.Settings.zoomGestureZoomFactor);l(this,"focus",{focusGestureStrategy:R.Camera.Settings.focusGestureStrategy});if(e!=null)for(let t of Object.getOwnPropertyNames(e))this[t]=e[t]}get focusGestureStrategy(){return this.focus.focusGestureStrategy}set focusGestureStrategy(e){this.focus.focusGestureStrategy=e}static fromJSON(e){let t=new ue;return t.preferredResolution=e.preferredResolution,t.zoomFactor=e.zoomFactor,t.zoomGestureZoomFactor=e.zoomGestureZoomFactor,t.focusGestureStrategy=e.focusGestureStrategy,t}setProperty(e,t){this[e]=t}getProperty(e){return this[e]}isIPhoneProCameraOptimizationEnabled(e){return this.getProperty("iPhoneProCameraOptimization")===!0&&e==="worldFacing"}toJSONObject(){let e={preferredResolution:this.preferredResolution,zoomFactor:this.zoomFactor,zoomGestureZoomFactor:this.zoomGestureZoomFactor,focus:{focusGestureStrategy:this.focus.focusGestureStrategy}},t={};for(let r of Object.keys(this))[...Object.keys(e),"focusGestureStrategy"].includes(r)||(t[r]=this[r]);return{...e,...t}}};var B;(Y=>{let s=new Map([["DeviceCaptureError","AbortError"],["NotSupportedError","AbortError"],["ScreenCaptureError","AbortError"],["TabCaptureError","AbortError"],["TypeError","AbortError"],["InvalidStateError","NotAllowedError"],["MediaDeviceFailedDueToShutdown","NotAllowedError"],["MediaDeviceKillSwitchOn","NotAllowedError"],["PermissionDeniedError","NotAllowedError"],["PermissionDismissedError","NotAllowedError"],["DevicesNotFoundError","NotFoundError"],["SourceUnavailableError","NotReadableError"],["TrackStartError","NotReadableError"],["ConstraintNotSatisfiedError","OverconstrainedError"]]),e=["rear","back","r\xFCck","arri\xE8re","trasera","tr\xE1s","traseira","posteriore","\u540E\u9762","\u5F8C\u9762","\u80CC\u9762","\u540E\u7F6E","\u5F8C\u7F6E","\u80CC\u7F6E","\u0437\u0430\u0434\u043D\u0435\u0439","\u0627\u0644\u062E\u0644\u0641\u064A\u0629","\uD6C4","arka","achterzijde","\u0E2B\u0E25\u0E31\u0E07","baksidan","bagside","sau","bak","tylny","takakamera","belakang","\u05D0\u05D7\u05D5\u05E8\u05D9\u05EA","\u03C0\u03AF\u03C3\u03C9","spate","h\xE1ts\xF3","zadn\xED","darrere","posterior","zadn\xE1","\u0437\u0430\u0434\u043D\u044F","stra\u017Enja","belakang","\u092C\u0948\u0915"],t=new Set(["Desk View Camera","Schreibtischansicht-Kamera","Cam\xE9ra Desk\xA0View","C\xE1mara de Vista Cenital","C\xE2mara da Vista de Secret\xE1ria","Fotocamera di Panoramica Scrivania","\u684C\u4E0A\u89C6\u89D2\u76F8\u673A","\u30C7\u30B9\u30AF\u30D3\u30E5\u30FC\u30AB\u30E1\u30E9","\u041A\u0430\u043C\u0435\u0440\u0430 \u041E\u0431\u0437\u043E\u0440\u0430 \u0441\u0442\u043E\u043B\u0430","Masa G\xF6r\xFCnt\xFCs\xFC Kameras\u0131","Bureauweergave-camera","\u0643\u0627\u0645\u064A\u0631\u0627 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0631\u0623\u0633\u064A","\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E14\u0E39\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E19\u0E49\u0E32\u0E42\u0E15\u0E4A\u0E30","Bordsvisningskamera","Kamera til Visning af skrivebord","Camera Desk View","Bordvisning-kamera","Kamera w\xA0aplikacji Widok blatu","Ty\xF6p\xF6yt\xE4n\xE4kym\xE4n kamera","Kamera Tampilan Meja","\u05DE\u05E6\u05DC\u05DE\u05EA \u05F4\u05EA\u05E6\u05D5\u05D2\u05EA \u05E9\u05D5\u05DC\u05D7\u05DF\u05F4","\u039A\u03AC\u03BC\u03B5\u03C1\u03B1 \u03C4\u03B7\u03C2 \u03A0\u03C1\u03BF\u03B2\u03BF\u03BB\u03AE\u03C2 \u03B3\u03C1\u03B1\u03C6\u03B5\u03AF\u03BF\u03C5","Camer\u0103 Vizualizare birou","\xCDr\xF3asztal n\xE9zet kamer\xE1ja","Stoln\xED kamera","C\xE0mera de l\u2019app Vista de l\u2019Escriptori"]),r=new Set(["Front Camera","Frontkamera","Appareil photo avant","C\xE1mara frontal","C\xE2mera Frontal","C\xE2mara frontal","Fotocamera (anteriore)","\u524D\u7F6E\u76F8\u673A","\u524D\u7F6E\u76F8\u6A5F","\u524D\u9762\u30AB\u30E1\u30E9","\u041A\u0430\u043C\u0435\u0440\u0430 \u043D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0435\u0439 \u043F\u0430\u043D\u0435\u043B\u0438","\xD6n Kamera","Camera aan voorzijde","\u0627\u0644\u0643\u0627\u0645\u064A\u0631\u0627 \u0627\u0644\u0623\u0645\u0627\u0645\u064A\u0629","\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E19\u0E49\u0E32","Kamera p\xE5 framsidan","Forsidekamera","Camera m\u1EB7t tr\u01B0\u1EDBc","Kamera foran","Przedni aparat","Etukamera","Kamera Depan","\u05DE\u05E6\u05DC\u05DE\u05D4 \u05E7\u05D3\u05DE\u05D9\u05EA","\u039C\u03C0\u03C1\u03BF\u03C3\u03C4\u03B9\u03BD\u03AE \u03BA\u03AC\u03BC\u03B5\u03C1\u03B1","Camer\u0103 fa\u021B\u0103","El\xFCls\u0151 kamera","P\u0159edn\xED fotoapar\xE1t","C\xE0mera frontal","Predn\xE1 kamera","\u041F\u0435\u0440\u0435\u0434\u043D\u044F \u043A\u0430\u043C\u0435\u0440\u0430","Prednja kamera","Kamera Depan","\u092B\u093C\u094D\u0930\u0902\u091F \u0915\u0948\u092E\u0930\u093E"]),n=new Set(["Back Camera","R\xFCckkamera","Cam\xE9ra arri\xE8re","C\xE1mara trasera","C\xE2mera Traseira","C\xE2mara traseira","Fotocamera (posteriore)","\u540E\u7F6E\u76F8\u673A","\u5F8C\u7F6E\u76F8\u6A5F","\u80CC\u9762\u30AB\u30E1\u30E9","\u041A\u0430\u043C\u0435\u0440\u0430 \u043D\u0430 \u0437\u0430\u0434\u043D\u0435\u0439 \u043F\u0430\u043D\u0435\u043B\u0438","Arka Kamera","Camera aan achterzijde","\u0627\u0644\u0643\u0627\u0645\u064A\u0631\u0627 \u0627\u0644\u062E\u0644\u0641\u064A\u0629","\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E25\u0E31\u0E07","Kamera p\xE5 baksidan","Bagsidekamera","Camera m\u1EB7t sau","Kamera bak","Tylny aparat","Takakamera","Kamera Belakang","\u05DE\u05E6\u05DC\u05DE\u05D4 \u05D0\u05D7\u05D5\u05E8\u05D9\u05EA","\u03A0\u03AF\u03C3\u03C9 \u03BA\u03AC\u03BC\u03B5\u03C1\u03B1","Camer\u0103 spate","H\xE1ts\xF3 kamera","Zadn\xED fotoapar\xE1t","C\xE0mera posterior","Zadn\xE1 kamera","\u0417\u0430\u0434\u043D\u044F \u043A\u0430\u043C\u0435\u0440\u0430","Stra\u017Enja kamera","Kamera Belakang","\u092C\u0948\u0915 \u0915\u0948\u092E\u0930\u093E"]),c=new Set(["Back Ultra Wide Camera","R\xFCckseitige Ultra-Weitwinkelkamera","Appareil photo ultra grand angle arri\xE8re","C\xE1mara trasera con ultra gran angular","C\xE2mera Ultra-Angular Traseira","C\xE2mara ultra grande angular traseira","Fotocamera con ultra-grandangolo (posteriore)","\u540E\u7F6E\u8D85\u5E7F\u89D2\u76F8\u673A","\u5F8C\u7F6E\u8D85\u5EE3\u89D2\u76F8\u6A5F","\u80CC\u9762\u8D85\u5E83\u89D2\u30AB\u30E1\u30E9","\u0417\u0430\u0434\u043D\u044F\u044F \u0441\u0432\u0435\u0440\u0445\u0448\u0438\u0440\u043E\u043A\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0430\u044F \u043A\u0430\u043C\u0435\u0440\u0430","Ultra Geni\u015F Kamera Arka Y\xFCz\xFC","Ultrabrede camera aan achterzijde","\u0643\u0627\u0645\u064A\u0631\u0627 \u062E\u0644\u0641\u064A\u0629 \u0639\u0631\u064A\u0636\u0629 \u062C\u062F\u064B\u0627","\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E25\u0E31\u0E07\u0E21\u0E38\u0E21\u0E01\u0E27\u0E49\u0E32\u0E07\u0E2D\u0E31\u0E25\u0E15\u0E23\u0E49\u0E32","Ultravidvinkelkamera p\xE5 baksidan","Ultravidvinkelkameraet p\xE5 bagsiden","Camera c\u1EF1c r\u1ED9ng m\u1EB7t sau","Ultravidvinkelkamera bak","Tylny aparat ultraszerokok\u0105tny","Ultralaajakulmainen takakamera","Kamera Ultra Lebar Belakang","\u05DE\u05E6\u05DC\u05DE\u05D4 \u05D0\u05D5\u05DC\u05D8\u05E8\u05D4 \u05E8\u05D7\u05D1\u05D4 \u05D0\u05D7\u05D5\u05E8\u05D9\u05EA","\u03A0\u03AF\u03C3\u03C9 \u03C5\u03C0\u03B5\u03C1\u03B5\u03C5\u03C1\u03B5\u03AF\u03B1 \u03BA\u03AC\u03BC\u03B5\u03C1\u03B1","Camer\u0103 cu obiectiv ultra\u2011superangular spate","H\xE1ts\xF3, ultrasz\xE9les l\xE1t\xF3sz\xF6g\u0171 kamera","Zadn\xED ultra \u0161iroko\xFAhl\xFD fotoapar\xE1t","C\xE0mera posterior amb ultra gran angular","Zadn\xE1 ultra\u0161irokouhl\xE1 kamera","\u0417\u0430\u0434\u043D\u044F \u043D\u0430\u0434\u0448\u0438\u0440\u043E\u043A\u043E\u043A\u0443\u0442\u043D\u0430 \u043A\u0430\u043C\u0435\u0440\u0430","Stra\u017Enja ultra \u0161iroka kamera","Kamera Ultralebar Belakang","\u092C\u0948\u0915 \u0905\u0932\u094D\u091F\u094D\u0930\u093E \u0935\u093E\u0907\u0921 \u0915\u0948\u092E\u0930\u093E"]),m,p=!1;Y.mainCameraForPositionOverridesOnDesktop=new Map,Y.deviceIdToCameraObjects=new Map,Y.inaccessibleDeviceIds=new Set;function a(A,_){Y.mainCameraForPositionOverridesOnDesktop.set(A,_)}Y.setMainCameraForPositionOverridesOnDesktop=a;function o(){Y.mainCameraForPositionOverridesOnDesktop.clear()}Y.clearMainCameraForPositionOverridesOnDesktop=o;function d(){return navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices)}function u(){if(typeof navigator.enumerateDevices=="function")return navigator.enumerateDevices.bind(navigator);if(typeof navigator.mediaDevices=="object"&&typeof navigator.mediaDevices.enumerateDevices=="function")return navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices)}function v(){p=!0}function g(A){let _=A.toLowerCase();return e.some(M=>_.includes(M))}function C(A){return r.has(A)}Y.isIOSWideFrontCameraLabel=C;function S(A){return n.has(A)}Y.isIOSWideBackCameraLabel=S;function T(A){return c.has(A)}Y.isIOSUltraWideBackCameraLabel=T;function w(A){var M;let _=A.message==="Invalid constraint"?"OverconstrainedError":(M=s.get(A.name))!=null?M:A.name;Object.defineProperty(A,"name",{value:_})}function D(A){if(A.length===0)return{areSomeCameraLabelsFilled:!1,areAllCameraLabelsFilled:!1,areAllCameraLabelsUnfilled:!1};let _=A.every(x=>x.label!==""),M=A.every(x=>x.label==="");return{areSomeCameraLabelsFilled:!M&&!_,areAllCameraLabelsFilled:_,areAllCameraLabelsUnfilled:M}}function E(A,_){var M;return(M=Y.mainCameraForPositionOverridesOnDesktop.get(_))!=null?M:A.find(N=>N.position===_)}function z(A,_){if(_==="worldFacing"){if(W.isBrokenIPhoneCameraDevice()){let N=A.find(x=>T(x.label));if(N!=null)return N}let M=A.find(N=>S(N.label));if(M!=null)return M}else{let M=A.find(N=>C(N.label));if(M!=null)return M}}function O(A,_){let{areSomeCameraLabelsFilled:M,areAllCameraLabelsUnfilled:N}=D(A);if(N)return A[_==="userFacing"?0:A.length-1];if(M){let x=A.filter(I=>I.position===_);return x.length===1?x[0]:x[_==="userFacing"?0:x.length-1]}if(W.getUserAgentInfo().getOS().name==="iOS"){let x=z(A,_);if(x)return x}return A.filter(x=>x.position===_).sort((x,I)=>x.label.localeCompare(I.label))[0]}function $(A,_){return W.isDesktopDevice()?E(A,_):O(A,_)}Y.getMainCameraForPosition=$;function te(A,_){function M(I,q){let Q=Y.mainCameraForPositionOverridesOnDesktop.get(q);return Q!=null&&I.includes(Q)&&(I=I.filter(pe=>pe!==Q),I.unshift(Q)),I}let N=A.filter(I=>I.position==="userFacing"),x=A.filter(I=>I.position==="worldFacing");return W.isDesktopDevice()?(N=M(N,"userFacing"),x=M(x,"worldFacing")):A.every(I=>I.label==="")?x.reverse():(N.sort((I,q)=>I.label.localeCompare(q.label)),x.sort((I,q)=>I.label.localeCompare(q.label)),W.getUserAgentInfo().getOS().name==="iOS"&&(N.some((I,q)=>C(I.label)&&N.unshift(N.splice(q,1)[0])>=0),x.some((I,q)=>T(I.label)&&x.unshift(x.splice(q,1)[0])>=0),x.some((I,q)=>S(I.label)&&x.unshift(x.splice(q,1)[0])>=0)),W.isBrokenIPhoneCameraDevice()&&x.some((I,q)=>T(I.label)&&x.unshift(x.splice(q,1)[0])>=0)),_==="userFacing"?[...N,...x]:[...x,...N]}Y.sortCamerasForCameraPosition=te;function re(A,_){let M=A.getVideoTracks();if(M.length>0){let N=M[0],x;typeof N.getSettings=="function"&&(x=N.getSettings(),x.facingMode!=null&&x.facingMode.length>0&&(_.position=x.facingMode==="environment"?"worldFacing":"userFacing"));let{label:I=""}=N;I.length>0&&(_.label=I)}}Y.adjustCameraFromMediaStream=re;function ae(A,_,M){if(Y.deviceIdToCameraObjects.has(A.deviceId))return Y.deviceIdToCameraObjects.get(A.deviceId);let{label:N="",deviceId:x}=A,I;return!W.isDesktopDevice()&&M.every(q=>q.label===""&&!Y.deviceIdToCameraObjects.has(q.deviceId))?I=M.length===1||_+1<=Math.floor(M.length/2)?"userFacing":"worldFacing":I=g(N)?"worldFacing":"userFacing",{position:I,label:N,deviceId:x}}function le(A){let _=A.map((M,N,x)=>ae(M,N,x)).map(M=>(M.deviceId!==""&&Y.deviceIdToCameraObjects.set(M.deviceId,M),M)).filter(M=>!/\b(?:ir|infrared)\b/i.test(M.label)).filter(M=>!t.has(M.label)).filter(M=>!Y.inaccessibleDeviceIds.has(M.deviceId));if(!W.isDesktopDevice()&&_.length>1&&!_.some(M=>M.position==="worldFacing")){let M=_.length-1,N=_.map(x=>{let I=/\b(\d+)mp?\b/i.exec(x.label);return I!=null?Number.parseInt(I[1],10):Number.NaN});N.some(x=>Number.isNaN(x))||(M=N.lastIndexOf(Math.max(...N))),_[M].position="worldFacing"}return _}async function ve(){if(m!=null&&m.length>0&&m.every(A=>A.label===""&&!Y.deviceIdToCameraObjects.has(A.deviceId)))try{return await d()({video:!0,audio:!1})}catch(A){}}function Ne(A,_){var M,N;if(_.length>0&&A.length===_.length&&!_.every((x,I)=>A[I].deviceId===x.deviceId)){let x={};for(let[I,q]of A.entries()){let Q=Y.deviceIdToCameraObjects.get(q.deviceId);if(Q==null||Q.label!==((N=(M=_[I])==null?void 0:M.label)!=null?N:""))continue;let pe=_[I].deviceId;x[Q.deviceId]=pe,Y.inaccessibleDeviceIds.has(Q.deviceId)&&Y.inaccessibleDeviceIds.add(pe),Q.deviceId=pe,Y.deviceIdToCameraObjects.set(pe,Q)}h.log(h.Level.Debug,"Detected updated camera deviceId information and updated it accordingly",x)}}function mt(){typeof navigator.mediaDevices.addEventListener=="function"?navigator.mediaDevices.addEventListener("devicechange",v):navigator.mediaDevices.ondevicechange=v}async function Te(){let A,_=u();if(_)A=await _();else throw new Ae({fullSupport:!1,scannerSupport:!0,missingFeatures:["mediaDevices"]});return A.filter(M=>M.kind==="videoinput")}async function pt(A=!1,_=!1){var x;let M=W.checkBrowserCompatibility();if(!M.fullSupport)throw new Ae(M);if(mt(),m==null||A||p){p=!1;let I,q=m!=null?m:[];m=[];try{m=await Te(),_||(I=await ve(),I!=null&&(m=await Te())),h.log(h.Level.Debug,"Camera list (devices):",...m),Ne(q,m)}catch(Q){throw w(Q),Q}finally{for(let Q of(x=I==null?void 0:I.getVideoTracks())!=null?x:[])Q.stop()}}let N=le(m);return h.log(h.Level.Debug,"Camera list (cameras): ",...N),[...N]}Y.getCameras=pt;async function ht(A){return h.log(h.Level.Debug,"Attempt to access camera (parameters):",A.video),new Promise((_,M)=>{window.setTimeout(()=>{let N=d()(A);if(N==null){M(new J({name:"AbortError"}));return}_(N)},0)})}function Re(A,_){let M={resizeMode:"none"};switch(A){case 0:return{...M,width:{min:2880,ideal:_==="fourToThree"?2880:3840,max:4096},height:{min:1800,ideal:2160,max:2400}};case 1:return{...M,width:{min:1440,ideal:_==="fourToThree"?1440:1920,max:2160},height:{min:900,ideal:1080,max:1440}};case 2:return{...M,width:{min:960,ideal:_==="fourToThree"?960:1280,max:1440},height:{min:480,ideal:720,max:960}};case 3:return{...M,width:{min:640,ideal:640,max:800},height:{min:360,ideal:_==="fourToThree"?480:360,max:640}};case 4:default:return{}}}Y.getUserMediaVideoParameters=Re;function Je(A){A.deviceId!==""&&(h.log(h.Level.Debug,"Camera marked to be inaccessible:",A),Y.inaccessibleDeviceIds.add(A.deviceId))}Y.markCameraAsInaccessible=Je;async function Zt(A,_,M){h.log(h.Level.Debug,"Attempt to access camera (camera):",A);let N={audio:!1,video:Re(_,M)};A.deviceId===""?N.video.facingMode={ideal:A.position==="worldFacing"?"environment":"user"}:N.video.deviceId={exact:A.deviceId};try{let x=await ht(N);return re(x,A),x}catch(x){throw w(x),["OverconstrainedError","NotReadableError","NotAllowedError"].includes(x.name)||Je(A),x}}Y.accessCameraStream=Zt})(B||(B={}));var G=class{constructor(){l(this,"activeCamera");l(this,"activeCameraSettings");l(this,"canvas");l(this,"gui");l(this,"selectedCamera");l(this,"videoElement");l(this,"checkCameraVideoStreamAccessIfVisibleListener",this.checkCameraVideoStreamAccessIfVisible.bind(this));l(this,"handleWebGLContextLostListener",this.handleWebGLContextLost.bind(this));l(this,"listeners",new Map);l(this,"mirrorImageOverrides",new Map);l(this,"postStreamInitializationListener",this.postStreamInitialization.bind(this));l(this,"triggerFatalError");l(this,"triggerManualFocusListener",this.triggerManualFocus.bind(this));l(this,"triggerZoomMoveListener",this.triggerZoomMove.bind(this));l(this,"triggerZoomStartListener",this.triggerZoomStart.bind(this));l(this,"videoResizeListener",this.handleVideoResize.bind(this));l(this,"videoTrackEndedListener",this.videoTrackEndedRecovery.bind(this));l(this,"videoTrackMuteListener",this.videoTrackMuteRecovery.bind(this));l(this,"_canvas2dContext");l(this,"_canvasWebGLContext");l(this,"_imageData");l(this,"_mediaStream");l(this,"abortedCameraInitializationResolveCallback");l(this,"autofocusInterval");l(this,"cameraAccessRejectCallback");l(this,"cameraAccessTimeout");l(this,"cameraInitializationPromise");l(this,"cameraPosition");l(this,"cameraSetupPromise");l(this,"getCapabilitiesTimeout");l(this,"manualFocusWaitTimeout");l(this,"manualToAutofocusResumeTimeout");l(this,"mediaTrackCapabilities");l(this,"mediaTrackCapabilitiesPromise");l(this,"mediaTrackCapabilitiesPromiseResolver");l(this,"pinchToZoomDistance");l(this,"pinchToZoomEnabled");l(this,"pinchToZoomInitialZoom");l(this,"selectedCameraSettings");l(this,"tapToFocusEnabled");l(this,"torchEnabled");l(this,"torchToggleEnabled");l(this,"videoMetadataCheckInterval");l(this,"isWebGLSupported");this.cameraPosition="worldFacing",this.gui={isCameraRecoveryVisible:()=>!1,setCameraRecoveryVisible:()=>{}},this.isWebGLSupported=!W.checkBrowserCompatibility().missingFeatures.includes("webGL"),this.videoElement=document.createElement("video"),this.canvas=document.createElement("canvas"),this.canvas.addEventListener("webglcontextlost",this.handleWebGLContextLostListener)}set imageData(e){this._imageData=e}get mediaStream(){return this._mediaStream}set mediaStream(e){this._mediaStream=e,e&&(this.mediaTrackCapabilitiesPromise=new Promise(t=>{this.mediaTrackCapabilitiesPromiseResolver=t}))}get canvas2dContext(){return this._canvas2dContext||(this._canvas2dContext=this.canvas.getContext("2d",{willReadFrequently:!0}),this._canvas2dContext==null&&h.log(h.Level.Warn,"Unable to get 2d canvas context"),this.handleVideoResize()),this._canvas2dContext}get canvasWebGLContext(){var e,t,r;if(((t=this.selectedCameraSettings)==null?void 0:t.isIPhoneProCameraOptimizationEnabled((e=this.selectedCamera)==null?void 0:e.position))===!1&&!this._canvas2dContext&&!this._canvasWebGLContext){if(!this.isWebGLSupported){h.log(h.Level.Warn,"WebGL context not supported, falling back to 2d canvas context. This may impact the scanning performance.");return}let n=(r=this.canvas.getContext("webgl",{alpha:!1,antialias:!1}))!=null?r:this.canvas.getContext("experimental-webgl",{alpha:!1,antialias:!1});if(n!=null){let c=n.createTexture();c==null&&h.log(h.Level.Warn,"Could not create texture from WebGLRenderingContext"),n.bindTexture(n.TEXTURE_2D,c);let m=n.createFramebuffer();m==null&&h.log(h.Level.Warn,"Could not create frameBuffer from WebGLRenderingContext"),n.bindFramebuffer(n.FRAMEBUFFER,m),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,c,0),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),this._canvasWebGLContext=n,this.handleVideoResize()}}return this._canvasWebGLContext}static instance(){return G._instance==null&&(G._instance=new G),G._instance}requestVideoFrame(e){return"requestVideoFrameCallback"in HTMLVideoElement.prototype?this.videoElement.requestVideoFrameCallback(e):requestAnimationFrame(e)}cancelVideoFrame(e){if("cancelVideoFrameCallback"in HTMLVideoElement.prototype){this.videoElement.cancelVideoFrameCallback(e);return}cancelAnimationFrame(e)}addListener(e,t){var n;let r=(n=this.listeners.get(e))!=null?n:[];r.includes(t)||this.listeners.set(e,[...r,t])}async applyCameraSettings(e){if(this.selectedCameraSettings=e,this.activeCamera==null)throw new J(G.noCameraErrorParameters);return this.initializeCameraWithSettings(this.activeCamera,e)}captureImage(){var e;if(((e=this.mediaStream)==null?void 0:e.active)!=null){if(this.canvasWebGLContext!=null)return this.captureImageForWebGLContext();if(this.canvas2dContext!=null)return this.captureImageFor2dContext()}return null}async initializeCameraWithSettings(e,t){if(this.cameraInitializationPromise&&await this.cameraInitializationPromise,e==null)throw new J(G.noCameraErrorParameters);return this.setSelectedCamera(e),this.selectedCameraSettings=t,this.activeCameraSettings=t,this.cameraInitializationPromise=this.initializeCameraAndCheckUpdatedSettings(e),this.cameraInitializationPromise}isMirrorImageEnabled(){if(this.selectedCamera&&this.activeCamera){let e=this.mirrorImageOverrides.get(this.activeCamera);return e!=null?e:this.activeCamera.position==="userFacing"}return!1}isPinchToZoomEnabled(){return this.pinchToZoomEnabled}isTapToFocusEnabled(){return this.tapToFocusEnabled}async isTorchAvailable(){var e;return this.mediaStream?(await this.waitForCapabilities(),((e=this.mediaTrackCapabilities)==null?void 0:e.torch)===!0):!1}async playVideo(){return new Promise(e=>{this._canvas2dContext&&this._canvas2dContext.clearRect(0,0,this.canvas.width,this.canvas.height);let t=this.videoElement.play();t!=null?t.then(e).catch(()=>{e()}):e()})}async reinitializeCamera(){if(this.activeCamera==null)h.log(h.Level.Debug,"Camera reinitialization delayed");else{h.log(h.Level.Debug,"Reinitialize camera:",this.activeCamera);try{let e=this.activeCamera;await this.stopStream(),await this.initializeCameraWithSettings(e,this.activeCameraSettings)}catch(e){throw h.log(h.Level.Warn,"Couldn't access camera:",this.activeCamera,e),this.emit("cameraAccessError",e),e}}}removeListener(e,t){var c;let n=((c=this.listeners.get(e))!=null?c:[]).filter(m=>m!==t);this.listeners.set(e,n)}async setCameraPosition(e){var r;this.setInitialCameraPosition(e);let t=B.getMainCameraForPosition(await B.getCameras(),e);if(t&&t.deviceId!==((r=this.selectedCamera)==null?void 0:r.deviceId))return this.initializeCameraWithSettings(t,this.selectedCameraSettings)}async setExposure(e){var n,c,m,p,f,b,i,a;let t=(c=(n=this.mediaStream)==null?void 0:n.getVideoTracks())!=null?c:[];if(t.length===0||typeof t[0].applyConstraints!="function")return;await this.waitForCapabilities();let r=e.time!=null&&e.time>0?"manual":"continuous";if(((p=(m=this.mediaTrackCapabilities)==null?void 0:m.exposureMode)==null?void 0:p.includes(r))===!0){if(await t[0].applyConstraints({advanced:[{exposureMode:r}]}),e.time!=null&&e.time>0&&this.mediaTrackCapabilities.exposureTime){let o=Math.max((f=this.mediaTrackCapabilities.exposureTime.min)!=null?f:.01,Math.min(e.time,(b=this.mediaTrackCapabilities.exposureTime.max)!=null?b:1e5));await t[0].applyConstraints({advanced:[{exposureTime:o}]})}else if(e.compensation!=null&&r==="continuous"&&this.mediaTrackCapabilities.exposureCompensation){let o=Math.max((i=this.mediaTrackCapabilities.exposureCompensation.min)!=null?i:-10,Math.min(e.compensation,(a=this.mediaTrackCapabilities.exposureCompensation.max)!=null?a:10));await t[0].applyConstraints({advanced:[{exposureCompensation:o}]})}}}async setFocus(e){var r,n,c,m,p;if(!this.mediaStream)return;let t=this.mediaStream.getVideoTracks();if(t.length>0&&typeof t[0].applyConstraints=="function"){await this.waitForCapabilities();let f=e>=0?"manual":"continuous";if(((n=(r=this.mediaTrackCapabilities)==null?void 0:r.focusMode)==null?void 0:n.includes(f))===!0&&(await t[0].applyConstraints({advanced:[{focusMode:f}]}),f==="manual"&&this.mediaTrackCapabilities.focusDistance)){let b=Math.max(0,Math.min(e,1))*(((c=this.mediaTrackCapabilities.focusDistance.max)!=null?c:1e3)-((m=this.mediaTrackCapabilities.focusDistance.min)!=null?m:.01))+((p=this.mediaTrackCapabilities.focusDistance.min)!=null?p:.01);await t[0].applyConstraints({advanced:[{focusDistance:b}]})}}}async setFrameRate(e){var t,r,n;if(!!this.mediaStream&&(await this.waitForCapabilities(),(t=this.mediaTrackCapabilities)!=null&&t.frameRate)){let c=this.mediaStream.getVideoTracks();if(c.length>0&&typeof c[0].applyConstraints=="function"){let m=Math.min((r=this.mediaTrackCapabilities.frameRate.max)!=null?r:240,(n=e.max)!=null?n:240);await c[0].applyConstraints({advanced:[{frameRate:m}]})}}}setInitialCameraPosition(e){this.cameraPosition=e}setInteractionOptions(e,t,r){this.torchToggleEnabled=e,this.tapToFocusEnabled=t,this.pinchToZoomEnabled=r}setMirrorImageEnabled(e,t){this.selectedCamera&&(e?(this.videoElement.classList.add(G.MIRRORED_CLASS_NAME),this.canvas.classList.add(G.MIRRORED_CLASS_NAME)):(this.videoElement.classList.remove(G.MIRRORED_CLASS_NAME),this.canvas.classList.remove(G.MIRRORED_CLASS_NAME)),t&&this.mirrorImageOverrides.set(this.selectedCamera,e))}setPinchToZoomEnabled(e){this.pinchToZoomEnabled=e,this.mediaStream&&(this.pinchToZoomEnabled?this.enablePinchToZoomListeners():this.disablePinchToZoomListeners())}setSelectedCamera(e){this.selectedCamera=e}setSelectedCameraSettings(e){this.selectedCameraSettings=e}setTapToFocusEnabled(e){this.tapToFocusEnabled=e,this.mediaStream&&(this.tapToFocusEnabled?this.enableTapToFocusListeners():this.disableTapToFocusListeners())}async setTorchEnabled(e){var t;if(this.mediaStream&&((t=this.mediaTrackCapabilities)==null?void 0:t.torch)===!0){this.torchEnabled=e;let r=this.mediaStream.getVideoTracks();r.length>0&&typeof r[0].applyConstraints=="function"&&await r[0].applyConstraints({advanced:[{torch:e}]})}}async setZoom(e){var t,r,n;if(!!this.mediaStream&&(await this.waitForCapabilities(),(t=this.mediaTrackCapabilities)!=null&&t.zoom)){let c=this.mediaStream.getVideoTracks();if(c.length>0&&typeof c[0].applyConstraints=="function"){let m=Math.max((r=this.mediaTrackCapabilities.zoom.min)!=null?r:1,Math.min(e,(n=this.mediaTrackCapabilities.zoom.max)!=null?n:16));await c[0].applyConstraints({advanced:[{zoom:m}]})}}}async setupCameras(){return this.cameraSetupPromise?this.cameraSetupPromise:(this.cameraSetupPromise=this.setupCamerasAndStream(),this.cameraSetupPromise)}pauseStream(){if(!this.mediaStream)return;let e=this.mediaStream.getVideoTracks()[0];e.enabled=!1,h.log(h.Level.Debug,"Pause camera video stream",this.mediaStream)}resumeStream(){if(!this.mediaStream)return;let e=this.mediaStream.getVideoTracks()[0];e.enabled=!0,h.log(h.Level.Debug,"Resume camera video stream",this.mediaStream)}async stopStream(e=!1){this.activeCamera&&(this.activeCamera.currentResolution=void 0),this.activeCamera=void 0,this.torchEnabled=!1,this.mediaStream&&(h.log(h.Level.Debug,`Stop camera video stream access${e?" (abort access detection)":""}:`,this.mediaStream),document.removeEventListener("visibilitychange",this.checkCameraVideoStreamAccessIfVisibleListener),window.clearTimeout(this.cameraAccessTimeout),window.clearInterval(this.videoMetadataCheckInterval),window.clearTimeout(this.getCapabilitiesTimeout),window.clearTimeout(this.manualFocusWaitTimeout),window.clearTimeout(this.manualToAutofocusResumeTimeout),window.clearInterval(this.autofocusInterval),this.videoElement.pause(),await new Promise(t=>{setTimeout(()=>{var r,n,c;for(let m of(n=(r=this.mediaStream)==null?void 0:r.getVideoTracks())!=null?n:[])m.removeEventListener("ended",this.videoTrackEndedListener),m.stop();this.videoElement.srcObject=null,this._canvas2dContext&&this._canvas2dContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.mediaStream=void 0,this.mediaTrackCapabilities=void 0,this.mediaTrackCapabilitiesPromise=void 0,this.mediaTrackCapabilitiesPromiseResolver=void 0,e||(c=this.abortedCameraInitializationResolveCallback)==null||c.call(this),t()},0)}))}async toggleTorch(){this.torchEnabled=!this.torchEnabled,await this.setTorchEnabled(this.torchEnabled)}updateCanvasVideoImage(){var e,t;((t=this.selectedCameraSettings)==null?void 0:t.isIPhoneProCameraOptimizationEnabled((e=this.selectedCamera)==null?void 0:e.position))===!0?this.canvas2dContext.drawImage(this.videoElement,this.videoElement.videoWidth*.15,this.videoElement.videoHeight*.15,this.videoElement.videoWidth*.7,this.videoElement.videoHeight*.7,0,0,this.canvas.width,this.canvas.height):this.canvas2dContext.drawImage(this.videoElement,0,0)}async waitForCapabilities(){var e;return(e=this.mediaTrackCapabilitiesPromise)!=null?e:Promise.resolve()}async accessAutoselectedCamera(e){let t=B.sortCamerasForCameraPosition(e,this.cameraPosition),r=t.shift();for(;r;)try{await this.initializeCameraWithSettings(r,this.selectedCameraSettings);return}catch(n){if(this.setSelectedCamera(),t.length>0){h.log(h.Level.Warn,"Couldn't access camera:",r,n),r=t.shift();continue}throw n}throw new J(G.noCameraErrorParameters)}async accessInitialCamera(){let e={position:this.cameraPosition,deviceId:"",label:""};try{await this.initializeCameraWithSettings(e,this.selectedCameraSettings)}catch(t){}finally{this.setSelectedCamera()}return e}recreateCanvas(){this.canvas.removeEventListener("webglcontextlost",this.handleWebGLContextLostListener),this._canvasWebGLContext=void 0,this._canvas2dContext=void 0;let e=document.createElement("canvas");e.addEventListener("webglcontextlost",this.handleWebGLContextLostListener),e.width=this.canvas.width,e.height=this.canvas.height,e.className=this.canvas.className,this.canvas=e}captureImageFor2dContext(){var r,n;if(!this.isVideoAndContextStateValid())return null;((n=this.selectedCameraSettings)==null?void 0:n.isIPhoneProCameraOptimizationEnabled((r=this.selectedCamera)==null?void 0:r.position))===!1&&this.updateCanvasVideoImage();let{width:e,height:t}=this.canvas;return{data:this.canvas2dContext.getImageData(0,0,e,t).data,width:e,height:t}}captureImageForWebGLContext(){if(!this.isVideoAndContextStateValid()||!this.canvasWebGLContext||this.canvasWebGLContext.drawingBufferWidth<=2||this.canvasWebGLContext.drawingBufferHeight<=2)return null;let e=this.canvasWebGLContext.drawingBufferWidth*this.canvasWebGLContext.drawingBufferHeight*4;if((this._imageData==null||this._imageData.byteLength!==e)&&(this._imageData=new Uint8ClampedArray(e)),this.canvasWebGLContext.texImage2D(this.canvasWebGLContext.TEXTURE_2D,0,this.canvasWebGLContext.RGBA,this.canvasWebGLContext.RGBA,this.canvasWebGLContext.UNSIGNED_BYTE,this.videoElement),this.canvasWebGLContext.readPixels(0,0,this.canvasWebGLContext.drawingBufferWidth,this.canvasWebGLContext.drawingBufferHeight,this.canvasWebGLContext.RGBA,this.canvasWebGLContext.UNSIGNED_BYTE,this._imageData),this._imageData[3]!==255){if(h.log(h.Level.Warn,"Detected incorrect GPU accelerated WebGL image processing, switching to canvas mode"),this.recreateCanvas(),this.canvas2dContext!=null)return this.captureImage()}else{let t=this._imageData;return this._imageData=void 0,{data:t,width:this.canvasWebGLContext.drawingBufferWidth,height:this.canvasWebGLContext.drawingBufferHeight}}return null}async checkCameraAccess(e){return new Promise((t,r)=>{this.cameraAccessRejectCallback=n=>{h.log(h.Level.Debug,"Camera video stream access failure (video data load timeout):",e),this.gui.setCameraRecoveryVisible(!0),r(n)},this.setCameraAccessTimeout()})}checkCameraVideoStreamAccessIfVisible(){document.visibilityState==="visible"&&(h.log(h.Level.Debug,"Page is visible again, waiting for camera video stream start..."),document.removeEventListener("visibilitychange",this.checkCameraVideoStreamAccessIfVisibleListener),this.setCameraAccessTimeout())}async checkVideoMetadata(e){return new Promise((t,r)=>{this.videoElement.onloadeddata=()=>{if(this.videoElement.onloadeddata=null,window.clearTimeout(this.cameraAccessTimeout),this.videoElement.videoWidth>2&&this.videoElement.videoHeight>2&&this.videoElement.currentTime>0){this.updateActiveCameraCurrentResolution(e),h.log(h.Level.Debug,"Camera video stream access success:",e),t();return}let n=performance.now();window.clearInterval(this.videoMetadataCheckInterval),this.videoMetadataCheckInterval=window.setInterval(async()=>{if(this.videoElement.videoWidth<=2||this.videoElement.videoHeight<=2||this.videoElement.currentTime===0){if(performance.now()-n>G.videoMetadataCheckTimeoutMs){h.log(h.Level.Warn,"Camera video stream access failure (valid video metadata timeout):",e),window.clearInterval(this.videoMetadataCheckInterval),await this.stopStream(!0),r(new J(G.notReadableErrorParameters));return}return}window.clearInterval(this.videoMetadataCheckInterval),this.updateActiveCameraCurrentResolution(e),h.log(h.Level.Debug,"Camera video stream access success:",e),t()},G.videoMetadataCheckIntervalMs)}})}disablePinchToZoomListeners(){this.videoElement.removeEventListener("touchstart",this.triggerZoomStartListener),this.videoElement.removeEventListener("touchmove",this.triggerZoomMoveListener)}disableTapToFocusListeners(){for(let e of["touchend","mousedown"])this.videoElement.removeEventListener(e,this.triggerManualFocusListener)}emit(e,t){var n;let r=(n=this.listeners.get(e))!=null?n:[];for(let c of r)c(t)}enablePinchToZoomListeners(){this.videoElement.addEventListener("touchstart",this.triggerZoomStartListener),this.videoElement.addEventListener("touchmove",this.triggerZoomMoveListener)}enableTapToFocusListeners(){for(let e of["touchend","mousedown"])this.videoElement.addEventListener(e,this.triggerManualFocusListener)}getActiveCamera(e,t,r){return e.length===1?e[0]:e.find(n=>n.deviceId===r||n.label!==""&&n.label===t)}getInitialCameraResolutionConstraint(e){var r,n;if(((r=this.activeCameraSettings)==null?void 0:r.isIPhoneProCameraOptimizationEnabled(e.position))===!0)return 0;let t;switch((n=this.activeCameraSettings)==null?void 0:n.preferredResolution){case"uhd4k":t=0;break;case"fullHd":t=1;break;case"hd":default:t=2;break}return t}async handleCameraInitializationError(e,t,r){if(!["OverconstrainedError","NotReadableError"].includes(r.name)||r.name==="NotReadableError"&&t===4)throw h.log(h.Level.Debug,"Camera video stream access failure (unrecoverable error)",e,r),r.name!=="NotAllowedError"&&B.markCameraAsInaccessible(e),r;if(r.name==="OverconstrainedError"&&t===4){if(e.deviceId==="")throw h.log(h.Level.Warn,"Camera video stream access failure (no camera with such type error)",e,r),r;h.log(h.Level.Warn,"Detected non-existent deviceId error, attempt to find and reaccess updated camera",e,r);let n=e.deviceId;if(await B.getCameras(!0),n===e.deviceId)throw h.log(h.Level.Warn,"Camera video stream access failure (updated camera not found after non-existent deviceId error)",e,r),B.markCameraAsInaccessible(e),r;return h.log(h.Level.Warn,"Updated camera found (recovered from non-existent deviceId error), attempt to access it",e),this.initializeCameraForResolution(e)}return this.initializeCameraForResolution(e,t+1)}handleVideoResize(){if(!(this.videoElement.videoWidth<=2||this.videoElement.videoHeight<=2)){if(this.activeCamera&&this.updateActiveCameraCurrentResolution(this.activeCamera),this.canvasWebGLContext!=null){if(this.canvas.width===this.videoElement.videoWidth&&this.canvas.height===this.videoElement.videoHeight)return;this.canvas.width=this.videoElement.videoWidth,this.canvas.height=this.videoElement.videoHeight,this.canvasWebGLContext.viewport(0,0,this.canvasWebGLContext.drawingBufferWidth,this.canvasWebGLContext.drawingBufferHeight)}else if(this.canvas2dContext!=null){if(this.canvas.width===this.videoElement.videoWidth&&this.canvas.height===this.videoElement.videoHeight)return;this.canvas.width=this.videoElement.videoWidth,this.canvas.height=this.videoElement.videoHeight}}}handleWebGLContextLost(){h.log(h.Level.Warn,"WebGL context has been lost, restoring..."),this._canvasWebGLContext=void 0,this.canvasWebGLContext?(this.handleVideoResize(),h.log(h.Level.Warn,"WebGL context restored")):h.log(h.Level.Error,"WebGL context restore failed")}async initializeCameraAndCheckUpdatedSettings(e){var t,r,n,c,m;try{if(await this.initializeCameraForResolution(e),this.selectedCameraSettings!==this.activeCameraSettings&&(this.selectedCameraSettings==null||this.activeCameraSettings==null||Object.keys(this.selectedCameraSettings).some(o=>{var d,u;return((d=this.selectedCameraSettings)==null?void 0:d[o])!==((u=this.activeCameraSettings)==null?void 0:u[o])}))){this.activeCameraSettings=this.selectedCameraSettings,await this.initializeCameraAndCheckUpdatedSettings(e);return}this.activeCameraSettings&&this.activeCameraSettings.zoomFactor>1&&await this.setZoom(this.activeCameraSettings.zoomFactor);let p=(t=this.activeCameraSettings)==null?void 0:t.getProperty("minFrameRate"),f=(r=this.activeCameraSettings)==null?void 0:r.getProperty("maxFrameRate");(p!=null||f!=null)&&await this.setFrameRate({min:p,max:f});let b=(n=this.activeCameraSettings)==null?void 0:n.getProperty("manualLensPosition");b!=null&&await this.setFocus(b);let i=(c=this.activeCameraSettings)==null?void 0:c.getProperty("exposureTargetBias"),a=(m=this.activeCameraSettings)==null?void 0:m.getProperty("exposureDuration");(i!=null||a!=null)&&await this.setExposure({compensation:i,time:a})}finally{this.cameraInitializationPromise=void 0}}async initializeCameraForResolution(e,t){var n;this.gui.setCameraRecoveryVisible(!1);let r=t!=null?t:this.getInitialCameraResolutionConstraint(e);this.mediaStream!=null&&e.deviceId!==""&&((n=this.activeCamera)==null?void 0:n.deviceId)===e.deviceId?await(W.isIPhone()?this.initializeStreamForResolution(e,r):this.updateStreamForResolution(e,r)):await this.initializeStreamForResolution(e,r)}async initializeStreamForResolution(e,t){var r;await this.stopStream();try{let n=(r=this.activeCameraSettings)==null?void 0:r.getProperty("preferredAspectRatio"),c=await B.accessCameraStream(e,t,n);if(h.log(h.Level.Debug,"Camera accessed, waiting for camera video stream start..."),typeof c.getVideoTracks()[0].getSettings=="function"){let m=c.getVideoTracks()[0].getSettings();if(m.width!=null&&m.height!=null&&(m.width===2||m.height===2)){if(h.log(h.Level.Debug,"Camera video stream access failure (invalid video metadata):",e),t===4)throw new J(G.notReadableErrorParameters);return await this.stopStream(),this.initializeStreamForResolution(e,t+1)}}this.mediaStream=c;for(let m of this.mediaStream.getVideoTracks())m.addEventListener("ended",this.videoTrackEndedListener),m.addEventListener("mute",this.videoTrackMuteListener),m.addEventListener("unmute",this.videoTrackMuteListener);try{await this.setupCameraStreamVideo(e,c)}catch(m){if(t===4)throw m;return this.initializeStreamForResolution(e,t+1)}}catch(n){return this.handleCameraInitializationError(e,t,n)}}isVideoAndContextStateValid(){return this.videoElement.readyState===4&&this.videoElement.videoWidth>2&&this.videoElement.videoHeight>2&&this.canvas.width>2&&this.canvas.height>2}postStreamInitialization(){window.clearTimeout(this.getCapabilitiesTimeout),this.getCapabilitiesTimeout=window.setTimeout(()=>{this.storeStreamCapabilities(),this.setupAutofocus()},G.getCapabilitiesTimeoutMs)}async recoverStreamIfNeeded(){var t,r;let e=(t=this.mediaStream)==null?void 0:t.getVideoTracks();((r=e==null?void 0:e[0])==null?void 0:r.readyState)==="ended"&&await this.reinitializeCamera()}reportCameraProperties(e,t,r=!0){this.emit("cameraProperties",{deviceId:e,isFrontFacing:t==="userFacing",hasAutofocus:r})}setCameraAccessTimeout(){window.clearTimeout(this.cameraAccessTimeout),this.cameraAccessTimeout=window.setTimeout(async()=>{var e;document.visibilityState!=="visible"?(h.log(h.Level.Debug,"Page is currently not visible, delay camera video stream access detection"),document.addEventListener("visibilitychange",this.checkCameraVideoStreamAccessIfVisibleListener)):(await this.stopStream(!0),(e=this.cameraAccessRejectCallback)==null||e.call(this,new J(G.notReadableErrorParameters)))},G.cameraAccessTimeoutMs)}setupAutofocus(){if(window.clearTimeout(this.manualFocusWaitTimeout),window.clearTimeout(this.manualToAutofocusResumeTimeout),this.mediaStream&&this.mediaTrackCapabilities){let e=this.mediaTrackCapabilities.focusMode;Array.isArray(e)&&!e.includes("continuous")&&e.includes("single-shot")&&(window.clearInterval(this.autofocusInterval),this.autofocusInterval=window.setInterval(this.triggerAutoFocus.bind(this),G.autofocusIntervalMs))}}async setupCameraStreamVideo(e,t){this.videoElement.addEventListener("loadedmetadata",this.postStreamInitializationListener),this.videoElement.addEventListener("resize",this.videoResizeListener),this.tapToFocusEnabled&&this.enableTapToFocusListeners(),this.pinchToZoomEnabled&&this.enablePinchToZoomListeners();let r=Promise.race([this.checkCameraAccess(e),this.checkVideoMetadata(e),new Promise(n=>{this.abortedCameraInitializationResolveCallback=n})]);return this.videoElement.srcObject=t,this.videoElement.load(),await this.playVideo(),this.handleVideoResize(),this.reportCameraProperties(e.deviceId,e.position),r}async setupCamerasAndStream(){var e,t;try{let r;this.selectedCamera==null&&(r=await this.accessInitialCamera());let n=await B.getCameras(!1,!0),c=(t=(e=this.mediaStream)==null?void 0:e.getVideoTracks()[0])==null?void 0:t.getSettings().deviceId;if(this.mediaStream&&r){let m=this.getActiveCamera(n,r.label,c);if(m){if(B.adjustCameraFromMediaStream(this.mediaStream,m),W.isDesktopDevice()&&(B.setMainCameraForPositionOverridesOnDesktop(this.cameraPosition,m),B.setMainCameraForPositionOverridesOnDesktop(m.position,m)),n.length===1||B.getMainCameraForPosition(n,this.cameraPosition)===m){h.log(h.Level.Debug,"Initial camera access was correct (main camera), keep camera:",m),this.setSelectedCamera(m),this.updateActiveCameraCurrentResolution(m),await this.recoverStreamIfNeeded();return}h.log(h.Level.Debug,"Initial camera access was incorrect (not main camera), change camera",{...r,deviceId:c})}else h.log(h.Level.Debug,"Initial camera access was incorrect (unknown camera), change camera",{...r,deviceId:c})}if(this.selectedCamera==null){await this.accessAutoselectedCamera(n);return}await this.initializeCameraWithSettings(this.selectedCamera,this.selectedCameraSettings);return}finally{this.cameraSetupPromise=void 0}}storeStreamCapabilities(){var e;if(this.mediaStream){let t=this.mediaStream.getVideoTracks();t.length>0&&typeof t[0].getCapabilities=="function"&&(this.mediaTrackCapabilities=t[0].getCapabilities()),this.mediaTrackCapabilitiesPromiseResolver&&this.mediaTrackCapabilitiesPromiseResolver()}this.activeCamera&&this.reportCameraProperties(this.activeCamera.deviceId,this.activeCamera.position,((e=this.mediaTrackCapabilities)==null?void 0:e.focusMode)==null||this.mediaTrackCapabilities.focusMode.includes("continuous"))}async triggerAutoFocus(){await this.triggerFocusMode("single-shot")}async triggerFocusMode(e){if(this.mediaStream){let t=this.mediaStream.getVideoTracks();if(t.length>0&&typeof t[0].applyConstraints=="function")try{await t[0].applyConstraints({advanced:[{focusMode:e}]})}catch(r){}}}async triggerManualFocus(e){if(e){if(e.preventDefault(),e.type==="touchend"&&e.touches.length>0)return;if(this.pinchToZoomDistance!=null){this.pinchToZoomDistance=void 0;return}}if(window.clearTimeout(this.manualFocusWaitTimeout),window.clearTimeout(this.manualToAutofocusResumeTimeout),!this.mediaStream||!this.mediaTrackCapabilities)return;let t=this.mediaTrackCapabilities.focusMode;Array.isArray(t)&&t.includes("single-shot")&&(t.includes("continuous")&&t.includes("manual")?await this.triggerManualFocusForContinuous():t.includes("continuous")||await this.triggerManualFocusForSingleShot())}async triggerManualFocusForContinuous(){var r;if(!this.mediaStream)return;this.manualToAutofocusResumeTimeout=window.setTimeout(async()=>{await this.triggerFocusMode("continuous")},G.manualToAutofocusResumeTimeoutMs);let e=!0,t=this.mediaStream.getVideoTracks();t.length>0&&typeof t[0].getConstraints=="function"&&(e=((r=t[0].getConstraints().advanced)==null?void 0:r.some(n=>n.focusMode==="manual"))===!0),e?(await this.triggerFocusMode("continuous"),this.manualFocusWaitTimeout=window.setTimeout(async()=>{await this.triggerFocusMode("manual")},G.manualFocusWaitTimeoutMs)):await this.triggerFocusMode("manual")}async triggerManualFocusForSingleShot(){window.clearInterval(this.autofocusInterval),this.manualToAutofocusResumeTimeout=window.setTimeout(()=>{this.autofocusInterval=window.setInterval(this.triggerAutoFocus.bind(this),G.autofocusIntervalMs)},G.manualToAutofocusResumeTimeoutMs);try{await this.triggerFocusMode("single-shot")}catch(e){}}async triggerZoomMove(e){this.pinchToZoomDistance==null||(e==null?void 0:e.touches.length)!==2||e.preventDefault()}triggerZoomStart(e){var n,c,m,p;if((e==null?void 0:e.touches.length)!==2||(e.preventDefault(),this.pinchToZoomDistance=Math.hypot((e.touches[1].screenX-e.touches[0].screenX)/screen.width,(e.touches[1].screenY-e.touches[0].screenY)/screen.height),!this.mediaStream||!((n=this.mediaTrackCapabilities)!=null&&n.zoom)))return;let t=this.mediaStream.getVideoTracks();if(t.length===0||typeof t[0].getConstraints!="function")return;this.pinchToZoomInitialZoom=(c=this.mediaTrackCapabilities.zoom.min)!=null?c:1;let r=t[0].getConstraints();if(r.advanced){let f=(m=r.advanced.find(b=>"zoom"in b))==null?void 0:m.zoom;f!=null&&(this.pinchToZoomInitialZoom=typeof f=="number"?f:(p=f.ideal)!=null?p:1)}}updateActiveCameraCurrentResolution(e){this.videoElement.videoWidth>2&&this.videoElement.videoHeight>2&&(e.currentResolution={width:this.videoElement.videoWidth,height:this.videoElement.videoHeight}),e.deviceId!==""&&(this.activeCamera=e,this.setMirrorImageEnabled(this.isMirrorImageEnabled(),!1))}async updateStreamForResolution(e,t){var r;if(this.mediaStream==null)await this.initializeCameraForResolution(e,t);else try{let n=(r=this.activeCameraSettings)==null?void 0:r.getProperty("preferredAspectRatio");h.log(h.Level.Debug,"Setting new resolution for active camera video stream..."),await this.mediaStream.getVideoTracks()[0].applyConstraints(B.getUserMediaVideoParameters(t,n)),await new Promise(m=>{this.videoElement.addEventListener("timeupdate",()=>{m()},{once:!0})});let c=this.mediaStream.getVideoTracks()[0].getSettings();h.log(h.Level.Debug,"New active camera video stream resolution set",{width:c.width,height:c.height})}catch(n){if(t===4)throw n;await this.updateStreamForResolution(e,t+1)}}async videoTrackEndedRecovery(){if(document.visibilityState!=="visible")h.log(h.Level.Debug,"Page is currently not visible, delay camera reinitialization until visible"),document.addEventListener("visibilitychange",this.checkCameraVideoStreamAccessIfVisibleListener);else try{h.log(h.Level.Debug,'Detected video track "ended" event, try to reinitialize camera'),await this.reinitializeCamera()}catch(e){}}videoTrackMuteRecovery(e){if(this.videoElement.onloadeddata!=null){h.log(h.Level.Debug,`Detected video track "${e.type}" event, delay camera video stream access detection`),this.setCameraAccessTimeout();return}let t=e.type==="mute";t!==this.gui.isCameraRecoveryVisible()&&(h.log(h.Level.Debug,`Detected video track "${e.type}" event, ${t?"enable":"disable"} camera recovery`),this.gui.setCameraRecoveryVisible(t))}},F=G;l(F,"autofocusIntervalMs",1500),l(F,"cameraAccessTimeoutMs",4e3),l(F,"getCapabilitiesTimeoutMs",500),l(F,"manualFocusWaitTimeoutMs",400),l(F,"manualToAutofocusResumeTimeoutMs",5e3),l(F,"noCameraErrorParameters",{name:"NoCameraAvailableError",message:"No camera available"}),l(F,"notReadableErrorParameters",{name:"NotReadableError",message:"Could not initialize camera correctly"}),l(F,"videoMetadataCheckIntervalMs",50),l(F,"videoMetadataCheckTimeoutMs",4e3),l(F,"MIRRORED_CLASS_NAME",K.MIRRORED_CLASS_NAME),l(F,"_instance",null);var Ot;(e=>{async function s(t,r){return B.getCameras(t!=null?t:!1,r!=null?r:!1)}e.getCameras=s})(Ot||(Ot={}));var fe=class{constructor(e){l(this,"label");l(this,"deviceId","");l(this,"position");l(this,"_currentResolution");l(this,"cameraManager");l(this,"type","camera");l(this,"webGLContextLostListener");l(this,"_currentState","off");l(this,"settings",new ue);l(this,"_desiredTorchState","off");l(this,"_desiredState","off");l(this,"listeners",[]);l(this,"_context",null);l(this,"_desiredMirrorImageEnabled");l(this,"_lastCaptureRequestAnimationFrame");l(this,"_lastCanvasVideoPreviewAnimationFrame");l(this,"_isAndroidWebView");l(this,"stateTransitionStrategyMap",{["off"]:{["on"]:this.transitionFromStateOffToOn.bind(this),["standby"]:this.transitionFromStateOffToStandby.bind(this)},["on"]:{["off"]:this.transitionFromStateOnToOff.bind(this),["standby"]:this.transitionFromStateOnToStandby.bind(this)},["standby"]:{["off"]:this.transitionFromStateStandbyToOff.bind(this),["on"]:this.transitionFromStateStandbyToOn.bind(this)}});this.cameraManager=e!=null?e:F.instance(),this.updateCanvasVideoImage=this.updateCanvasVideoImage.bind(this),this.captureAndSend=this.captureAndSend.bind(this)}static get default(){let e=new fe;return e.position="worldFacing",e}get desiredState(){return this._desiredState}get currentResolution(){var e;return(e=this._currentResolution)!=null?e:null}get context(){return this._context}set context(e){this._context=e,this._context&&this.currentState==="on"&&this.startSendingCapturesToWorker()}get currentState(){return this._currentState}static atPosition(e){if(R.Camera.availablePositions.includes(e)){let t=new fe;return t.position=e,t}return h.log(h.Level.Warn,`invalid CameraPosition: "${e}"`),null}static fromDeviceCamera(e){let t=fe.atPosition(e.position);return t.deviceId=e.deviceId,t.label=e.label,t}async switchToDesiredState(e){var t,r;return(r=(t=this.stateTransitionStrategyMap[this.currentState])==null?void 0:t[e])==null?void 0:r.call(t)}getDesiredTorchState(){return this._desiredTorchState}async setDesiredTorchState(e){this._desiredTorchState=e,await this.cameraManager.setTorchEnabled(this._desiredTorchState==="on"),await this.notifyContext({type:"torchState",newValue:this._desiredTorchState})}async isTorchAvailable(){return this.cameraManager.isTorchAvailable()}addListener(e){e!=null&&(this.listeners.includes(e)||this.listeners.push(e))}removeListener(e){e!=null&&(!this.listeners.includes(e)||this.listeners.splice(this.listeners.indexOf(e),1))}async applySettings(e){var t;if(this.settings=new ue(e),this.currentState==="on"){let r=this.cameraManager.activeCameraSettings;(r==null?void 0:r.preferredResolution)!==this.settings.preferredResolution&&(await this.cameraManager.applyCameraSettings(this.settings),(t=this.cameraManager.activeCamera)!=null&&t.currentResolution&&(this._currentResolution={width:this.cameraManager.activeCamera.currentResolution.width,height:this.cameraManager.activeCamera.currentResolution.height})),await this.cameraManager.setZoom(this.settings.zoomFactor);let n=this.settings.getProperty("minFrameRate"),c=this.settings.getProperty("maxFrameRate");(n!=null||c!=null)&&await this.cameraManager.setFrameRate({min:n,max:c});let m=this.settings.getProperty("manualLensPosition");m!=null&&await this.cameraManager.setFocus(m);let p=this.settings.getProperty("exposureTargetBias"),f=this.settings.getProperty("exposureDuration");(p!=null||f!=null)&&await this.cameraManager.setExposure({compensation:p,time:f})}return this.notifyContext({type:"cameraSettings",newValue:this.settings})}toJSONObject(){return{type:this.type,position:this.position,settings:this.settings.toJSONObject(),desiredState:this.desiredState,desiredTorchState:this._desiredTorchState}}getMirrorImageEnabled(){var e;return(e=this._desiredMirrorImageEnabled)!=null?e:this.cameraManager.isMirrorImageEnabled()}async setMirrorImageEnabled(e){this._desiredMirrorImageEnabled=e,this.cameraManager.setMirrorImageEnabled(e,!0),this.context&&await this.context.setFrameSource(this)}getCurrentState(){return this._currentState}async setCurrentState(e){if(e!==this._currentState){this._currentState=e,this.notifyListeners();try{if(await this.notifyContext({type:"frameSourceState",newValue:e}),e==="on"){this.startSendingCapturesToWorker();return}}catch(t){h.log(h.Level.Warn,"Error while notifying context about new state of Camera")}}}async setupCamera(){if(this.cameraManager.setSelectedCameraSettings(this.settings),this.deviceId!==""){let t=(await Ot.getCameras()).find(r=>r.deviceId===this.deviceId);t&&(this.cameraManager.setInitialCameraPosition(t.position),this.cameraManager.setSelectedCamera(t))}else this.cameraManager.setSelectedCamera(),this.cameraManager.setInitialCameraPosition(this.position);await this.cameraManager.setupCameras(),typeof this._desiredMirrorImageEnabled=="boolean"?this.cameraManager.setMirrorImageEnabled(this._desiredMirrorImageEnabled,!0):this.cameraManager.setMirrorImageEnabled(this.cameraManager.isMirrorImageEnabled(),!1),this.context&&await this.context.setFrameSource(this),this.cameraManager.activeCamera&&(this.label=this.cameraManager.activeCamera.label,this.position=this.cameraManager.activeCamera.position,this.deviceId=this.cameraManager.activeCamera.deviceId,this._currentResolution=this.cameraManager.activeCamera.currentResolution)}async notifyContext(e){if(!!this.context)return this.context.update([e])}notifyListeners(){for(let e of this.listeners)e.didChangeState&&e.didChangeState(this,this.currentState)}updateCanvasVideoImage(){this.currentState==="on"&&this.context&&(this.cameraManager.updateCanvasVideoImage(),this._lastCanvasVideoPreviewAnimationFrame=this.cameraManager.requestVideoFrame(this.updateCanvasVideoImage))}async captureAndSend(){if(this.currentState!=="on"||!this.context)return;if(!this.context.hasEnabledMode()){this._lastCaptureRequestAnimationFrame=this.cameraManager.requestVideoFrame(this.captureAndSend);return}let e=null;try{e=this.cameraManager.captureImage()}catch(t){h.log(h.Level.Warn,t.message)}finally{if(e!=null)try{this.cameraManager.imageData=(await this.context.sendFrameToProcessor(e)).data}catch(t){}this._lastCaptureRequestAnimationFrame=this.cameraManager.requestVideoFrame(this.captureAndSend)}}startSendingCapturesToWorker(){this._lastCanvasVideoPreviewAnimationFrame!=null&&this.cameraManager.cancelVideoFrame(this._lastCanvasVideoPreviewAnimationFrame),this._lastCaptureRequestAnimationFrame!=null&&this.cameraManager.cancelVideoFrame(this._lastCaptureRequestAnimationFrame),this.settings.isIPhoneProCameraOptimizationEnabled(this.position)&&this.updateCanvasVideoImage(),this.captureAndSend()}async transitionFromStateOffToOn(){if(!(this.currentState==="on"||this.currentState==="starting"||this.currentState==="wakingUp")){this._desiredState="on",await this.setCurrentState("starting");try{await this.setupCamera(),await this.setCurrentState("on")}catch(e){throw h.log(h.Level.Error,e),await this.setCurrentState("off"),e}}}async transitionFromStateOffToStandby(){if(!(this.currentState==="standby"||this.currentState==="bootingUp"||this.currentState==="goingToSleep")){if(await this.isAndroidWebView()){h.log(h.Level.Warn,'Warning: "Standby" state does not work inside web views. Falling back to state "On".'),await this.transitionFromStateOffToOn();return}this._desiredState="standby",await this.setCurrentState("bootingUp");try{await this.setupCamera(),this.cameraManager.pauseStream(),await this.setCurrentState("standby")}catch(e){throw h.log(h.Level.Error,e),await this.setCurrentState("off"),e}await Promise.all([this.setCurrentState("standby"),this.setDesiredTorchState("off")])}}async transitionFromStateOnToOff(){this.currentState==="off"||this.currentState==="stopping"||(this._desiredState="off",await this.setCurrentState("stopping"),await this.cameraManager.stopStream(),await Promise.all([this.setCurrentState("off"),this.setDesiredTorchState("off")]))}async transitionFromStateOnToStandby(){if(!(this.currentState==="standby"||this.currentState==="bootingUp"||this.currentState==="goingToSleep")){if(await this.isAndroidWebView()){h.log(h.Level.Warn,'Warning: "Standby" state does not work inside web views. Falling back to state "Off".'),await this.transitionFromStateOnToOff();return}this._desiredState="standby",await this.setCurrentState("goingToSleep"),this.cameraManager.pauseStream(),await Promise.all([this.setCurrentState("standby"),this.setDesiredTorchState("off")])}}async transitionFromStateStandbyToOff(){this.currentState==="off"||this.currentState==="stopping"||(this._desiredState="off",await this.setCurrentState("shuttingDown"),await this.cameraManager.stopStream(),await Promise.all([this.setCurrentState("off"),this.setDesiredTorchState("off")]))}async transitionFromStateStandbyToOn(){this.currentState==="on"||this.currentState==="starting"||this.currentState==="wakingUp"||(this._desiredState="on",await this.setCurrentState("wakingUp"),this.cameraManager.resumeStream(),await this.setCurrentState("on"))}async isAndroidWebView(){return this._isAndroidWebView==null&&(this._isAndroidWebView=await W.isAndroidWebView()),this._isAndroidWebView}};var Nt=class{constructor(){}setProperty(e,t){this[e]=t}getProperty(e){return this[e]}toJSONObject(){return Object.keys(this).reduce((e,t)=>(e[t]=this.getProperty(t),e),{})}};var gr,fr,vr,Ke=class{constructor(e,t){l(this,"framework","web");l(this,"runtimeEnvironment",{deviceOS:(gr=W.getUserAgentInfo().getOS().name)!=null?gr:"",browser:(fr=W.getUserAgentInfo().getBrowser().name)!=null?fr:"",browserVersion:(vr=W.getUserAgentInfo().getBrowser().version)!=null?vr:"",get deviceModelName(){let{model:e,vendor:t}=W.getUserAgentInfo().getDevice();return(t==null||t==="")&&(t="Unknown"),(e==null||e==="")&&(e="Unknown"),[t,e].join(" ")}});l(this,"settings",new Nt);l(this,"licenseKey");l(this,"deviceName");l(this,"_frameSource",null);l(this,"_view",null);l(this,"modes",[]);l(this,"components",[]);l(this,"listeners",[]);l(this,"cameraPropertiesReportListener",this.reportCameraProperties.bind(this));l(this,"cameraAccessErrorListener",this.onCameraAccessError.bind(this));l(this,"onWorkerMessageListener",this.onWorkerMessage.bind(this));l(this,"dataCaptureInstance");l(this,"delayedRegistration");l(this,"highEndBlurryRecognition");l(this,"_frameHandlers",[]);var r,n,c,m;this.licenseKey=e,this.deviceName=(r=t.deviceName)!=null?r:"",this.dataCaptureInstance=(n=t.dataCaptureInstance)!=null?n:ee.mainDataCaptureLoader,this.delayedRegistration=(c=t.delayedRegistration)!=null?c:!1,this.highEndBlurryRecognition=(m=t.highEndBlurryRecognition)!=null?m:!1}get frameSource(){return this._frameSource}get workerCommand(){return this.dataCaptureInstance.workerCommand.bind(this.dataCaptureInstance)}static async create(){return Ke.createWithOptions({})}static async createWithOptions(e){var r;let t=new Ke((r=e.licenseKey)!=null?r:ee.userLicenseKey,{deviceName:e.deviceName});return e.settings!=null&&await t.applySettings(e.settings),await t.initialize(),t}async setFrameSource(e){let t=e!==this._frameSource;if(this._frameSource!==null&&(this._frameSource.context=null),this._frameSource=e!=null?e:null,e&&(e.context=this,await this.workerCommand("setFrameSource",{mirrorAxis:this.getMirrorAxisForFrameSource(e)})),await this.update([{type:"frameSourceState",newValue:this.frameSource}]),t)for(let r of this.listeners)r.didChangeFrameSource&&r.didChangeFrameSource(this,this._frameSource)}addListener(e){this.listeners.includes(e)||this.listeners.push(e)}removeListener(e){!this.listeners.includes(e)||this.listeners.splice(this.listeners.indexOf(e),1)}async addMode(e){this.modes.includes(e)||(this.modes.push(e),e.attachedToContext(this),await this.update())}async removeMode(e){this.modes.includes(e)&&(this.modes.splice(this.modes.indexOf(e),1),await e.detachedFromContext(),await this.update())}async removeAllModes(){for(;this.modes.length>0;)await this.removeMode(this.modes[0])}async dispose(){F.instance().removeListener("cameraProperties",this.cameraPropertiesReportListener),F.instance().removeListener("cameraAccessError",this.cameraAccessErrorListener),await this.workerCommand("dispose",{})}async applySettings(e){this.settings=e,await this.update()}toJSONObject(){var e,t;return{licenseKey:this.licenseKey,framework:this.framework,deviceName:this.deviceName,...this.runtimeEnvironment,modes:this.modes.map(r=>r.toJSONObject()),components:this.components.map(r=>r.toJSONObject()),frameSource:this.frameSource?this.frameSource.toJSONObject():null,settings:this.settings.toJSONObject(),view:(t=(e=this._view)==null?void 0:e.toJSONObject())!=null?t:null}}getView(){return this._view}async setView(e){return this._view=e,this.update()}async initialize(e=!0){await this.workerCommand("createContext",{context:this.toJSONObject(),deviceId:Ke.deviceID,domain:window.location.hostname,delayedRegistration:this.delayedRegistration,highEndBlurryRecognition:this.highEndBlurryRecognition}),this.subscribeToWorkerMessages(this.onWorkerMessageListener),e&&this.subscribeToCameraManagerEvents()}async requestFrameData(e){return this.workerCommand("requestFrameData",{frameId:e})}async sendFrameToProcessor(e){if(this._frameHandlers.length===0)return this.sendFrameToSDC(e);let t=[];for(let r of this._frameHandlers)t.push(r(e));return await Promise.all(t),this.sendFrameToSDC(e)}async sendFrameToSDC(e){return this.workerCommand("processFrame",e,[e.data.buffer])}registerFrameHandler(e){this._frameHandlers.includes(e)||this._frameHandlers.push(e)}unregisterFrameHandler(e){this._frameHandlers.includes(e)&&this._frameHandlers.splice(this._frameHandlers.indexOf(e),1)}onWorkerMessage(e){if(e.type==="contextDidChangeStatus"){e.payload.isValid||h.log(h.Level.Error,e.payload);for(let t of this.listeners)t.didChangeStatus&&t.didChangeStatus(this,ge.fromJSON(e.payload))}if(e.type==="didStartObservingContext")for(let t of this.listeners)t.didStartObservingContext&&t.didStartObservingContext(this)}subscribeToCameraManagerEvents(){F.instance().addListener("cameraProperties",this.cameraPropertiesReportListener),F.instance().addListener("cameraAccessError",this.cameraAccessErrorListener)}async reportCameraProperties(e){return this.workerCommand("reportCameraProperties",e)}onCameraAccessError(e){for(let t of this.listeners)t.didChangeStatus&&t.didChangeStatus(this,ge.fromJSON({code:33794,isValid:!0,message:e.toString()}))}async update(e=[]){var t,r;await this.updateContext();for(let n of e)n.type==="frameSourceState"?await((t=this._view)==null?void 0:t.onFrameSourceChange(this.frameSource)):n.type==="singleImageModeUploaderSettings"&&((r=this._view)==null||r.onSingleImageUploaderSettingsChange(n.newValue))}async updateContext(){await this.workerCommand("updateContext",{context:this.toJSONObject(),...this.getViewWidthAndHeight()}).catch(e=>{h.log(h.Level.Warn,"Error while updating context:",e)})}getViewWidthAndHeight(){return this._view!=null?{view:{width:this._view.width,height:this._view.height}}:{view:null}}getMirrorAxisForFrameSource(e){let t="None";return Me(e)&&e.getMirrorImageEnabled()&&(t="Y"),t}async addComponent(e){if(!this.components.includes(e))return this.components.push(e),e._context=this,this.update()}subscribeToWorkerMessages(e){this.dataCaptureInstance.addWorkerListener(e)}unsubscribeToWorkerMessages(e){this.dataCaptureInstance.removeWorkerListener(e)}hasEnabledMode(){return this.modes.some(e=>e.isEnabled())}},Ci=Ke;l(Ci,"deviceID",W.getDeviceId());var oe=[];var br=function(){return oe.some(function(s){return s.activeTargets.length>0})};var Cr=function(){return oe.some(function(s){return s.skippedTargets.length>0})};var Sr="ResizeObserver loop completed with undelivered notifications.",Ar=function(){var s;typeof ErrorEvent=="function"?s=new ErrorEvent("error",{message:Sr}):(s=document.createEvent("Event"),s.initEvent("error",!1,!1),s.message=Sr),window.dispatchEvent(s)};var Le;(function(s){s.BORDER_BOX="border-box",s.CONTENT_BOX="content-box",s.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Le||(Le={}));var se=function(s){return Object.freeze(s)};var Si=function(){function s(e,t){this.inlineSize=e,this.blockSize=t,se(this)}return s}();var Ai=function(){function s(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,se(this)}return s.prototype.toJSON=function(){var e=this,t=e.x,r=e.y,n=e.top,c=e.right,m=e.bottom,p=e.left,f=e.width,b=e.height;return{x:t,y:r,top:n,right:c,bottom:m,left:p,width:f,height:b}},s.fromRect=function(e){return new s(e.x,e.y,e.width,e.height)},s}();var Xe=function(s){return s instanceof SVGElement&&"getBBox"in s},Tt=function(s){if(Xe(s)){var e=s.getBBox(),t=e.width,r=e.height;return!t&&!r}var n=s,c=n.offsetWidth,m=n.offsetHeight;return!(c||m||s.getClientRects().length)},wi=function(s){var e;if(s instanceof Element)return!0;var t=(e=s==null?void 0:s.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(t&&s instanceof t.Element)},wr=function(s){switch(s.tagName){case"INPUT":if(s.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1};var xe=typeof window<"u"?window:{};var Rt=new WeakMap,yr=/auto|scroll/,Ta=/^tb|vertical/,Ra=/msie|trident/i.test(xe.navigator&&xe.navigator.userAgent),me=function(s){return parseFloat(s||"0")},Ve=function(s,e,t){return s===void 0&&(s=0),e===void 0&&(e=0),t===void 0&&(t=!1),new Si((t?e:s)||0,(t?s:e)||0)},Mr=se({devicePixelContentBoxSize:Ve(),borderBoxSize:Ve(),contentBoxSize:Ve(),contentRect:new Ai(0,0,0,0)}),yi=function(s,e){if(e===void 0&&(e=!1),Rt.has(s)&&!e)return Rt.get(s);if(Tt(s))return Rt.set(s,Mr),Mr;var t=getComputedStyle(s),r=Xe(s)&&s.ownerSVGElement&&s.getBBox(),n=!Ra&&t.boxSizing==="border-box",c=Ta.test(t.writingMode||""),m=!r&&yr.test(t.overflowY||""),p=!r&&yr.test(t.overflowX||""),f=r?0:me(t.paddingTop),b=r?0:me(t.paddingRight),i=r?0:me(t.paddingBottom),a=r?0:me(t.paddingLeft),o=r?0:me(t.borderTopWidth),d=r?0:me(t.borderRightWidth),u=r?0:me(t.borderBottomWidth),v=r?0:me(t.borderLeftWidth),g=a+b,C=f+i,S=v+d,T=o+u,w=p?s.offsetHeight-T-s.clientHeight:0,D=m?s.offsetWidth-S-s.clientWidth:0,E=n?g+S:0,z=n?C+T:0,O=r?r.width:me(t.width)-E-D,$=r?r.height:me(t.height)-z-w,te=O+g+D+S,re=$+C+w+T,ae=se({devicePixelContentBoxSize:Ve(Math.round(O*devicePixelRatio),Math.round($*devicePixelRatio),c),borderBoxSize:Ve(te,re,c),contentBoxSize:Ve(O,$,c),contentRect:new Ai(a,f,O,$)});return Rt.set(s,ae),ae},kt=function(s,e,t){var r=yi(s,t),n=r.borderBoxSize,c=r.contentBoxSize,m=r.devicePixelContentBoxSize;switch(e){case Le.DEVICE_PIXEL_CONTENT_BOX:return m;case Le.BORDER_BOX:return n;default:return c}};var Mi=function(){function s(e){var t=yi(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=se([t.borderBoxSize]),this.contentBoxSize=se([t.contentBoxSize]),this.devicePixelContentBoxSize=se([t.devicePixelContentBoxSize])}return s}();var Pt=function(s){if(Tt(s))return 1/0;for(var e=0,t=s.parentNode;t;)e+=1,t=t.parentNode;return e};var Lr=function(){var s=1/0,e=[];oe.forEach(function(m){if(m.activeTargets.length!==0){var p=[];m.activeTargets.forEach(function(b){var i=new Mi(b.target),a=Pt(b.target);p.push(i),b.lastReportedSize=kt(b.target,b.observedBox),a<s&&(s=a)}),e.push(function(){m.callback.call(m.observer,p,m.observer)}),m.activeTargets.splice(0,m.activeTargets.length)}});for(var t=0,r=e;t<r.length;t++){var n=r[t];n()}return s};var Li=function(s){oe.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(Pt(n.target)>s?t.activeTargets.push(n):t.skippedTargets.push(n))})})};var xr=function(){var s=0;for(Li(s);br();)s=Lr(),Li(s);return Cr()&&Ar(),s>0};var xi,_r=[],ka=function(){return _r.splice(0).forEach(function(s){return s()})},Er=function(s){if(!xi){var e=0,t=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return ka()}).observe(t,r),xi=function(){t.textContent="".concat(e?e--:e++)}}_r.push(s),xi()};var Dr=function(s){Er(function(){requestAnimationFrame(s)})};var Ft=0,Pa=function(){return!!Ft},Fa=250,za={attributes:!0,characterData:!0,childList:!0,subtree:!0},Ir=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Or=function(s){return s===void 0&&(s=0),Date.now()+s},_i=!1,Wa=function(){function s(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return s.prototype.run=function(e){var t=this;if(e===void 0&&(e=Fa),!_i){_i=!0;var r=Or(e);Dr(function(){var n=!1;try{n=xr()}finally{if(_i=!1,e=r-Or(),!Pa())return;n?t.run(1e3):e>0?t.run(e):t.start()}})}},s.prototype.schedule=function(){this.stop(),this.run()},s.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,za)};document.body?t():xe.addEventListener("DOMContentLoaded",t)},s.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Ir.forEach(function(t){return xe.addEventListener(t,e.listener,!0)}))},s.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Ir.forEach(function(t){return xe.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},s}(),zt=new Wa,Ei=function(s){!Ft&&s>0&&zt.start(),Ft+=s,!Ft&&zt.stop()};var Ua=function(s){return!Xe(s)&&!wr(s)&&getComputedStyle(s).display==="inline"},Nr=function(){function s(e,t){this.target=e,this.observedBox=t||Le.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return s.prototype.isActive=function(){var e=kt(this.target,this.observedBox,!0);return Ua(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},s}();var Tr=function(){function s(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t}return s}();var Wt=new WeakMap,Rr=function(s,e){for(var t=0;t<s.length;t+=1)if(s[t].target===e)return t;return-1},et=function(){function s(){}return s.connect=function(e,t){var r=new Tr(e,t);Wt.set(e,r)},s.observe=function(e,t,r){var n=Wt.get(e),c=n.observationTargets.length===0;Rr(n.observationTargets,t)<0&&(c&&oe.push(n),n.observationTargets.push(new Nr(t,r&&r.box)),Ei(1),zt.schedule())},s.unobserve=function(e,t){var r=Wt.get(e),n=Rr(r.observationTargets,t),c=r.observationTargets.length===1;n>=0&&(c&&oe.splice(oe.indexOf(r),1),r.observationTargets.splice(n,1),Ei(-1))},s.disconnect=function(e){var t=this,r=Wt.get(e);r.observationTargets.slice().forEach(function(n){return t.unobserve(e,n.target)}),r.activeTargets.splice(0,r.activeTargets.length)},s}();var Di=function(){function s(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");et.connect(this,e)}return s.prototype.observe=function(e,t){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!wi(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");et.observe(this,e,t)},s.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!wi(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");et.unobserve(this,e)},s.prototype.disconnect=function(){et.disconnect(this)},s.toString=function(){return"function ResizeObserver () { [polyfill code] }"},s}();var Ut=class{constructor(e){l(this,"_context",null);l(this,"resizeObserver");l(this,"isNextDrawPending",!1);l(this,"latestCommands",[]);l(this,"canvas");l(this,"pathWinding","nonzero");this.canvas=e}get context(){if(!this._context&&(this._context=this.canvas.getContext("2d"),!this._context))throw new TypeError("CanvasRenderingContext cannot be retrieved.");return this._context}draw(e){if(this.latestCommands=e,!this.isCanvasReady()){this.postponeDraw();return}this.isNextDrawPending||(this.isNextDrawPending=!0,requestAnimationFrame(this.doDraw.bind(this)))}updateCanvasSizeAttributes(e,t,r=window.devicePixelRatio){let n=Math.round(e*r),c=Math.round(t*r);(n!==this.canvas.width||c!==this.canvas.height)&&(this.canvas.width=n,this.canvas.height=c,this.context.scale(r,r))}startObservingCanvasResize(){if(!this.resizeObserver){if(!Ut.ResizeObserver)throw new Error("PrivateCanvasDrawer.ResizeObserver is not set");this.resizeObserver=new Ut.ResizeObserver(e=>{var c;let[t]=e,{width:r,height:n}=(c=t.contentRect)!=null?c:this.canvas;r===0||n===0||(this.updateCanvasSizeAttributes(r,n),this.latestCommands.length!==0&&(this.draw(this.latestCommands),this.latestCommands=[]))}),this.resizeObserver.observe(this.canvas)}}endObservingCanvasResize(){this.resizeObserver&&this.resizeObserver.unobserve(this.canvas)}doDraw(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(let e of this.latestCommands)this.drawSingleCommand(e);this.isNextDrawPending=!1}postponeDraw(){this.startObservingCanvasResize()}drawSingleCommand(e){switch(e.command){case"beginPath":this.beginPath();break;case"closePath":this.closePath();break;case"setStrokeColor":this.setStrokeColor(e.args);break;case"setFillColor":this.setFillColor(e.args);break;case"fill":this.fill();break;case"stroke":this.stroke();break;case"addCircle":this.addCircle(e.args);break;case"addLine":this.addLine(e.args);break;case"lineTo":this.lineTo(e.args);break;case"moveTo":this.moveTo(e.args);break;case"addRect":this.addRectangle(e.args);break;case"addRoundedRect":this.addRoundedRectangle(e.args);break;case"setStrokeWidth":this.setStrokeWidth(e.args);break;case"addArc":this.addArc(e.args);break;case"bezierTo":this.bezierTo(e.args);break;case"saveState":this.saveState();break;case"restoreState":this.restoreState();break;case"translate":this.translate(e.args);break;case"transform":this.transform(e.args);break;case"scale":this.scale(e.args);break;case"addPathWinding":this.addPathWinding(e.args);break;default:_t(e)}}beginPath(){this.context.beginPath()}closePath(){this.context.closePath()}setStrokeColor(e){this.context.strokeStyle=this.colorToRgbaString(e.color)}setFillColor(e){this.context.fillStyle=this.colorToRgbaString(e.color)}fill(){this.context.fill(this.pathWinding)}stroke(){this.context.stroke()}addLine(e){this.context.moveTo(e.start.x,e.start.y),this.context.lineTo(e.end.x,e.end.y)}lineTo(e){this.context.lineTo(e.point.x,e.point.y)}moveTo(e){this.context.moveTo(e.point.x,e.point.y)}addRectangle(e){this.context.rect(e.origin.x,e.origin.y,e.size.width,e.size.height)}addRoundedRectangle(e){let{origin:t,radius:r,size:n}=e;this.context.moveTo(t.x+r,t.y),this.context.lineTo(t.x+n.width-r,t.y),this.context.quadraticCurveTo(t.x+n.width,t.y,t.x+n.width,t.y+r),this.context.lineTo(t.x+n.width,t.y+n.height-r),this.context.quadraticCurveTo(t.x+n.width,t.y+n.height,t.x+n.width-r,t.y+n.height),this.context.lineTo(t.x+r,t.y+n.height),this.context.quadraticCurveTo(t.x,t.y+n.height,t.x,t.y+n.height-r),this.context.lineTo(t.x,t.y+r),this.context.quadraticCurveTo(t.x,t.y,t.x+r,t.y),this.context.closePath()}setStrokeWidth(e){this.context.lineWidth=e.width}addArc(e){this.context.arc(e.center.x,e.center.y,e.radius,e.startAngle,e.endAngle,e.counterclockwise)}addCircle(e){this.context.arc(e.center.x,e.center.y,e.radius,0,Math.PI*2)}bezierTo(e){this.context.bezierCurveTo(e.firstControlPoint.x,e.firstControlPoint.y,e.secondControlPoint.x,e.secondControlPoint.y,e.endPoint.x,e.endPoint.y)}saveState(){this.context.save()}restoreState(){this.context.restore()}translate(e){this.context.translate(e.distance.x,e.distance.y)}transform(e){this.context.transform(e.a00,e.a01,e.a02,e.a10,e.a11,e.a12)}scale(e){this.context.scale(e.factor,e.factor)}addPathWinding(e){this.pathWinding=e.winding}colorToRgbaString(e){return`rgba(${e.r},${e.g},${e.b},${e.a})`}isCanvasReady(){return this.canvas.width>0&&this.canvas.height>0}},_e=Ut;l(_e,"ResizeObserver","ResizeObserver"in globalThis?globalThis.ResizeObserver:void 0);var ja={processedFramesCount:{text:"Frames processed by engine",valueSuffix:"/sec"},frameDataPoolSize:{text:"Frame data pool size",valueSuffix:""},redrawRequestsCount:{text:"Engine redraw requests",valueSuffix:"/sec"},actualRedrawsCount:{text:"Actual redraws",valueSuffix:"/sec"},FPS:{text:"Overlay FPS ",valueSuffix:"/sec"}},jt=class extends _e{constructor(){super(...arguments);l(this,"drawPerformanceTimer",null);l(this,"drawPerformanceFPSCounter",0);l(this,"lastDrawPerformanceFPSCounter",0);l(this,"performanceMetrics")}setPerformanceMetrics(t){this.performanceMetrics=t,this.drawPerformanceMetrics()}doDraw(){super.doDraw()}drawPerformanceMetrics(){this.drawPerformanceTimer==null&&(h.log(h.Level.Debug,"Drawing performance monitoring enabled, FPS will be drawn into canvas"),this.drawPerformanceTimer=setInterval(()=>{this.lastDrawPerformanceFPSCounter=this.drawPerformanceFPSCounter,this.drawPerformanceFPSCounter=0},1e3)),this.drawPerformanceFPSCounter++,this.drawFullPerformanceMetrics()}drawFullPerformanceMetrics(){let t={...this.performanceMetrics,FPS:this.lastDrawPerformanceFPSCounter};this.context.lineWidth=1,this.context.fillStyle="white",this.context.strokeStyle="black";let r=Math.min(Math.max(window.innerWidth/35,13),20),n=3*r,c=1.5;this.context.font=`bold ${r}px sans-serif`;let m=0,p=0,f=[];for(let[b,i]of Object.entries(t)){let a=ja[b],o=`${a.text}: ${i}${a.valueSuffix}`;p=Math.max(this.context.measureText(o).width,p),f.push([o,n,n+r*c*m++])}this.context.clearRect(n,n-r,p,Object.values(t).length*r*c);for(let b of f)this.context.fillText(...b),this.context.strokeText(...b)}};var tt=class{constructor(){l(this,"_listeners",new Set)}get listeners(){return[...this._listeners]}addListener(e){this._listeners.add(e)}removeListener(e){this._listeners.delete(e)}};var Ii=class{constructor(){l(this,"hasApi",!1);l(this,"hasTouch",!1);l(this,"requiresPrefix",!1)}detect(){var e;try{"PointerEvent"in window?this.hasApi=!0:"msPointerEnabled"in navigator&&(this.hasApi=!0,this.requiresPrefix=!0);let t=(e=navigator.msMaxTouchPoints)!=null?e:navigator.maxTouchPoints;this.hasTouch=t>0}catch(t){}}prefixIfNeeded(e){return this.requiresPrefix?Ii.prefixEventMap[e]:e}},Vt=Ii;l(Vt,"prefixEventMap",{pointerdown:"MSPointerDown",pointerup:"MSPointerUp",pointercancel:"MSPointerCancel",pointermove:"MSPointerMove",pointerover:"MSPointerOver",pointerout:"MSPointerOut",pointerenter:"MSPointerEnter",pointerleave:"MSPointerLeave",gotpointercapture:"MSGotPointerCapture",lostpointercapture:"MSLostPointerCapture"});var it=new Vt;var rt=class extends tt{constructor(t){super();l(this,"element");l(this,"_onTouchStart",this.onTouchStart.bind(this));l(this,"_onPointerDown",this.onPointerDown.bind(this));it.detect(),this.element=t,this.addPointerDownListener()}removeAllListeners(){this.element.removeEventListener("touchend",this._onTouchStart),this.element.removeEventListener("mousedown",this._onPointerDown),this.element.removeEventListener("pointerdown",this._onPointerDown)}addPointerDownListener(){it.hasApi?this.element.addEventListener(it.prefixIfNeeded("pointerdown"),this._onPointerDown):it.hasTouch?this.element.addEventListener("touchstart",this._onTouchStart):this.element.addEventListener("mousedown",this._onPointerDown)}onPointerDown(t){let{clientX:r,clientY:n,button:c,currentTarget:m=this.element}=t;c===0&&this.onTap(this.pointRelativeToElement({clientX:r,clientY:n,rect:m.getBoundingClientRect()}))}onTouchStart(t){let[r]=t.touches,{clientX:n,clientY:c}=r;this.onTap(this.pointRelativeToElement({clientX:n,clientY:c,rect:this.element.getBoundingClientRect()}))}pointRelativeToElement({clientX:t,clientY:r,rect:n}){return new ne(t-n.left,r-n.top)}onTap(t){var r;for(let n of this.listeners)(r=n.onTap)==null||r.call(n,t)}};var Ee=class{constructor(e){l(this,"element");l(this,"resizeObserver");l(this,"mutationObserver");l(this,"onStateChangedListener");l(this,"onDisconnectedListener");l(this,"cachedDOMRect");this.element=e,this.setupListeners(),this.cacheDOMRect()}get width(){return this.cachedDOMRect.width}get height(){return this.cachedDOMRect.height}static areEquivalentJSONStates(e,t){return!e||!t?!1:e.size.isSameAs(t.size)&&e.visible===t.visible}onStateChanged(e){this.onStateChangedListener=e}onDisconnected(e){this.onDisconnectedListener=e}toJSONObject(){return{size:new we(new U(this.width,"pixel"),new U(this.height,"pixel")),visible:this.isVisible()}}isSameAs(e){return Ee.areEquivalentJSONStates(this.toJSONObject(),e.toJSONObject())}removeListeners(){this.resizeObserver.disconnect(),this.mutationObserver.disconnect()}isVisible(){return this.width>0&&this.height>0||this.element.getClientRects().length>0}setupListeners(){this.resizeObserver=new ResizeObserver(this.onSizeChange.bind(this)),this.resizeObserver.observe(this.element),this.mutationObserver=new MutationObserver(this.onMutation.bind(this)),this.element.parentElement&&this.mutationObserver.observe(this.element.parentElement,{childList:!0})}onSizeChange(e){var t;this.cacheDOMRect(e),document.contains(this.element)&&((t=this.onStateChangedListener)==null||t.call(this))}onMutation(e){var r;let t=e.find(({type:n})=>n==="childList");if(!!t){for(let n of t.removedNodes)if(n===this.element&&!document.contains(this.element)){(r=this.onDisconnectedListener)==null||r.call(this);return}}}cacheDOMRect(e){let t;Array.isArray(e)&&e.length>0&&(t=e[0].contentRect),t==null&&(t=this.element.getBoundingClientRect()),this.cachedDOMRect=t}};var y={CONTAINER_CLASS_NAME:K.CONTAINER_CLASS_NAME,PAINTBOARD_CLASS_NAME:K.PAINTBOARD_CLASS_NAME,PAINTBOARD_CLASS_NAME_STATE_ON:K.PAINTBOARD_CLASS_NAME_STATE_ON,CONTROLS_CLASS_NAME:K.CONTROLS_CLASS_NAME,CONTROL_WIDGET_CLASS_NAME:K.CONTROL_WIDGET_CLASS_NAME,MIRRORED_CLASS_NAME:K.MIRRORED_CLASS_NAME,CAMERA_RECOVERY_CLASS_NAME:K.CAMERA_RECOVERY_CLASS_NAME,ERROR_CLASS_NAME:K.ERROR_CLASS_NAME,HINT_CONTAINER_CLASS_NAME:K.HINT_CONTAINER_CLASS_NAME,HINT_CLASS_NAME:K.HINT_CLASS_NAME,PAINTBOARDS_CONTAINER_CLASS_NAME:K.PAINTBOARDS_CONTAINER_CLASS_NAME,SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME:K.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME,CANVAS_VIDEO_PREVIEW_CLASS_NAME:K.CANVAS_VIDEO_PREVIEW_CLASS_NAME,TORCH_SWITCH_CONTROL_CLASS_NAME:K.TORCH_SWITCH_CONTROL_CLASS_NAME,CAMERA_SWITCH_CONTROL_CLASS_NAME:K.CAMERA_SWITCH_CONTROL_CLASS_NAME,CAMERA_FOV_SWITCH_CONTROL_CLASS_NAME:K.CAMERA_FOV_SWITCH_CONTROL_CLASS_NAME};var at=class{constructor(e,t){l(this,"domHost");l(this,"state","idle");l(this,"button");l(this,"isHover",!1);l(this,"onTouchStartListener");l(this,"onMouseEnterListener");l(this,"onMouseLeaveListener");l(this,"onClickListener");l(this,"control");this.control=e,this.domHost=t,this.onTouchStartListener=this.onTouchStart.bind(this),this.onMouseEnterListener=this.onMouseEnter.bind(this),this.onMouseLeaveListener=this.onMouseLeave.bind(this),this.onClickListener=this.onClick.bind(this)}get frameSource(){var e,t;return(t=(e=this.control.view)==null?void 0:e.getContext())==null?void 0:t.frameSource}get context(){var e;return(e=this.control.view)==null?void 0:e.getContext()}async install(){!this.button||(await this.canShow()?(this.updateButtonBackground(this.button,this.getImageFromState()),this.show()):this.hide())}remove(e=!1){e&&this.button?(this.button.removeEventListener("mouseenter",this.onMouseEnterListener),this.button.removeEventListener("mouseleave",this.onMouseLeaveListener),this.button.removeEventListener("touchstart",this.onTouchStartListener),this.button.removeEventListener("click",this.onClickListener),this.button.remove(),this.isHover=!1,this.button=void 0):this.hide()}hide(){this.button&&(this.button.style.display="none")}show(){this.button&&(this.button.style.display="block")}setupButton(){let e=document.createElement("button");return e.type="button",e.style.display="none",e.className=`scandit-control-widget scandit-control-widget-${this.control.type}`,this.updateButtonBackground(e,this.getImageFromState()),this.domHost.append(e),e.addEventListener("mouseenter",this.onMouseEnterListener),e.addEventListener("mouseleave",this.onMouseLeaveListener),W.isDesktopDevice()||e.addEventListener("touchstart",this.onTouchStartListener),e.addEventListener("click",this.onClickListener),e.setAttribute("aria-pressed",String(this.state==="pressed")),this.button=e,this.button}onTouchStart(){var e,t;(e=this.button)==null||e.removeEventListener("mouseenter",this.onMouseEnterListener),(t=this.button)==null||t.removeEventListener("mouseleave",this.onMouseLeaveListener)}onMouseEnter(){this.isHover=!0,this.updateButtonBackground(this.button,this.getImageFromState())}onMouseLeave(){this.isHover=!1,this.updateButtonBackground(this.button,this.getImageFromState())}onClick(){var e;this.state=this.state==="pressed"?"idle":"pressed",this.buttonClicked(),this.updateButtonBackground(this.button,this.getImageFromState()),(e=this.button)==null||e.setAttribute("aria-pressed",String(this.state==="pressed"))}updateButtonBackground(e,t){t!=null&&e!=null&&(e.style.backgroundImage=`url(${t})`)}},Bt=class extends at{constructor(e,t){super(e,t),this.setup()}async buttonClicked(){await this.frameSource.setDesiredTorchState(this.retrieveTorchState()==="on"?"off":"on")}async canShow(){return this.isTorchAvailable()}getImageFromState(){return this.retrieveTorchState()==="on"?this.isHover?this.control.torchOnPressedImage:this.control.torchOnImage:this.isHover?this.control.torchOffPressedImage:this.control.torchOffImage}setup(){if(this.control.torchOffImage==null||this.control.torchOnImage==null){h.log(h.Level.Warn,"TorchSwitchControl icon is not set or is empty, the control will not be rendered.");return}this.button=this.setupButton()}async isTorchAvailable(){return Me(this.frameSource)?this.frameSource.isTorchAvailable():!1}retrieveTorchState(){return Me(this.frameSource)?this.frameSource.getDesiredTorchState():"off"}},Se=class extends at{constructor(t,r){super(t,r);l(this,"isTransitioning");this.setup()}static get Camera(){return fe}static get CameraAccess(){return B}async canShow(){return(await Se.CameraAccess.getCameras()).length>1}getImageFromState(){return this.isHover?this.control.pressedImage:this.control.idleImage}async buttonClicked(){if(this.isTransitioning)return;let t=await this.getNextDeviceCamera();t&&await this.switchCameras(t)}setup(){if(this.control.idleImage==null){h.log(h.Level.Warn,"CameraSwitchControl idle icon is not set or is empty, the control will not be rendered.");return}this.button=this.setupButton()}async getNextDeviceCamera(){var m,p;let t=await Se.CameraAccess.getCameras(),r=this.frameSource?this.frameSource:null,n=(m=r==null?void 0:r.cameraManager.activeCamera)==null?void 0:m.deviceId,c=t.findIndex(f=>f.deviceId===n);return c>-1?(p=t[c+1])!=null?p:t[0]:t.length>0?t[0]:null}async switchCameras(t){var c;this.isTransitioning=!0;let r=this.frameSource;r!=null&&await r.switchToDesiredState("off");let n=new Se.Camera;n.deviceId=t.deviceId,r!=null&&await n.applySettings(new ue(r.settings)),await n.switchToDesiredState("on"),await((c=this.context)==null?void 0:c.setFrameSource(n)),this.isTransitioning=!1}},De=class extends at{constructor(t,r){super(t,r);l(this,"isTransitioning");this.setup()}static get Camera(){return fe}static get CameraAccess(){return B}async canShow(){return!W.isBrokenIPhoneCameraDevice()||!W.isIOSDeviceWithExtendedCameraAccess()?!1:Me(this.frameSource)?B.isIOSWideBackCameraLabel(this.frameSource.label)||B.isIOSUltraWideBackCameraLabel(this.frameSource.label):!1}getImageFromState(){return this.isUltraWideBackCamera()?this.isHover?this.control.cameraFOVUltraWidePressedImage:this.control.cameraFOVUltraWideImage:this.isHover?this.control.cameraFOVWidePressedImage:this.control.cameraFOVWideImage}async buttonClicked(){if(this.isTransitioning)return;let t=await this.getAlternativeDeviceCamera();t&&await this.switchCameras(t)}setup(){if(this.control.cameraFOVUltraWideImage==null||this.control.cameraFOVWideImage==null){h.log(h.Level.Warn,"CameraFOVSwitchControl icon is not set or is empty, the control will not be rendered.");return}this.button=this.setupButton()}isUltraWideBackCamera(){return Me(this.frameSource)?B.isIOSUltraWideBackCameraLabel(this.frameSource.label):!1}async getAlternativeDeviceCamera(){return(await De.CameraAccess.getCameras()).find(r=>this.isUltraWideBackCamera()?B.isIOSWideBackCameraLabel(r.label):B.isIOSUltraWideBackCameraLabel(r.label))}async switchCameras(t){var c;this.isTransitioning=!0;let r=this.frameSource;r!=null&&await r.switchToDesiredState("off");let n=new De.Camera;n.deviceId=t.deviceId,r!=null&&await n.applySettings(new ue(r.settings)),await n.switchToDesiredState("on"),await((c=this.context)==null?void 0:c.setFrameSource(n)),this.isTransitioning=!1}};function kr(){return`
    .${y.CONTAINER_CLASS_NAME}::before {
      content: " ";
      position: absolute;
      top: 0;
      left: 0;
      width: 1px;
      height: 1px;
      background-color: white;
      pointer-events: none;
      opacity: 0;
      animation: scandit-rotation 1s linear infinite;
    }

    @keyframes scandit-rotation {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }

    .${y.CONTAINER_CLASS_NAME} {
      display: flex;
      /* Without this the flex child overflows its parent on Chrome mobile: */
      flex-direction: column;
      width: 100%;
      height: 100%;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .${y.PAINTBOARDS_CONTAINER_CLASS_NAME} {
      position: relative;
      width: 100%;
      height: inherit;
    }

    .${y.PAINTBOARD_CLASS_NAME} {
      position: relative;
      width: 100%;
      height: 100%;
      min-width: 1px;
      min-height: 1px;
      background-color: black;
      aspect-ratio: 16 / 9;
    }

    .${y.PAINTBOARD_CLASS_NAME}.${y.PAINTBOARD_CLASS_NAME_STATE_ON} {
      aspect-ratio: auto
    }

    .${y.PAINTBOARD_CLASS_NAME} video {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: opacity 300ms;
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.MIRRORED_CLASS_NAME} {
      transform: scale(-1, 1);
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.CAMERA_RECOVERY_CLASS_NAME} {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 5;
      cursor: pointer;
      background-color: #000;
      color: #fff;
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.ERROR_CLASS_NAME} {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      z-index: 6;
      color: white;
      background-color: rgba(0,0,0,0.5);
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.HINT_CONTAINER_CLASS_NAME} {
      position: absolute;
      width: 100%;
      top: 5vh;
      bottom: 5vh;
      display: grid;
      pointer-events: none;
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.HINT_CLASS_NAME} {
      width: fit-content;
      color: black;
      background-color: white;
      padding: 10px;
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.CAMERA_RECOVERY_CLASS_NAME}[hidden],
    .${y.PAINTBOARD_CLASS_NAME} .${y.ERROR_CLASS_NAME}[hidden] {
      display: none;
    }
    .${y.PAINTBOARD_CLASS_NAME} .${y.HINT_CLASS_NAME}[hidden] {
      display: none;
    }

    .${y.PAINTBOARD_CLASS_NAME} canvas {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      object-fit: cover;
      transition: opacity 300ms;
      pointer-events: none;
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.CONTROLS_CLASS_NAME} {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.CONTROL_WIDGET_CLASS_NAME}-${y.TORCH_SWITCH_CONTROL_CLASS_NAME} {
      position: absolute;
      top: 24px;
      left: 16px;
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.CONTROL_WIDGET_CLASS_NAME}-${y.CAMERA_SWITCH_CONTROL_CLASS_NAME} {
      position: absolute;
      top: 24px;
      right: 16px;
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.CONTROL_WIDGET_CLASS_NAME}-${y.CAMERA_FOV_SWITCH_CONTROL_CLASS_NAME} {
      position: absolute;
      bottom: 24px;
      right: 24px;
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME} {
      -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 100%;
      height: 100%;
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME} label {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      cursor: pointer;
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME} label input[type="file"] {
      position: absolute;
      top: -9999px;
    }

    .${y.PAINTBOARD_CLASS_NAME} .${y.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME} label button {
      pointer-events: none;
    }

    .${y.CONTROL_WIDGET_CLASS_NAME} {
      width: 32px;
      height: 32px;
      background-color: transparent;
      background-repeat: no-repeat;
      border: none;
      cursor: pointer;
    }

    .${y.CONTROL_WIDGET_CLASS_NAME} + .${y.CONTROL_WIDGET_CLASS_NAME} {
      margin-left: 16px;
    }
  `}var Z={PROGRESSBAR_CONTAINER:"scandit-progressbar-container",MESSAGE:"scandit-progressbar-message",HIDE:"scandit-progressbar-hide"},Va=`
    @media (prefers-color-scheme: dark) {
      .${Z.PROGRESSBAR_CONTAINER} {
        --foreground-color: white;
        --background-color: black;
      }
    }

    @media (prefers-color-scheme: light) {
      .${Z.PROGRESSBAR_CONTAINER} {
        --foreground-color: black;
        --background-color: white;
      }
    }
    
    .${Z.PROGRESSBAR_CONTAINER} {
      --accent-color: #62d1da;
      --secondary-color: #dae1e7;
      --100-w: 15rem;
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 1;
      background-color: var(--background-color);
    }
    
    .${Z.PROGRESSBAR_CONTAINER}.${Z.HIDE} {
       display: none;
    }
    
    .${Z.PROGRESSBAR_CONTAINER} .${Z.MESSAGE} {
      text-align: center;
      font-family: "Open Sans", sans-serif;
      margin-bottom: 1rem;
      color: var(--foreground-color);
    }
    
    .${Z.PROGRESSBAR_CONTAINER} [role="progressbar"] {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      position: relative;
      overflow: hidden;
      border: none;
      width: var(--100-w);
      height: 0.5rem;
    }
    
    .${Z.PROGRESSBAR_CONTAINER} [role="progressbar"]::before,
    .${Z.PROGRESSBAR_CONTAINER} [role="progressbar"]::after {
      content: " ";
      position: absolute;
      top: 0;
      left: 0;
      background: var(--accent-color);
      height: 0.5rem;
      border-radius: 0.5rem;
    }
    
    .${Z.PROGRESSBAR_CONTAINER} [role="progressbar"]:not([aria-valuenow])::after {
      width: calc(var(--100-w) / 3.5);
      animation: indeterminate-progress-bar 2.5s ease infinite;
      z-index: 1;
    }

    .${Z.PROGRESSBAR_CONTAINER} [role="progressbar"][aria-valuenow]::after {
      width: 0;
      animation: none;
    }
    
    .${Z.PROGRESSBAR_CONTAINER} [role="progressbar"][aria-valuenow]::before {
      width: calc(var(--aria-valuenow) * 1%);
      background-color: var(--accent-color);
      border-radius: 0.5rem;
      transition: width 0.3s linear;
    }
    
    .${Z.PROGRESSBAR_CONTAINER} [role="progressbar"] {
      background-color: var(--secondary-color);
      border-radius: 0.5rem;
    }
    
    @-webkit-keyframes indeterminate-progress-bar {
      0% {
        left: 0%;
      }
      50% {
        left: calc(var(--100-w) - var(--100-w) / 3.5);
      }
    }
    
    @keyframes indeterminate-progress-bar {
      0% {
        left: 0%;
      }
      50% {
        left: calc(var(--100-w) - var(--100-w) / 3.5);
      }
    }
`,Pr=Va;var Ba=`
    <div>
      <div class="${Z.MESSAGE}" id="scandit-loadinglabel">Loading the Scandit SDK...</div>
      <div id="scandit-progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-labelledby="scandit-loadinglabel" />
    </div>
`,Oi="aria-valuenow",Ha="aria-valuemin",Ja="aria-valuemax",nt=class{constructor(){l(this,"_mounted",!1);l(this,"_htmlRoot",null);l(this,"_progress",null);l(this,"_message",null)}set value(e){var n,c,m,p,f,b;if(!this._mounted)return;if(e==null){(n=this._progress)==null||n.removeAttribute(Oi),(c=this._progress)==null||c.removeAttribute("style");return}let t=Number((m=this._progress)==null?void 0:m.getAttribute(Ha)),r=Number((p=this._progress)==null?void 0:p.getAttribute(Ja));if(e>=t&&e<=r){let i=String(e);(f=this._progress)==null||f.setAttribute(Oi,i),(b=this._progress)==null||b.setAttribute("style",`--aria-valuenow: ${i}`)}}get value(){var r;let e=(r=this._progress)==null?void 0:r.getAttribute(Oi);if(e===null)return null;let t=Number(e);return Number.isNaN(t)?null:t}set message(e){this._message&&(this._message.textContent=e)}get message(){var e,t;return(t=(e=this._message)==null?void 0:e.textContent)!=null?t:""}mount(e){var r;if(this._mounted)return;if(!document.head.querySelector(`[data-component=${nt.componentName}]`)){let n=document.createElement("style");n.dataset.component=nt.componentName,n.append(document.createTextNode(Pr)),document.head.append(n)}let t=document.createElement("div");t.classList.add(Z.PROGRESSBAR_CONTAINER),t.classList.add(Z.HIDE),t.innerHTML=Ba,(r=e.parentNode)==null||r.replaceChild(t,e),this._htmlRoot=t,this._progress=this._htmlRoot.querySelector("[role=progressbar]"),this._message=this._htmlRoot.querySelector(`.${Z.MESSAGE}`),this._mounted=!0}unmount(){var e,t;!this._mounted||((e=this._htmlRoot)==null||e.remove(),(t=document.head.querySelector(`[data-component=${nt.componentName}]`))==null||t.remove(),this._mounted=!1)}show(){this._mounted&&this._htmlRoot&&this._htmlRoot.classList.remove(Z.HIDE)}hide(){this._mounted&&this._htmlRoot&&this._htmlRoot.classList.add(Z.HIDE)}},Ht=nt;l(Ht,"componentName","ProgressBarView");var Fr=Ht;var Ie={SINGLE_IMAGE_UPLOADER_CONTAINER:"scandit-single-image-uploader-container"},ot={SINGLE_IMAGE_UPLOADER_CONTAINER_STYLE:{backgroundColor:"#FFFFFF"},SINGLE_IMAGE_UPLOADER_ICON_STYLE:{fill:"#121619"},SINGLE_IMAGE_UPLOADER_INFORMATION_STYLE:{color:"#121619",marginBottom:"2em"},SINGLE_IMAGE_UPLOADER_BUTTON_STYLE:{color:"#FFFFFF",backgroundColor:"#121619",fontWeight:"bold",padding:"1.25em",width:"12em",textAlign:"center",textTransform:"uppercase"}},zr=`
  .${Ie.SINGLE_IMAGE_UPLOADER_CONTAINER} {
    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
  }

  .${Ie.SINGLE_IMAGE_UPLOADER_CONTAINER} label {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .${Ie.SINGLE_IMAGE_UPLOADER_CONTAINER} label input[type="file"] {
    position: absolute;
    top: -9999px;
  }

  .${Ie.SINGLE_IMAGE_UPLOADER_CONTAINER} label div {
    user-select: none;
  }

  .${Ie.SINGLE_IMAGE_UPLOADER_CONTAINER} label input[type="file"]:disabled + div {
    opacity: 0.5;
  }
`;var lt=class{constructor(e){l(this,"canUploadFile",!1);l(this,"_mounted",!1);l(this,"_loading",!1);l(this,"_htmlRoot");l(this,"_settings");l(this,"_canvas");l(this,"_canvasContext");l(this,"_onInputCheck");l(this,"_onBeforeFileRead");l(this,"_onImageLoadError");l(this,"_onFileReaderError");l(this,"_onCaptureReady");l(this,"_resizedImageSizeLimit",1440);l(this,"_inputElement");l(this,"_buttonElement");l(this,"_chooseImageText","");this._settings=e}get canvas(){return this._canvas||(this._canvas=document.createElement("canvas")),this._canvas}get canvasContext(){return this._canvasContext||(this._canvasContext=this.canvas.getContext("2d",{willReadFrequently:!0})),this._canvasContext}mount(e){var o;if(this._mounted)return;if(!document.head.querySelector(`[data-component=${lt.componentName}]`)){let d=document.createElement("style");d.dataset.component=lt.componentName,d.textContent=zr,document.head.append(d)}let t=document.createElement("div");t.className=Ie.SINGLE_IMAGE_UPLOADER_CONTAINER,Object.assign(t.style,ot.SINGLE_IMAGE_UPLOADER_CONTAINER_STYLE,this._settings.containerStyle),e.append(t);let{iconElement:r,iconStyle:n,informationElement:c,informationStyle:m,buttonElement:p,buttonStyle:f}=this._settings;Object.assign(r.style,ot.SINGLE_IMAGE_UPLOADER_ICON_STYLE,n,{maxWidth:"100px",maxHeight:"100px"}),t.append(r),Object.assign(c.style,ot.SINGLE_IMAGE_UPLOADER_INFORMATION_STYLE,m),t.append(c);let b=document.createElement("input");b.type="file",b.accept="image/*",b.addEventListener("change",d=>{this.onFileUpload(d)}),b.addEventListener("click",d=>{var u;(u=this._onInputCheck)==null||u.call(this,d)}),b.addEventListener("keydown",d=>{var u;(u=this._onInputCheck)==null||u.call(this,d)});let i=document.createElement("label");i.append(b),Object.assign(p.style,ot.SINGLE_IMAGE_UPLOADER_BUTTON_STYLE,f),i.append(p),t.append(i);let a=document.createRange().createContextualFragment(atob(mr)).firstElementChild;Object.assign(a.style,{position:"absolute",bottom:"1em",right:"1em",width:"10em"}),t.append(a),this._htmlRoot=t,this._mounted=!0,this._inputElement=b,this._buttonElement=p,this._chooseImageText=(o=p.textContent)!=null?o:""}unmount(){var e,t;!this._mounted||((e=this._htmlRoot)==null||e.remove(),(t=document.head.querySelector(`[data-component=${lt.componentName}]`))==null||t.remove(),this._mounted=!1)}setButtonState(e){!this._inputElement||(this._inputElement.disabled=e==="disabled")}getButtonState(){return this._inputElement?this._inputElement.disabled?"disabled":"enabled":"disabled"}getLastUploadedImage(){return this.canvasContext.getImageData(0,0,this.canvasContext.canvas.width,this.canvasContext.canvas.height)}onInputCheck(e){this._onInputCheck=e}onBeforeFileRead(e){this._onBeforeFileRead=e}onImageLoadError(e){this._onImageLoadError=e}onFileReaderError(e){this._onFileReaderError=e}onCaptureReady(e){this._onCaptureReady=e}setLoading(e){this._buttonElement&&(this.setButtonState(e?"disabled":"enabled"),this._buttonElement.textContent=e?"...":this._chooseImageText,this._loading=e)}getResizedImageDimensions(e,t){return e<=this._resizedImageSizeLimit&&t<=this._resizedImageSizeLimit?{width:e,height:t}:e>t?{width:this._resizedImageSizeLimit,height:Math.round(t/e*this._resizedImageSizeLimit)}:{width:Math.round(e/t*this._resizedImageSizeLimit),height:this._resizedImageSizeLimit}}onImageLoad(e){var c;let{height:t,width:r}=this.getResizedImageDimensions(e.naturalWidth,e.naturalHeight);this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=t,this.canvasContext.drawImage(e,0,0,r,t);let n={data:this.canvasContext.getImageData(0,0,r,t).data,width:r,height:t};(c=this._onCaptureReady)==null||c.call(this,n)}onFileReaderLoad(e,t,r){e.value="",t.result!=null&&(r.addEventListener("load",()=>{this.onImageLoad(r),this.setLoading(!1)},{once:!0}),r.addEventListener("error",n=>{var c;(c=this._onImageLoadError)==null||c.call(this,n),this.setLoading(!1)},{once:!0}),r.src=t.result)}onFileUpload(e){var m;this.setLoading(!0);let t=e.currentTarget,{files:r}=t;if(r==null||r.length===0){this.setLoading(!1);return}if((m=this._onBeforeFileRead)==null||m.call(this,e),!this.canUploadFile){t.value="",h.log(h.Level.Warn,"Can't upload file"),this.setLoading(!1);return}let n=new Image,c=new FileReader;c.addEventListener("load",()=>{this.onFileReaderLoad(t,c,n)}),c.addEventListener("error",p=>{var f;(f=this._onFileReaderError)==null||f.call(this,p),this.setLoading(!1)}),c.readAsDataURL(r[0])}},st=lt;l(st,"componentName","SingleImageUploaderView");typeof globalThis.ResizeObserver!="function"&&(globalThis.ResizeObserver=Di);var Jt=class{constructor(){l(this,"focusGesture",R.DataCaptureView.focusGesture);l(this,"zoomGesture",R.DataCaptureView.zoomGesture);l(this,"_scanAreaMargins",R.DataCaptureView.scanAreaMargins);l(this,"_pointOfInterest",R.DataCaptureView.pointOfInterest);l(this,"_logoStyle",R.DataCaptureView.logoStyle);l(this,"_logoAnchor",R.DataCaptureView.logoAnchor);l(this,"_logoOffset",R.DataCaptureView.logoOffset);l(this,"_cameraRecoveryText",R.DataCaptureView.cameraRecoveryText);l(this,"_context",null);l(this,"overlays",[]);l(this,"controls",[]);l(this,"gestureRecognizer");l(this,"controlWidgets",new WeakMap);l(this,"containerElement");l(this,"cameraPaintboardElement");l(this,"singleImageUploaderPaintboardElement");l(this,"videoElement");l(this,"visibilityListener");l(this,"videoPauseListener");l(this,"cameraRecoveryListener");l(this,"controlsElement");l(this,"cameraRecoveryElement");l(this,"errorElement");l(this,"hintContainerElement");l(this,"hintElement");l(this,"canvasElement");l(this,"_canvasDrawer");l(this,"listeners",[]);l(this,"htmlElement");l(this,"htmlElementState");l(this,"lastHtmlElementState");l(this,"isVideoElementDetached",!1);l(this,"progressBarView");l(this,"lastFrameSourceState");l(this,"singleImageUploaderView");St.add(this),this.visibilityListener=this.checkAndRecoverPlayback.bind(this),this.cameraRecoveryListener=this.cameraRecovery.bind(this)}get scanAreaMargins(){return this._scanAreaMargins}set scanAreaMargins(e){var t;this._scanAreaMargins=e,(t=this.privateContext)==null||t.update()}get pointOfInterest(){return this._pointOfInterest}set pointOfInterest(e){var t;this._pointOfInterest=e,(t=this.privateContext)==null||t.update()}get logoStyle(){return this._logoStyle}set logoStyle(e){var t;this._logoStyle=e,(t=this.privateContext)==null||t.update()}get logoAnchor(){return this._logoAnchor}set logoAnchor(e){var t;this._logoAnchor=e,(t=this.privateContext)==null||t.update()}get logoOffset(){return this._logoOffset}set logoOffset(e){var t;this._logoOffset=e,(t=this.privateContext)==null||t.update()}get cameraRecoveryText(){return this._cameraRecoveryText}set cameraRecoveryText(e){this._cameraRecoveryText=e,this.cameraRecoveryElement.textContent=e}get width(){return this.htmlElementState!=null?Math.round(this.htmlElementState.width):0}get height(){return this.htmlElementState!=null?Math.round(this.htmlElementState.height):0}get canvasDrawer(){return!this._canvasDrawer&&this.canvasElement!=null&&(this._canvasDrawer=new _e(this.canvasElement),this._canvasDrawer.startObservingCanvasResize()),this._canvasDrawer}get privateContext(){return this._context}static async forContext(e){let t=new Jt;return await t.setContext(e),t}showProgressBar(){var e;(e=this.progressBarView)==null||e.show()}hideProgressBar(){var e;(e=this.progressBarView)==null||e.hide()}setProgressBarPercentage(e){this.progressBarView&&(this.progressBarView.value=e)}setProgressBarMessage(e){this.progressBarView&&(this.progressBarView.message=e)}getContext(){return this._context}async setContext(e){var t,r,n;if(this._context=e,e){if(this.overlays.length>0&&((t=this.privateContext)==null?void 0:t.modes.length)===0)throw new Error(["Cannot assign this view to this context. This view has overlays but the context does not have any mode attached matching these overlays.","Remove the overlays first before attaching the view to the context, or add the corresponding mode to the context before attaching this view."].join(" "));await e.setView(this),(r=this.privateContext)==null||r.subscribeToWorkerMessages(this.onWorkerMessage.bind(this)),(n=this._context)!=null&&n.frameSource&&await this.onFrameSourceChange(this._context.frameSource)}}connectToElement(e){var t;this.setupHtmlElement(e),(t=this.canvasDrawer)==null||t.startObservingCanvasResize(),this.htmlElementDidChange()}detachFromElement(){var e,t,r;(e=this.htmlElementState)==null||e.removeListeners(),this.removeStyles(),(t=this.canvasDrawer)==null||t.endObservingCanvasResize(),this.clearHtmlElementContent(),this.htmlElementDidChange(),(r=this.gestureRecognizer)==null||r.removeAllListeners()}async addOverlay(e){var t;this.overlays.includes(e)||(this.overlays.push(e),await((t=this.privateContext)==null?void 0:t.update([{type:"addOverlay",newValue:e}])))}async removeOverlay(e){var t;!this.overlays.includes(e)||(this.overlays.splice(this.overlays.indexOf(e),1),await((t=this.privateContext)==null?void 0:t.update([{type:"removeOverlay",newValue:e}])))}addListener(e){this.listeners.includes(e)||this.listeners.push(e)}removeListener(e){this.listeners.includes(e)&&this.listeners.splice(this.listeners.indexOf(e),1)}viewPointForFramePoint(e){var i,a,o,d,u,v,g,C;let t={width:(a=(i=this.htmlElementState)==null?void 0:i.width)!=null?a:0,height:(d=(o=this.htmlElementState)==null?void 0:o.height)!=null?d:0},r={width:(v=(u=this.videoElement)==null?void 0:u.videoWidth)!=null?v:0,height:(C=(g=this.videoElement)==null?void 0:g.videoHeight)!=null?C:0},n=t.width/t.height,c=r.width/r.height,m=n>c?t.width/r.width:t.height/r.height,p={x:e.x*m,y:e.y*m},f=(r.width*m-t.width)/2,b=(r.height*m-t.height)/2;return new ne(p.x-f,p.y-b)}viewQuadrilateralForFrameQuadrilateral(e){let t=this.viewPointForFramePoint(e.topLeft),r=this.viewPointForFramePoint(e.topRight),n=this.viewPointForFramePoint(e.bottomLeft),c=this.viewPointForFramePoint(e.bottomRight);return new We(t,r,c,n)}addControl(e){var t;this.controls.includes(e)||(e.view=this,this.controls.push(e),this.controlsUpdated(),(t=this.privateContext)==null||t.update([{type:"addControl",newValue:e}]))}removeControl(e){var t;if(this.controls.includes(e)){e.view=null;let r=this.controls.splice(this.controls.indexOf(e),1);this.getControlWidget(r[0]).remove(!0),this.controlsUpdated(),(t=this.privateContext)==null||t.update([{type:"removeControl",newValue:e}])}}toJSONObject(){var e;return{scanAreaMargins:this.scanAreaMargins.toJSONObject(),pointOfInterest:this.pointOfInterest.toJSONObject(),logoAnchor:this.logoAnchor,logoOffset:this.logoOffset.toJSONObject(),logoHidden:(e=this.logoHidden)!=null?e:!1,logoStyle:this.logoStyle,overlays:this.overlays.map(t=>t.toJSONObject()),controls:this.controls.map(t=>t.toJSONObject()),focusGesture:this.focusGesture?this.focusGesture.toJSONObject():null,zoomGesture:this.zoomGesture?this.zoomGesture.toJSONObject():null}}isCameraRecoveryVisible(){return!this.cameraRecoveryElement.hidden}setCameraRecoveryVisible(e){this.cameraRecoveryElement.hidden=!e}removeStyles(){var e;(e=document.querySelector("style[scandit]"))==null||e.remove()}clearHtmlElementContent(){var e;this.htmlElement&&((e=this.canvasDrawer)==null||e.endObservingCanvasResize(),this.htmlElement.innerHTML="",this.cameraPaintboardElement=void 0,this.singleImageUploaderPaintboardElement=void 0)}setupHtmlElement(e){var c,m;this.createStyles(),this.htmlElement=e;let t=`
      <div class="${y.CONTAINER_CLASS_NAME}">
        <div class="${y.PAINTBOARDS_CONTAINER_CLASS_NAME}">
          <div data-js-id="scandit-progress-bar-view"></div>
          <div class="${y.PAINTBOARD_CLASS_NAME}" data-js-id="camera-paintboard">
            <video autoplay="autoplay" playsinline="true" muted="muted" poster="${pr}" style="opacity: 0;"></video>
            <canvas></canvas>
            <div class="${y.HINT_CONTAINER_CLASS_NAME}">
              <div class="${y.HINT_CLASS_NAME}" hidden></div>
            </div>
            <div class="${y.CONTROLS_CLASS_NAME}"></div>
            <div class="${y.CAMERA_RECOVERY_CLASS_NAME}" hidden>${this.cameraRecoveryText}</div>
            <div class="${y.ERROR_CLASS_NAME}" hidden></div>
          </div>
          <div class="${y.PAINTBOARD_CLASS_NAME}" data-js-id="singleimage-paintboard"></div>
        </div>
      </div>
    `;this.htmlElement.innerHTML=t,this.progressBarView&&this.progressBarView.unmount(),this.progressBarView=new Fr,this.progressBarView.mount(this.htmlElement.querySelector('[data-js-id="scandit-progress-bar-view"]')),this.containerElement=this.htmlElement.querySelector(`.${y.CONTAINER_CLASS_NAME}`),this.cameraPaintboardElement=this.containerElement.querySelector('[data-js-id="camera-paintboard"]'),this.singleImageUploaderPaintboardElement=this.containerElement.querySelector('[data-js-id="singleimage-paintboard"]');let r=this.cameraPaintboardElement.querySelector("canvas");this.canvasElement!=null?r.replaceWith(this.canvasElement):this.canvasElement=r,this.controlsElement=this.cameraPaintboardElement.querySelector(`.${y.CONTROLS_CLASS_NAME}`),this.cameraRecoveryElement=this.cameraPaintboardElement.querySelector(`.${y.CAMERA_RECOVERY_CLASS_NAME}`),this.errorElement=this.cameraPaintboardElement.querySelector(`.${y.ERROR_CLASS_NAME}`),this.hintContainerElement=this.cameraPaintboardElement.querySelector(`.${y.HINT_CONTAINER_CLASS_NAME}`),this.hintElement=this.cameraPaintboardElement.querySelector(`.${y.HINT_CLASS_NAME}`);let n=this.cameraPaintboardElement.querySelector("video");this.videoElement?n.replaceWith(this.videoElement):(this.videoElement=n,this.videoPauseListener=this.handleVideoPause.bind(this),this.videoElement.addEventListener("pause",this.videoPauseListener)),this.lastFrameSourceState!=null&&((m=(c=this._context)==null?void 0:c.frameSource)==null||m.switchToDesiredState(this.lastFrameSourceState)),document.addEventListener("visibilitychange",this.visibilityListener);for(let p of["touchend","mousedown"])this.cameraRecoveryElement.addEventListener(p,this.cameraRecoveryListener);this.htmlElementState&&this.htmlElementState.removeListeners(),this.htmlElementState=new Ee(this.htmlElement),this.htmlElementState.onStateChanged(this.htmlElementDidChange.bind(this)),this.htmlElementState.onDisconnected(this.htmlElementDisconnected.bind(this)),this.gestureRecognizer=new rt(this.htmlElement),this.gestureRecognizer.addListener({onTap:async p=>{var f;(f=this.privateContext)==null||f.workerCommand("onTap",{point:p.toJSONObject()})}})}setupHtmlElementSingleImageUploader(e){var r;if(this.singleImageUploaderPaintboardElement==null)return;this.singleImageUploaderView&&this.singleImageUploaderView.unmount(),this.singleImageUploaderView=new st(e),this.singleImageUploaderView.mount(this.containerElement.querySelector('[data-js-id="singleimage-paintboard"]'));let t=(r=this._context)==null?void 0:r.frameSource;this.singleImageUploaderView.onInputCheck(n=>{t.getCurrentState()!=="starting"&&n.preventDefault()}),this.singleImageUploaderView.onBeforeFileRead(()=>{t._context&&this.singleImageUploaderView&&(this.singleImageUploaderView.canUploadFile=t._context.hasEnabledMode())}),this.singleImageUploaderView.onImageLoadError(()=>{t.currentState="starting",h.log(h.Level.Error,"Could not load image from selected file")}),this.singleImageUploaderView.onFileReaderError(n=>{var m,p;let c=n.target;t.currentState="starting",h.log(h.Level.Error,`Error while reading the file: ${(p=(m=c.error)==null?void 0:m.toString())!=null?p:""}`)}),this.singleImageUploaderView.onCaptureReady(async n=>{await t.processUploadedFileCapture(n)}),this.singleImageUploaderView.setButtonState(t.getCurrentState()==="starting"?"enabled":"disabled"),t.addView(this.singleImageUploaderView)}setupHtmlElementVisibility(e){this.cameraPaintboardElement!=null&&(this.cameraPaintboardElement.hidden=e!=="camera"),this.singleImageUploaderPaintboardElement!=null&&(this.singleImageUploaderPaintboardElement.hidden=e!=="singleImageUploader")}createStyles(){if(document.querySelector("style[scandit]")===null){let e=document.createElement("style");e.setAttribute("scandit","data-capture-sdk"),e.innerHTML=kr(),document.head.append(e)}}htmlElementDidChange(){var r,n;if(!this.htmlElementState)return;let e=this.htmlElementState,t=e.toJSONObject();if(!Ee.areEquivalentJSONStates(this.lastHtmlElementState,t)){(r=this.privateContext)==null||r.update([{type:"viewChange",newValue:e.toJSONObject()}]),this.lastHtmlElementState=t,(n=this.canvasDrawer)==null||n.updateCanvasSizeAttributes(this.width,this.height),this.handleVideoDisplay(t.visible);for(let c of this.listeners)c.didChangeSize&&c.didChangeSize(this,new Ue(t.size.width.value,t.size.height.value),window.innerHeight<window.innerWidth?"landscapeLeft":"portrait")}}async htmlElementDisconnected(){var e,t,r,n,c;this.isVideoElementDetached=!1,(e=this.videoElement)==null||e.remove(),this.lastFrameSourceState=(r=(t=this._context)==null?void 0:t.frameSource)==null?void 0:r.getCurrentState(),await((c=(n=this._context)==null?void 0:n.frameSource)==null?void 0:c.switchToDesiredState("off"))}handleVideoDisplay(e){this.videoElement==null||this.cameraPaintboardElement==null||(!e&&!this.isVideoElementDetached?(this.videoElement.width=0,this.videoElement.height=0,this.videoElement.style.opacity="0",document.body.append(this.videoElement),this.isVideoElementDetached=!0):e&&this.isVideoElementDetached&&(this.cameraPaintboardElement.insertAdjacentElement("afterbegin",this.videoElement),this.isVideoElementDetached=!1,this.videoElement.removeAttribute("width"),this.videoElement.removeAttribute("height"),this.videoElement.style.removeProperty("opacity")))}isCanvasDrawerWithMetrics(e){return e instanceof jt}onWorkerMessage(e){var t;switch(e.type){case"draw":{this.drawEngineCommands(e.payload);break}case"performanceMetricsReport":{let r=this._canvasDrawer;r!=null&&this.isCanvasDrawerWithMetrics(r)&&r.setPerformanceMetrics(e.payload);break}case"contextDidChangeStatus":{let r=ge.fromJSON(e.payload);r.isValid||((t=this.progressBarView)==null||t.hide(),this.displayError(r));break}case"showHint":{this.displayHint(e.payload.text,e.payload.style);break}case"updateHint":{this.updateHint(e.payload.style);break}case"hideHint":{this.hideHint();break}default:break}}drawEngineCommands(e){var t;(t=this.canvasDrawer)==null||t.draw(e)}displayError(e){this.errorElement.textContent=`Error ${e.code}: ${e.message}`,this.errorElement.hidden=!1}clearError(){this.errorElement.textContent="",this.errorElement.hidden=!0}displayHint(e,t){this.hintElement.textContent=e,this.hintElement.hidden=!1,this.updateHint(t)}hideHint(){this.hintElement.textContent="",this.hintElement.hidden=!0}updateHint(e){this.hintElement.style.background=e.backgroundColor,this.hintElement.style.color=e.textColor,this.hintElement.style.fontSize=e.font==="body"?"1.25rem":"1rem",this.hintElement.style.borderRadius=e.hintCornerStyle==="rounded"?"5px":"0px",e.hintHeight==="taller"&&(this.hintElement.style.paddingTop="1.25em",this.hintElement.style.paddingBottom="1.25em"),e.hintWidth==="wider"&&(this.hintElement.style.paddingLeft="1.25em",this.hintElement.style.paddingRight="1.25em"),this.updateAnchor(e)}updateAnchor(e){let t=`${e.verticalOffsetRatio*100}vh`;switch(e.anchor){case"topLeft":{this.hintContainerElement.style.placeContent="start left",this.hintElement.style.transform=`translateY(${t})`;break}case"topCenter":{this.hintContainerElement.style.placeContent="start center",this.hintElement.style.transform=`translateY(${t})`;break}case"topRight":{this.hintContainerElement.style.placeContent="start right",this.hintElement.style.transform=`translateY(${t})`;break}case"centerLeft":{this.hintContainerElement.style.placeContent="center start";break}case"center":{this.hintContainerElement.style.placeContent="center";break}case"centerRight":{this.hintContainerElement.style.placeContent="center end";break}case"bottomLeft":{this.hintContainerElement.style.placeContent="end left";break}case"bottomCenter":{this.hintContainerElement.style.placeContent="end center";break}case"bottomRight":{this.hintContainerElement.style.placeContent="end right";break}}}controlsUpdated(){var e;this.redrawControls(),(e=this.privateContext)==null||e.update()}redrawControls(){var e;for(let t of this.controls){let r=this.getControlWidget(t),n=(e=this._context)==null?void 0:e.frameSource;n==null||n.desiredState==="off"||n.desiredState==="stopping"?r.remove():r.install()}}getControlWidget(e){let t=this.controlWidgets.get(e);if(t)return t;let{type:r}=e,n;switch(r){case"torch":{n=new Bt(e,this.controlsElement),this.controlWidgets.set(e,n);break}case"camera":{n=new Se(e,this.controlsElement),this.controlWidgets.set(e,n);break}case"camera-fov":{n=new De(e,this.controlsElement),this.controlWidgets.set(e,n);break}}return n}async onFrameSourceChange(e){let t=e==null?void 0:e.type;if(this.setupHtmlElementVisibility(t),t==="camera"){let r=e==null?void 0:e.getCurrentState();r!=null&&await this.onCameraStateChanged(r)}else t==="singleImageUploader"&&this.setupHtmlElementSingleImageUploader(e.settings)}async onCameraStateChanged(e){var t,r,n,c,m,p,f,b;switch((t=this.cameraPaintboardElement)==null||t.classList.toggle(y.PAINTBOARD_CLASS_NAME_STATE_ON,e==="on"),e){case"stopping":case"goingToSleep":this.setVideoElementOpacity("0");return;case"starting":case"bootingUp":case"wakingUp":if(!this.htmlElement){h.log(h.Level.Error,"cannot set frame source stream before connecting view to an HTML element");return}this.videoElement&&(F.instance().videoElement=this.videoElement,F.instance().gui.isCameraRecoveryVisible=this.isCameraRecoveryVisible.bind(this),F.instance().gui.setCameraRecoveryVisible=this.setCameraRecoveryVisible.bind(this),this.setVideoElementOpacity("0"));return;case"off":case"shuttingDown":(n=(r=this.cameraPaintboardElement)==null?void 0:r.querySelector(`.${y.CANVAS_VIDEO_PREVIEW_CLASS_NAME}`))==null||n.remove(),this.setVideoElementOpacity("0"),this.redrawControls();return;case"on":case"standby":{if((m=(c=this.cameraPaintboardElement)==null?void 0:c.querySelector(`.${y.CANVAS_VIDEO_PREVIEW_CLASS_NAME}`))==null||m.remove(),((f=F.instance().activeCameraSettings)==null?void 0:f.isIPhoneProCameraOptimizationEnabled((p=F.instance().activeCamera)==null?void 0:p.position))===!0){let{canvas:i}=F.instance();i.classList.add(y.CANVAS_VIDEO_PREVIEW_CLASS_NAME),this.canvasElement&&((b=this.cameraPaintboardElement)==null||b.insertBefore(i,this.canvasElement))}await F.instance().waitForCapabilities(),this.redrawControls(),e==="on"&&this.setVideoElementOpacity("1");break}}}setVideoElementOpacity(e){this.videoElement&&(this.videoElement.style.opacity=e),this.canvasElement&&(this.canvasElement.style.opacity=e)}onSingleImageUploaderSettingsChange(e){this.setupHtmlElementSingleImageUploader(e)}handleVideoPause(){F.instance().playVideo()}async checkAndRecoverPlayback(){var t,r;let e=(t=this.videoElement)==null?void 0:t.srcObject;if(document.visibilityState==="visible"&&F.instance().activeCamera!=null&&e!=null)if(!e.active||((r=e.getVideoTracks()[0])==null?void 0:r.muted))try{h.log(h.Level.Debug,'Detected visibility change ("visible") event with inactive video source, try to reinitialize camera'),await F.instance().reinitializeCamera()}catch(n){}else h.log(h.Level.Debug,'Detected visibility change ("visible") event with active video source, replay video'),F.instance().playVideo()}async cameraRecovery(e){e.preventDefault(),F.instance().activeCamera=F.instance().selectedCamera,await F.instance().reinitializeCamera()}};var Ur=ri(Wr(),1);var dt=class{constructor(e){l(this,"type");l(this,"_vibrate");this.type=e;for(let t of["vibrate","webkitVibrate","msVibrate","mozVibrate"])if(typeof navigator[t]=="function"){this._vibrate=navigator[t].bind(navigator);break}}static get defaultVibration(){return new dt("default")}toJSONObject(){return{type:this.type}}vibrate(){var e;return(e=this._vibrate)==null?void 0:e.call(this,[300])}},Oe=class{constructor(e){l(this,"audio");l(this,"resource",null);this.resource=e,this.resource!=null&&(this.audio=new Ur.Howl({src:this.resource,html5:!0}))}static get defaultSound(){return Oe._defaultSound instanceof Oe||(Oe._defaultSound=new Oe(cr)),Oe._defaultSound}toJSONObject(){return this.resource!==null?{resource:this.resource}:{}}play(){this.audio!=null&&this.audio.play()}},Yt=Oe;l(Yt,"_defaultSound",null);var qt=class{constructor(e,t){l(this,"_vibration",null);l(this,"_sound",null);this._vibration=e,this._sound=t}static get defaultFeedback(){return new qt(dt.defaultVibration,Yt.defaultSound)}get vibration(){return this._vibration}get sound(){return this._sound}emit(){this.sound&&this.sound.play(),this.vibration&&this.vibration.vibrate()}toJSONObject(){let e={};return this.sound!==null&&(e.sound=this.sound.toJSONObject()),this.vibration!==null&&(e.vibration=this.vibration.toJSONObject()),e}};async function Ga(s,e){let t=document.createElement("canvas");t.width=this.width,t.height=this.height;let r=t.getContext("2d");if(!r)throw new Error("Could not get 2d context from an HTMLCanvasElement");let n=await this.getData();return n==null?null:(r.putImageData(new ImageData(n,this.width,this.height),0,0),new Promise((c,m)=>{t.toBlob(p=>{if(p===null){m(new Error("Could not create Blob object from canvas"));return}c(p)},s,e)}))}function jd(s,e){let t={width:s.width,height:s.height,isFrameSourceMirrored:s.isFrameSourceMirrored,getData:async()=>(await e.requestFrameData(s.frameId)).data};return t.toBlob=Ga.bind(t),t}var Hd={type:"none"},jr=class{constructor(e){l(this,"type","radius");l(this,"_radius");this._radius=e}get radius(){return this._radius}toJSONObject(){return{type:this.type,radius:this.radius.toJSONObject()}}},Be=class{constructor(){l(this,"type","rectangular");l(this,"_sizeWithUnitAndAspect")}get sizeWithUnitAndAspect(){return this._sizeWithUnitAndAspect}static withSize(e){let t=new Be;return t._sizeWithUnitAndAspect=X.sizeWithWidthAndHeight(e),t}static withWidthAndAspectRatio(e,t){let r=new Be;return r._sizeWithUnitAndAspect=X.sizeWithWidthAndAspectRatio(e,t),r}static withHeightAndAspectRatio(e,t){let r=new Be;return r._sizeWithUnitAndAspect=X.sizeWithHeightAndAspectRatio(e,t),r}toJSONObject(){return{type:this.type,size:this.sizeWithUnitAndAspect.toJSONObject()}}};var He=class{constructor(e){l(this,"iconElement",R.SingleImageUploader.Settings.iconElement);l(this,"informationElement",R.SingleImageUploader.Settings.informationElement);l(this,"buttonElement",R.SingleImageUploader.Settings.buttonElement);l(this,"containerStyle",R.SingleImageUploader.Settings.containerStyle);l(this,"iconStyle",R.SingleImageUploader.Settings.iconStyle);l(this,"informationStyle",R.SingleImageUploader.Settings.informationStyle);l(this,"buttonStyle",R.SingleImageUploader.Settings.buttonStyle);if(e!=null)for(let t of Object.getOwnPropertyNames(e))this[t]=e[t]}static fromJSON(e){let t=new He;return t.iconElement=document.createRange().createContextualFragment(e.iconElement).firstElementChild,t.informationElement=document.createRange().createContextualFragment(e.informationElement).firstElementChild,t.buttonElement=document.createRange().createContextualFragment(e.buttonElement).firstElementChild,t.containerStyle=e.containerStyle,t.iconStyle=e.iconStyle,t.informationStyle=e.informationStyle,t.buttonStyle=e.buttonStyle,t}toJSONObject(){return{iconElement:this.iconElement.outerHTML,informationElement:this.informationElement.outerHTML,buttonElement:this.buttonElement.outerHTML,containerStyle:{...this.containerStyle},iconStyle:{...this.iconStyle},informationStyle:{...this.informationStyle},buttonStyle:{...this.buttonStyle}}}};var $t=class{constructor(){l(this,"type","singleImageUploader");l(this,"_currentState");l(this,"_settings",new He);l(this,"_desiredState","off");l(this,"listeners",[]);l(this,"_context",null);l(this,"_view")}static get default(){return new $t}get desiredState(){return this._desiredState}get settings(){return this._settings}get context(){return this._context}set context(e){this._context=e}set currentState(e){e!==this._currentState&&(this._currentState=e,this.notifyListeners(),this.notifyContext({type:"frameSourceState",newValue:e}))}get currentState(){return this._currentState}async switchToDesiredState(e){if(e==="on"){if(this.currentState==="on"||this.currentState==="starting")return}else if(this.currentState==="off"||this.currentState==="stopping")return;return this._desiredState=e,this.setCurrentState(e==="on"?"starting":"off")}async setCurrentState(e){if(e!==this._currentState)return this._currentState=e,this.notifyListeners(),this.notifyContext({type:"frameSourceState",newValue:e})}addListener(e){e!=null&&(this.listeners.includes(e)||this.listeners.push(e))}removeListener(e){e!=null&&(!this.listeners.includes(e)||this.listeners.splice(this.listeners.indexOf(e),1))}async applySettings(e){return this._settings=e,this.notifyContext({type:"singleImageModeUploaderSettings",newValue:this._settings})}toJSONObject(){return{type:this.type,settings:this.settings.toJSONObject(),desiredState:this.desiredState}}getCurrentState(){return this._currentState}getLastUploadedImage(){var e,t;return(t=(e=this._view)==null?void 0:e.getLastUploadedImage())!=null?t:null}async notifyContext(e){if(this._context)return this._context.update([e])}notifyListeners(){for(let e of this.listeners)e.didChangeState&&e.didChangeState(this,this.currentState)}async processUploadedFileCapture(e){var t;await((t=this._context)==null?void 0:t.sendFrameToProcessor(e)),this.currentState="starting"}addView(e){this._view=e}};var Vr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxyZWN0IG9wYWNpdHk9IjAuMzUiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjE2IiBmaWxsPSIjREFFMUU3IiAvPgogICAgPHBhdGgKICAgICAgICBkPSJNNy45ODgyOCAyMS4wODJDOC41OTY2OCAyMS4wODIgOS4wODg4NyAyMC41ODk4IDkuMDg4ODcgMTkuOTgxNEM5LjA4ODg3IDE5LjM2NjIgOC41OTY2OCAxOC44ODA5IDcuOTg4MjggMTguODgwOUM3LjM3MzA1IDE4Ljg4MDkgNi44ODc3IDE5LjM2NjIgNi44ODc3IDE5Ljk4MTRDNi44ODc3IDIwLjU4OTggNy4zNzMwNSAyMS4wODIgNy45ODgyOCAyMS4wODJaIgogICAgICAgIGZpbGw9IiNGMUY1RjgiIC8+CiAgICA8cGF0aAogICAgICAgIGQ9Ik0xNC4zNjYyIDIxLjIxODhDMTYuNjE1MiAyMS4yMTg4IDE4LjE4MDcgMTkuNzk2OSAxOC4xODA3IDE3LjY5MTRDMTguMTgwNyAxNS44MTE1IDE2Ljg0MDggMTQuNDg1NCAxNC45NTQxIDE0LjQ4NTRDMTMuOTQ5MiAxNC40ODU0IDEzLjE0MjYgMTQuODgxOCAxMi43MzkzIDE1LjUxNzZIMTIuNjk4MkwxMi45MzA3IDEyLjc3NjRIMTYuODI3MUMxNy4zNDY3IDEyLjc3NjQgMTcuNjc0OCAxMi40NTUxIDE3LjY3NDggMTEuOTU2MUMxNy42NzQ4IDExLjQ1NyAxNy4zMzk4IDExLjEzNTcgMTYuODI3MSAxMS4xMzU3SDEyLjVDMTEuNzAwMiAxMS4xMzU3IDExLjI2OTUgMTEuNDcwNyAxMS4yMDEyIDEyLjMwNDdMMTAuOTE0MSAxNS45MjA5QzEwLjkwNzIgMTUuOTU1MSAxMC45MDcyIDE1Ljk3NTYgMTAuOTA3MiAxNi4wMDI5QzEwLjg3OTkgMTYuNTU2NiAxMS4yMDEyIDE3LjAyODMgMTEuODc3OSAxNy4wMjgzQzEyLjMzNTkgMTcuMDI4MyAxMi41NDEgMTYuOTI1OCAxMi45NDQzIDE2LjU0OThDMTMuMjkzIDE2LjIxNDggMTMuNzg1MiAxNS45NjE5IDE0LjM3MyAxNS45NjE5QzE1LjQ0NjMgMTUuOTYxOSAxNi4yMTE5IDE2LjcwMDIgMTYuMjExOSAxNy43MzkzQzE2LjIxMTkgMTguODA1NyAxNS40Mzk1IDE5LjU3ODEgMTQuMzY2MiAxOS41NzgxQzEzLjQ3NzUgMTkuNTc4MSAxMi44OTY1IDE5LjE0NzUgMTIuNTQxIDE4LjQzNjVDMTIuMzA4NiAxOC4wNjc0IDEyLjA0ODggMTcuOTIzOCAxMS42Mzg3IDE3LjkyMzhDMTEuMTA1NSAxNy45MjM4IDEwLjc3NzMgMTguMjM4MyAxMC43NzczIDE4Ljc2NDZDMTAuNzc3MyAxOS4wMTA3IDEwLjgzODkgMTkuMjIyNyAxMC45NDE0IDE5LjQ0MTRDMTEuNDMzNiAyMC40ODczIDEyLjgwMDggMjEuMjE4OCAxNC4zNjYyIDIxLjIxODhaIgogICAgICAgIGZpbGw9IiNGMUY1RjgiIC8+CiAgICA8cGF0aAogICAgICAgIGQ9Ik0xOS45MzA3IDIxLjE0MzZDMjAuMjg2MSAyMS4xNDM2IDIwLjQ4NDQgMjEuMDI3MyAyMC43NTc4IDIwLjYwMzVMMjIuMTg2NSAxOC40NTdIMjIuMjI3NUwyMy42ODM2IDIwLjYzNzdDMjMuOTA5MiAyMC45Nzk1IDI0LjEwMDYgMjEuMTQzNiAyNC40OTAyIDIxLjE0MzZDMjUuMDMwMyAyMS4xNDM2IDI1LjQ0MDQgMjAuODAxOCAyNS40NDA0IDIwLjI2MTdDMjUuNDQwNCAyMC4wNDMgMjUuMzcyMSAxOS44NTE2IDI1LjIyMTcgMTkuNjQ2NUwyMy41MTk1IDE3LjI5NDlMMjUuMTk0MyAxNS4wNTk2QzI1LjM4NTcgMTQuODEzNSAyNS40NjA5IDE0LjYxNTIgMjUuNDYwOSAxNC4zNjkxQzI1LjQ2MDkgMTMuODYzMyAyNS4wODUgMTMuNTIxNSAyNC41MjQ0IDEzLjUyMTVDMjQuMTU1MyAxMy41MjE1IDIzLjk0MzQgMTMuNjg1NSAyMy42NzY4IDE0LjEwMjVMMjIuMzM2OSAxNi4xNDY1SDIyLjI5NTlMMjAuOTI4NyAxNC4wODg5QzIwLjY2MjEgMTMuNjY1IDIwLjQ1MDIgMTMuNTIxNSAyMC4wNDY5IDEzLjUyMTVDMTkuNSAxMy41MjE1IDE5LjA4OTggMTMuODk3NSAxOS4wODk4IDE0LjM5NjVDMTkuMDg5OCAxNC42Mjg5IDE5LjE1ODIgMTQuODI3MSAxOS4zMDE4IDE1LjAxODZMMjEuMDEwNyAxNy4zNDk2TDE5LjI5NDkgMTkuNjQ2NUMxOS4xMDM1IDE5Ljg5OTQgMTkuMDI4MyAyMC4wOTA4IDE5LjAyODMgMjAuMzMwMUMxOS4wMjgzIDIwLjgwODYgMTkuNDA0MyAyMS4xNDM2IDE5LjkzMDcgMjEuMTQzNloiCiAgICAgICAgZmlsbD0iI0YxRjVGOCIgLz4KPC9zdmc+Cg==";var Br="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxyZWN0IG9wYWNpdHk9IjAuNSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMTYiIGZpbGw9IndoaXRlIiAvPgogICAgPHBhdGgKICAgICAgICBkPSJNNy45ODgyOCAyMS4wODJDOC41OTY2OCAyMS4wODIgOS4wODg4NyAyMC41ODk4IDkuMDg4ODcgMTkuOTgxNEM5LjA4ODg3IDE5LjM2NjIgOC41OTY2OCAxOC44ODA5IDcuOTg4MjggMTguODgwOUM3LjM3MzA1IDE4Ljg4MDkgNi44ODc3IDE5LjM2NjIgNi44ODc3IDE5Ljk4MTRDNi44ODc3IDIwLjU4OTggNy4zNzMwNSAyMS4wODIgNy45ODgyOCAyMS4wODJaIgogICAgICAgIGZpbGw9IndoaXRlIiAvPgogICAgPHBhdGgKICAgICAgICBkPSJNMTQuMzY2MiAyMS4yMTg4QzE2LjYxNTIgMjEuMjE4OCAxOC4xODA3IDE5Ljc5NjkgMTguMTgwNyAxNy42OTE0QzE4LjE4MDcgMTUuODExNSAxNi44NDA4IDE0LjQ4NTQgMTQuOTU0MSAxNC40ODU0QzEzLjk0OTIgMTQuNDg1NCAxMy4xNDI2IDE0Ljg4MTggMTIuNzM5MyAxNS41MTc2SDEyLjY5ODJMMTIuOTMwNyAxMi43NzY0SDE2LjgyNzFDMTcuMzQ2NyAxMi43NzY0IDE3LjY3NDggMTIuNDU1MSAxNy42NzQ4IDExLjk1NjFDMTcuNjc0OCAxMS40NTcgMTcuMzM5OCAxMS4xMzU3IDE2LjgyNzEgMTEuMTM1N0gxMi41QzExLjcwMDIgMTEuMTM1NyAxMS4yNjk1IDExLjQ3MDcgMTEuMjAxMiAxMi4zMDQ3TDEwLjkxNDEgMTUuOTIwOUMxMC45MDcyIDE1Ljk1NTEgMTAuOTA3MiAxNS45NzU2IDEwLjkwNzIgMTYuMDAyOUMxMC44Nzk5IDE2LjU1NjYgMTEuMjAxMiAxNy4wMjgzIDExLjg3NzkgMTcuMDI4M0MxMi4zMzU5IDE3LjAyODMgMTIuNTQxIDE2LjkyNTggMTIuOTQ0MyAxNi41NDk4QzEzLjI5MyAxNi4yMTQ4IDEzLjc4NTIgMTUuOTYxOSAxNC4zNzMgMTUuOTYxOUMxNS40NDYzIDE1Ljk2MTkgMTYuMjExOSAxNi43MDAyIDE2LjIxMTkgMTcuNzM5M0MxNi4yMTE5IDE4LjgwNTcgMTUuNDM5NSAxOS41NzgxIDE0LjM2NjIgMTkuNTc4MUMxMy40Nzc1IDE5LjU3ODEgMTIuODk2NSAxOS4xNDc1IDEyLjU0MSAxOC40MzY1QzEyLjMwODYgMTguMDY3NCAxMi4wNDg4IDE3LjkyMzggMTEuNjM4NyAxNy45MjM4QzExLjEwNTUgMTcuOTIzOCAxMC43NzczIDE4LjIzODMgMTAuNzc3MyAxOC43NjQ2QzEwLjc3NzMgMTkuMDEwNyAxMC44Mzg5IDE5LjIyMjcgMTAuOTQxNCAxOS40NDE0QzExLjQzMzYgMjAuNDg3MyAxMi44MDA4IDIxLjIxODggMTQuMzY2MiAyMS4yMTg4WiIKICAgICAgICBmaWxsPSJ3aGl0ZSIgLz4KICAgIDxwYXRoCiAgICAgICAgZD0iTTE5LjkzMDcgMjEuMTQzNkMyMC4yODYxIDIxLjE0MzYgMjAuNDg0NCAyMS4wMjczIDIwLjc1NzggMjAuNjAzNUwyMi4xODY1IDE4LjQ1N0gyMi4yMjc1TDIzLjY4MzYgMjAuNjM3N0MyMy45MDkyIDIwLjk3OTUgMjQuMTAwNiAyMS4xNDM2IDI0LjQ5MDIgMjEuMTQzNkMyNS4wMzAzIDIxLjE0MzYgMjUuNDQwNCAyMC44MDE4IDI1LjQ0MDQgMjAuMjYxN0MyNS40NDA0IDIwLjA0MyAyNS4zNzIxIDE5Ljg1MTYgMjUuMjIxNyAxOS42NDY1TDIzLjUxOTUgMTcuMjk0OUwyNS4xOTQzIDE1LjA1OTZDMjUuMzg1NyAxNC44MTM1IDI1LjQ2MDkgMTQuNjE1MiAyNS40NjA5IDE0LjM2OTFDMjUuNDYwOSAxMy44NjMzIDI1LjA4NSAxMy41MjE1IDI0LjUyNDQgMTMuNTIxNUMyNC4xNTUzIDEzLjUyMTUgMjMuOTQzNCAxMy42ODU1IDIzLjY3NjggMTQuMTAyNUwyMi4zMzY5IDE2LjE0NjVIMjIuMjk1OUwyMC45Mjg3IDE0LjA4ODlDMjAuNjYyMSAxMy42NjUgMjAuNDUwMiAxMy41MjE1IDIwLjA0NjkgMTMuNTIxNUMxOS41IDEzLjUyMTUgMTkuMDg5OCAxMy44OTc1IDE5LjA4OTggMTQuMzk2NUMxOS4wODk4IDE0LjYyODkgMTkuMTU4MiAxNC44MjcxIDE5LjMwMTggMTUuMDE4NkwyMS4wMTA3IDE3LjM0OTZMMTkuMjk0OSAxOS42NDY1QzE5LjEwMzUgMTkuODk5NCAxOS4wMjgzIDIwLjA5MDggMTkuMDI4MyAyMC4zMzAxQzE5LjAyODMgMjAuODA4NiAxOS40MDQzIDIxLjE0MzYgMTkuOTMwNyAyMS4xNDM2WiIKICAgICAgICBmaWxsPSJ3aGl0ZSIgLz4KPC9zdmc+Cg==";var Hr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxyZWN0IG9wYWNpdHk9IjAuMzUiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjE2IiBmaWxsPSIjREFFMUU3IiAvPgogICAgPHBhdGgKICAgICAgICBkPSJNMTIuMjg4MSAyMS4xNDM2QzEyLjg5NjUgMjEuMTQzNiAxMy4zMDY2IDIwLjczMzQgMTMuMzA2NiAyMC4xMTEzVjEyLjE0MDZDMTMuMzA2NiAxMS40Mjk3IDEyLjg2OTEgMTAuOTg1NCAxMi4xMzc3IDEwLjk4NTRDMTEuNzEzOSAxMC45ODU0IDExLjM4NTcgMTEuMDQ2OSAxMC45MDcyIDExLjM3NUw4Ljk1MjE1IDEyLjcyODVDOC42MzA4NiAxMi45NTQxIDguNTA3ODEgMTMuMTg2NSA4LjUwNzgxIDEzLjUwMUM4LjUwNzgxIDEzLjkzODUgOC44MTU0MyAxNC4yMzkzIDkuMjMyNDIgMTQuMjM5M0M5LjQ0NDM0IDE0LjIzOTMgOS41ODc4OSAxNC4xOTE0IDkuNzc5MyAxNC4wNTQ3TDExLjIyMTcgMTMuMDQ5OEgxMS4yNjI3VjIwLjExMTNDMTEuMjYyNyAyMC43MzM0IDExLjY3OTcgMjEuMTQzNiAxMi4yODgxIDIxLjE0MzZaTTE2LjkwMjMgMjAuMzE2NEMxNy4yNDQxIDIwLjMxNjQgMTcuNDAxNCAyMC4xODY1IDE3LjY4MTYgMTkuOTEzMUwxOS4zNjMzIDE4LjI0NTFMMjEuMDM4MSAxOS45MDYyQzIxLjMxODQgMjAuMTg2NSAyMS40ODI0IDIwLjMxNjQgMjEuODE3NCAyMC4zMTY0QzIyLjI2MTcgMjAuMzE2NCAyMi42Mzc3IDE5Ljk3NDYgMjIuNjM3NyAxOS41MjM0QzIyLjYzNzcgMTkuMjE1OCAyMi40ODczIDE5LjAxNzYgMjIuMjU0OSAxOC43ODUyTDIwLjUyNTQgMTcuMDQ4OEwyMi4yNTQ5IDE1LjMwNTdDMjIuNDg3MyAxNS4wNzMyIDIyLjYzNzcgMTQuODc1IDIyLjYzNzcgMTQuNTY3NEMyMi42Mzc3IDE0LjExNjIgMjIuMjYxNyAxMy43NzQ0IDIxLjgxNzQgMTMuNzc0NEMyMS40ODI0IDEzLjc3NDQgMjEuMzE4NCAxMy45MDQzIDIxLjAzODEgMTQuMTg0NkwxOS4zNjMzIDE1Ljg0NTdMMTcuNjg4NSAxNC4xODQ2QzE3LjQwODIgMTMuOTA0MyAxNy4yNTEgMTMuNzc0NCAxNi45MDkyIDEzLjc3NDRDMTYuNDY0OCAxMy43NzQ0IDE2LjA4ODkgMTQuMTE2MiAxNi4wODg5IDE0LjU2NzRDMTYuMDg4OSAxNC44ODE4IDE2LjIzOTMgMTUuMDczMiAxNi40NzE3IDE1LjMwNTdMMTguMTk0MyAxNy4wNDg4TDE2LjQ3MTcgMTguNzg1MkMxNi4yMzI0IDE5LjAyNDQgMTYuMDg4OSAxOS4yMTU4IDE2LjA4ODkgMTkuNTIzNEMxNi4wODg5IDE5Ljk4MTQgMTYuNDU4IDIwLjMxNjQgMTYuOTAyMyAyMC4zMTY0WiIKICAgICAgICBmaWxsPSIjRjFGNUY4IiAvPgo8L3N2Zz4K";var Jr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxyZWN0IG9wYWNpdHk9IjAuNSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMTYiIGZpbGw9IndoaXRlIiAvPgogICAgPHBhdGgKICAgICAgICBkPSJNMTIuMjg4MSAyMS4xNDM2QzEyLjg5NjUgMjEuMTQzNiAxMy4zMDY2IDIwLjczMzQgMTMuMzA2NiAyMC4xMTEzVjEyLjE0MDZDMTMuMzA2NiAxMS40Mjk3IDEyLjg2OTEgMTAuOTg1NCAxMi4xMzc3IDEwLjk4NTRDMTEuNzEzOSAxMC45ODU0IDExLjM4NTcgMTEuMDQ2OSAxMC45MDcyIDExLjM3NUw4Ljk1MjE1IDEyLjcyODVDOC42MzA4NiAxMi45NTQxIDguNTA3ODEgMTMuMTg2NSA4LjUwNzgxIDEzLjUwMUM4LjUwNzgxIDEzLjkzODUgOC44MTU0MyAxNC4yMzkzIDkuMjMyNDIgMTQuMjM5M0M5LjQ0NDM0IDE0LjIzOTMgOS41ODc4OSAxNC4xOTE0IDkuNzc5MyAxNC4wNTQ3TDExLjIyMTcgMTMuMDQ5OEgxMS4yNjI3VjIwLjExMTNDMTEuMjYyNyAyMC43MzM0IDExLjY3OTcgMjEuMTQzNiAxMi4yODgxIDIxLjE0MzZaTTE2LjkwMjMgMjAuMzE2NEMxNy4yNDQxIDIwLjMxNjQgMTcuNDAxNCAyMC4xODY1IDE3LjY4MTYgMTkuOTEzMUwxOS4zNjMzIDE4LjI0NTFMMjEuMDM4MSAxOS45MDYyQzIxLjMxODQgMjAuMTg2NSAyMS40ODI0IDIwLjMxNjQgMjEuODE3NCAyMC4zMTY0QzIyLjI2MTcgMjAuMzE2NCAyMi42Mzc3IDE5Ljk3NDYgMjIuNjM3NyAxOS41MjM0QzIyLjYzNzcgMTkuMjE1OCAyMi40ODczIDE5LjAxNzYgMjIuMjU0OSAxOC43ODUyTDIwLjUyNTQgMTcuMDQ4OEwyMi4yNTQ5IDE1LjMwNTdDMjIuNDg3MyAxNS4wNzMyIDIyLjYzNzcgMTQuODc1IDIyLjYzNzcgMTQuNTY3NEMyMi42Mzc3IDE0LjExNjIgMjIuMjYxNyAxMy43NzQ0IDIxLjgxNzQgMTMuNzc0NEMyMS40ODI0IDEzLjc3NDQgMjEuMzE4NCAxMy45MDQzIDIxLjAzODEgMTQuMTg0NkwxOS4zNjMzIDE1Ljg0NTdMMTcuNjg4NSAxNC4xODQ2QzE3LjQwODIgMTMuOTA0MyAxNy4yNTEgMTMuNzc0NCAxNi45MDkyIDEzLjc3NDRDMTYuNDY0OCAxMy43NzQ0IDE2LjA4ODkgMTQuMTE2MiAxNi4wODg5IDE0LjU2NzRDMTYuMDg4OSAxNC44ODE4IDE2LjIzOTMgMTUuMDczMiAxNi40NzE3IDE1LjMwNTdMMTguMTk0MyAxNy4wNDg4TDE2LjQ3MTcgMTguNzg1MkMxNi4yMzI0IDE5LjAyNDQgMTYuMDg4OSAxOS4yMTU4IDE2LjA4ODkgMTkuNTIzNEMxNi4wODg5IDE5Ljk4MTQgMTYuNDU4IDIwLjMxNjQgMTYuOTAyMyAyMC4zMTY0WiIKICAgICAgICBmaWxsPSJ3aGl0ZSIgLz4KPC9zdmc+Cg==";var Gr="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+SWNvbnMgLyBXaXRoIFNoYWRvdyAvIENsaWNrZWQgLyBDYW1lcmEgUm90YXRlIEJhY2s8L3RpdGxlPgogICAgPGRlZnM+CiAgICAgICAgPGZpbHRlciB4PSItMTA2LjMlIiB5PSItMTA2LjIlIiB3aWR0aD0iMzEyLjUlIiBoZWlnaHQ9IjMxMi41JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTEiPgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI0IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjEwNTg4MjM1MyAgIDAgMCAwIDAgMC4xMjU0OTAxOTYgICAwIDAgMCAwIDAuMTQ5MDE5NjA4ICAwIDAgMCAwLjMyIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiIHJlc3VsdD0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgICAgIDxmZU1lcmdlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgIDwvZmVNZXJnZT4KICAgICAgICA8L2ZpbHRlcj4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJJY29ucy0vLVdpdGgtU2hhZG93LS8tQ2xpY2tlZC0vLUNhbWVyYS1Sb3RhdGUtQmFjayIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHJlY3QgaWQ9IkJnIiBmaWxsPSIjRkZGRkZGIiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjwvcmVjdD4KICAgICAgICA8ZyBpZD0iY2FtZXJhLXJvdGF0ZSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0xKSIgb3BhY2l0eT0iMC42Mzk5OTk5ODYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgMTIuMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC0xMi4wMDAwMDAsIC0xMi4wMDAwMDApIHRyYW5zbGF0ZSg0LjAwMDAwMCwgNC4wMDAwMDApIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiI+CiAgICAgICAgICAgIDxwb2x5bGluZSBpZD0iUGF0aCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjAwMDAwMCwgMTQuMDAwMDAwKSBzY2FsZSgxLCAtMSkgcm90YXRlKC0zNjAuMDAwMDAwKSB0cmFuc2xhdGUoLTQuMDAwMDAwLCAtMTQuMDAwMDAwKSAiIHBvaW50cz0iMyAxMiA1IDE0IDMgMTYiPjwvcG9seWxpbmU+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSI4IiBjeT0iOCIgcj0iMiI+PC9jaXJjbGU+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik04LDMgTDE0LDMgQzE1LjEwNDU2OTUsMyAxNiwzLjg5NTQzMDUgMTYsNSBMMTYsMTIgQzE2LDEzLjEwNDU2OTUgMTUuMTA0NTY5NSwxNCAxNCwxNCBMMTIsMTQgTDEyLDE0IiBpZD0iUGF0aC0yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgOC41MDAwMDApIHNjYWxlKDEsIC0xKSB0cmFuc2xhdGUoLTEyLjAwMDAwMCwgLTguNTAwMDAwKSAiPjwvcGF0aD4KICAgICAgICAgICAgPHBvbHlsaW5lIGlkPSJQYXRoIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgMy4wMDAwMDApIHJvdGF0ZSgtMTgwLjAwMDAwMCkgdHJhbnNsYXRlKC0xMi4wMDAwMDAsIC0zLjAwMDAwMCkgIiBwb2ludHM9IjExIDEgMTMgMyAxMSA1Ij48L3BvbHlsaW5lPgogICAgICAgICAgICA8cGF0aCBkPSJNNCwxNCBMMiwxNCBDMC44OTU0MzA1LDE0IDEuMzUyNzA3NWUtMTYsMTMuMTA0NTY5NSAwLDEyIEwwLDUgQy0xLjM1MjcwNzVlLTE2LDMuODk1NDMwNSAwLjg5NTQzMDUsMyAyLDMgTDIuNSwzIEMzLjMyODQyNzEyLDMgNCwyLjMyODQyNzEyIDQsMS41IEM0LDAuNjcxNTcyODc1IDQuNjcxNTcyODgsMS41MjE3OTU5NGUtMTYgNS41LDAgTDEwLDAgTDEwLDAiIGlkPSJQYXRoLTIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+";var Yr="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+SWNvbnMgLyBXaXRoIFNoYWRvdyAvIE5vcm1hbCAvIENhbWVyYSBSb3RhdGUgQmFjazwvdGl0bGU+CiAgICA8ZGVmcz4KICAgICAgICA8ZmlsdGVyIHg9Ii0xMDYuMyUiIHk9Ii0xMDYuMiUiIHdpZHRoPSIzMTIuNSUiIGhlaWdodD0iMzEyLjUlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMSI+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjAiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjQiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuMTA1ODgyMzUzICAgMCAwIDAgMCAwLjEyNTQ5MDE5NiAgIDAgMCAwIDAgMC4xNDkwMTk2MDggIDAgMCAwIDAuMzIgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSIgcmVzdWx0PSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICAgICAgPGZlTWVyZ2U+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49InNoYWRvd01hdHJpeE91dGVyMSI+PC9mZU1lcmdlTm9kZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyI+PC9mZU1lcmdlTm9kZT4KICAgICAgICAgICAgPC9mZU1lcmdlPgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgaWQ9Ikljb25zLS8tV2l0aC1TaGFkb3ctLy1Ob3JtYWwtLy1DYW1lcmEtUm90YXRlLUJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxyZWN0IGlkPSJCZyIgZmlsbD0iI0ZGRkZGRiIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48L3JlY3Q+CiAgICAgICAgPGcgaWQ9ImNhbWVyYS1yb3RhdGUiIGZpbHRlcj0idXJsKCNmaWx0ZXItMSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgMTIuMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC0xMi4wMDAwMDAsIC0xMi4wMDAwMDApIHRyYW5zbGF0ZSg0LjAwMDAwMCwgNC4wMDAwMDApIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiI+CiAgICAgICAgICAgIDxwb2x5bGluZSBpZD0iUGF0aCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjAwMDAwMCwgMTQuMDAwMDAwKSBzY2FsZSgxLCAtMSkgcm90YXRlKC0zNjAuMDAwMDAwKSB0cmFuc2xhdGUoLTQuMDAwMDAwLCAtMTQuMDAwMDAwKSAiIHBvaW50cz0iMyAxMiA1IDE0IDMgMTYiPjwvcG9seWxpbmU+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSI4IiBjeT0iOCIgcj0iMiI+PC9jaXJjbGU+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik04LDMgTDE0LDMgQzE1LjEwNDU2OTUsMyAxNiwzLjg5NTQzMDUgMTYsNSBMMTYsMTIgQzE2LDEzLjEwNDU2OTUgMTUuMTA0NTY5NSwxNCAxNCwxNCBMMTIsMTQgTDEyLDE0IiBpZD0iUGF0aC0yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgOC41MDAwMDApIHNjYWxlKDEsIC0xKSB0cmFuc2xhdGUoLTEyLjAwMDAwMCwgLTguNTAwMDAwKSAiPjwvcGF0aD4KICAgICAgICAgICAgPHBvbHlsaW5lIGlkPSJQYXRoIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgMy4wMDAwMDApIHJvdGF0ZSgtMTgwLjAwMDAwMCkgdHJhbnNsYXRlKC0xMi4wMDAwMDAsIC0zLjAwMDAwMCkgIiBwb2ludHM9IjExIDEgMTMgMyAxMSA1Ij48L3BvbHlsaW5lPgogICAgICAgICAgICA8cGF0aCBkPSJNNCwxNCBMMiwxNCBDMC44OTU0MzA1LDE0IDEuMzUyNzA3NWUtMTYsMTMuMTA0NTY5NSAwLDEyIEwwLDUgQy0xLjM1MjcwNzVlLTE2LDMuODk1NDMwNSAwLjg5NTQzMDUsMyAyLDMgTDIuNSwzIEMzLjMyODQyNzEyLDMgNCwyLjMyODQyNzEyIDQsMS41IEM0LDAuNjcxNTcyODc1IDQuNjcxNTcyODgsMS41MjE3OTU5NGUtMTYgNS41LDAgTDEwLDAgTDEwLDAiIGlkPSJQYXRoLTIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+";var qr="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiCiAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGRlZnM+CiAgICAgICAgPGZpbHRlciB4PSItMTIxLjUlIiB5PSItODguOSUiIHdpZHRoPSIzNDMlIiBoZWlnaHQ9IjI3Ny44JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0icHJlZml4X19hIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiLz4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iNCIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIi8+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjEwNTg4MjM1MyAwIDAgMCAwIDAuMTI1NDkwMTk2IDAgMCAwIDAgMC4xNDkwMTk2MDggMCAwIDAgMC4zMiAwIiBpbj0ic2hhZG93Qmx1ck91dGVyMSIgcmVzdWx0PSJzaGFkb3dNYXRyaXhPdXRlcjEiLz4KICAgICAgICAgICAgPGZlTWVyZ2U+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49InNoYWRvd01hdHJpeE91dGVyMSIvPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJTb3VyY2VHcmFwaGljIi8+CiAgICAgICAgICAgIDwvZmVNZXJnZT4KICAgICAgICA8L2ZpbHRlcj4KICAgIDwvZGVmcz4KICAgIDxnIGZpbHRlcj0idXJsKCNwcmVmaXhfX2EpIiBvcGFjaXR5PSIuNjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMuNzQyIDMpIiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgIDxwYXRoIGQ9Ik00LjIyMyAxNy45NDZhLjc1Ljc1IDAgMDEtLjQ1Ni0uODNMNS4xMDUgOS43NWgtMy42YS43NS43NSAwIDAxLS43MjctLjk0NmwxLjE4My00LjMzNUwuMjIgMi43MjhhLjc1Ljc1IDAgMTExLjA2LTEuMDYybDExLjY2OCAxMS42NjhhLjc1Ljc1IDAgMDEtMS4wNiAxLjA2TDkuMTQgMTEuNjQ2bC00LjAxMyA2LjAyYS43NS43NSAwIDAxLS45MDQuMjh6TTEwLjgzOCA5LjFMMi44NzIgMS4xMzVsLjE1OS0uNThBLjc1Ljc1IDAgMDEzLjc1NSAwaDUuMjVhLjc1Ljc1IDAgMDEuNzIyLjk1OUw4LjQ5OSA1LjI1aDMuNTA1YS43NS43NSAwIDAxLjYyNiAxLjE2N2wtMS43OSAyLjY4NGgtLjAwMnoiLz4KICAgIDwvZz4KPC9zdmc+";var $r="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiCiAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGRlZnM+CiAgICAgICAgPGZpbHRlciB4PSItMTE0LjMlIiB5PSItODguOSUiIHdpZHRoPSIzMjguNiUiIGhlaWdodD0iMjc3LjglIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJwcmVmaXhfX2EiPgogICAgICAgICAgICA8ZmVPZmZzZXQgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSIvPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI0IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiLz4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuMTA1ODgyMzUzIDAgMCAwIDAgMC4xMjU0OTAxOTYgMCAwIDAgMCAwLjE0OTAxOTYwOCAwIDAgMCAwLjMyIDAiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSIvPgogICAgICAgICAgICA8ZmVNZXJnZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0ic2hhZG93TWF0cml4T3V0ZXIxIi8+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiLz4KICAgICAgICAgICAgPC9mZU1lcmdlPgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgZmlsdGVyPSJ1cmwoI3ByZWZpeF9fYSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMgMykiIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZD0iTTQuOTY2IDE3Ljk0NmEuNzUuNzUgMCAwMS0uNDU3LS44M0w1Ljg0OCA5Ljc1aC0zLjZhLjc1Ljc1IDAgMDEtLjcyNy0uOTQ2bDEuMTgyLTQuMzM1LTEuNzQtMS43NGEuNzUuNzUgMCAxMTEuMDYtMS4wNjJMMTMuNjkgMTMuMzM0YS43NS43NSAwIDAxLTEuMDYxIDEuMDZsLTIuNzQ4LTIuNzQ4LTQuMDEyIDYuMDJhLjc1Ljc1IDAgMDEtLjkwNC4yOHpNMTEuNTggOS4xTDMuNjE0IDEuMTM1bC4xNi0uNThBLjc1Ljc1IDAgMDE0LjQ5NiAwaDUuMjVhLjc1Ljc1IDAgMDEuNzIyLjk1OUw5LjI0MiA1LjI1aDMuNTA0YS43NS43NSAwIDAxLjYyNyAxLjE2N2wtMS43OSAyLjY4NGgtLjAwMnoiLz4KICAgIDwvZz4KPC9zdmc+";var Qr="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiCiAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGRlZnM+CiAgICAgICAgPGZpbHRlciB4PSItMTMzLjMlIiB5PSItODguOSUiIHdpZHRoPSIzNjYuNiUiIGhlaWdodD0iMjc3LjglIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJwcmVmaXhfX2EiPgogICAgICAgICAgICA8ZmVPZmZzZXQgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSIvPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI0IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiLz4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuMTA1ODgyMzUzIDAgMCAwIDAgMC4xMjU0OTAxOTYgMCAwIDAgMCAwLjE0OTAxOTYwOCAwIDAgMCAwLjMyIDAiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSIvPgogICAgICAgICAgICA8ZmVNZXJnZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0ic2hhZG93TWF0cml4T3V0ZXIxIi8+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiLz4KICAgICAgICAgICAgPC9mZU1lcmdlPgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgZmlsdGVyPSJ1cmwoI3ByZWZpeF9fYSkiIG9wYWNpdHk9Ii42NCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNC41IDMpIiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgIDxwYXRoIGQ9Ik0xMS4yNSA1LjI1SDcuNzQ1TDguOTcyLjk1NkEuNzUuNzUgMCAwMDguMjUgMEgzYS43NS43NSAwIDAwLS43MjQuNTUzbC0yLjI1IDguMjVhLjc1Ljc1IDAgMDAuNzI0Ljk0N2gzLjZsLTEuMzM4IDcuMzY2YS43NS43NSAwIDAwMS4zNjMuNTVsNy41LTExLjI1YS43NS43NSAwIDAwLS42MjUtMS4xNjZ6Ii8+CiAgICA8L2c+Cjwvc3ZnPg==";var Zr="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiCiAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGRlZnM+CiAgICAgICAgPGZpbHRlciB4PSItMTMzLjMlIiB5PSItODguOSUiIHdpZHRoPSIzNjYuNiUiIGhlaWdodD0iMjc3LjglIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJwcmVmaXhfX2EiPgogICAgICAgICAgICA8ZmVPZmZzZXQgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSIvPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI0IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiLz4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuMTA1ODgyMzUzIDAgMCAwIDAgMC4xMjU0OTAxOTYgMCAwIDAgMCAwLjE0OTAxOTYwOCAwIDAgMCAwLjMyIDAiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSIvPgogICAgICAgICAgICA8ZmVNZXJnZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0ic2hhZG93TWF0cml4T3V0ZXIxIi8+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiLz4KICAgICAgICAgICAgPC9mZU1lcmdlPgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgZmlsdGVyPSJ1cmwoI3ByZWZpeF9fYSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuNSAzKSIgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICA8cGF0aCBkPSJNMTEuMjUgNS4yNUg3Ljc0NUw4Ljk3Mi45NTZBLjc1Ljc1IDAgMDA4LjI1IDBIM2EuNzUuNzUgMCAwMC0uNzI0LjU1M2wtMi4yNSA4LjI1YS43NS43NSAwIDAwLjcyNC45NDdoMy42bC0xLjMzOCA3LjM2NmEuNzUuNzUgMCAwMDEuMzYzLjU1bDcuNS0xMS4yNWEuNzUuNzUgMCAwMC0uNjI1LTEuMTY2eiIvPgogICAgPC9nPgo8L3N2Zz4=";var ct=class{constructor(){l(this,"type")}toJSONObject(){return{type:this.type}}},Ni=class extends ct{constructor(){super(...arguments);l(this,"type","torch");l(this,"view",null);l(this,"icon",{on:{idle:Zr,pressed:Qr},off:{idle:$r,pressed:qr}})}get torchOffImage(){return this.icon.off.idle}set torchOffImage(t){var r;this.icon.off.idle=t,(r=this.view)==null||r.controlsUpdated()}get torchOffPressedImage(){return this.icon.off.pressed}set torchOffPressedImage(t){var r;this.icon.off.pressed=t,(r=this.view)==null||r.controlsUpdated()}get torchOnImage(){return this.icon.on.idle}set torchOnImage(t){var r;this.icon.on.idle=t,(r=this.view)==null||r.controlsUpdated()}get torchOnPressedImage(){return this.icon.on.pressed}set torchOnPressedImage(t){var r;this.icon.on.pressed=t,(r=this.view)==null||r.controlsUpdated()}};l(Ni,"CLASS_NAME",y.TORCH_SWITCH_CONTROL_CLASS_NAME);var Ti=class extends ct{constructor(){super(...arguments);l(this,"type","camera");l(this,"view",null);l(this,"icon",{idle:Yr,pressed:Gr})}get idleImage(){return this.icon.idle}set idleImage(t){var r;this.icon.idle=t,(r=this.view)==null||r.controlsUpdated()}get pressedImage(){return this.icon.pressed}set pressedImage(t){var r;this.icon.pressed=t,(r=this.view)==null||r.controlsUpdated()}};l(Ti,"CLASS_NAME",y.CAMERA_SWITCH_CONTROL_CLASS_NAME);var Ri=class extends ct{constructor(){super(...arguments);l(this,"type","camera-fov");l(this,"view",null);l(this,"icon",{wide:{idle:Jr,pressed:Hr},ultraWide:{idle:Br,pressed:Vr}})}get cameraFOVUltraWideImage(){return this.icon.ultraWide.idle}set cameraFOVUltraWideImage(t){var r;this.icon.ultraWide.idle=t,(r=this.view)==null||r.controlsUpdated()}get cameraFOVUltraWidePressedImage(){return this.icon.ultraWide.pressed}set cameraFOVUltraWidePressedImage(t){var r;this.icon.ultraWide.pressed=t,(r=this.view)==null||r.controlsUpdated()}get cameraFOVWideImage(){return this.icon.wide.idle}set cameraFOVWideImage(t){var r;this.icon.wide.idle=t,(r=this.view)==null||r.controlsUpdated()}get cameraFOVWidePressedImage(){return this.icon.wide.pressed}set cameraFOVWidePressedImage(t){var r;this.icon.wide.pressed=t,(r=this.view)==null||r.controlsUpdated()}};l(Ri,"CLASS_NAME",y.CAMERA_FOV_SWITCH_CONTROL_CLASS_NAME);var ki=class{constructor(){l(this,"type","none")}toJSONObject(){return{type:this.type}}},yc=new ki;var Kr=class{constructor(e){l(this,"width");l(this,"enabledColor");l(this,"disabledColor");l(this,"type","laserline");l(this,"_style");let t=e!=null?e:R.LaserlineViewfinder.defaultStyle;this._style=R.LaserlineViewfinder.styles[t].style,this.width=R.LaserlineViewfinder.styles[t].width,this.enabledColor=R.LaserlineViewfinder.styles[t].enabledColor,this.disabledColor=R.LaserlineViewfinder.styles[t].disabledColor}get style(){return this._style}toJSONObject(){return{type:this.type,style:this.style,width:this.width.toJSONObject(),disabledColor:this.disabledColor.toJSON(),enabledColor:this.enabledColor.toJSON()}}};var Xr=class{constructor(e,t){l(this,"color");l(this,"_lineStyle");l(this,"_style");l(this,"type","rectangular");l(this,"_animation");l(this,"_dimming");l(this,"_sizeWithUnitAndAspect");let r=e!=null?e:R.RectangularViewfinder.defaultStyle;this._style=R.RectangularViewfinder.styles[r].style,this._lineStyle=R.RectangularViewfinder.styles[r].lineStyle,this._dimming=R.RectangularViewfinder.styles[r].dimming,this._animation=R.RectangularViewfinder.styles[r].animation,this.color=R.RectangularViewfinder.styles[r].color,this._sizeWithUnitAndAspect=R.RectangularViewfinder.styles[r].size,t!==void 0&&(this._lineStyle=t)}get animation(){return this._animation}set animation(e){this._animation=e}get dimming(){return this._dimming}set dimming(e){this._dimming=e}get lineStyle(){return this._lineStyle}get sizeWithUnitAndAspect(){return this._sizeWithUnitAndAspect}get style(){return this._style}setHeightAndAspectRatio(e,t){this._sizeWithUnitAndAspect=X.sizeWithHeightAndAspectRatio(e,t)}setShorterDimensionAndAspectRatio(e,t){this._sizeWithUnitAndAspect=X.sizeWithShorterDimensionAndAspectRatio(new U(e,"fraction"),t)}setSize(e){this._sizeWithUnitAndAspect=X.sizeWithWidthAndHeight(e)}setWidthAndAspectRatio(e,t){this._sizeWithUnitAndAspect=X.sizeWithWidthAndAspectRatio(e,t)}toJSONObject(){return{type:this.type,color:this.color.toJSON(),style:this.style,lineStyle:this.lineStyle,dimming:this.dimming,animation:this.animation?this.animation.toJSONObject():null,size:this.sizeWithUnitAndAspect.toJSONObject()}}};var ea=class{constructor(){l(this,"frameColor",R.AimerViewfinder.frameColor);l(this,"dotColor",R.AimerViewfinder.dotColor);l(this,"type","aimer")}toJSONObject(){return{type:this.type,frameColor:this.frameColor.toJSON(),dotColor:this.dotColor.toJSON()}}};var Qt=class{constructor(e=R.Brush.fillColor,t=R.Brush.strokeColor,r=R.Brush.strokeWidth){l(this,"fill");l(this,"stroke");this.fill={color:e},this.stroke={color:t,width:r}}static get transparent(){let e=V.fromRGBA(255,255,255,0);return new Qt(e,e,0)}get fillColor(){return this.fill.color}get strokeColor(){return this.stroke.color}get strokeWidth(){return this.stroke.width}static areEquals(e,t){return e==null||t==null?!1:V.areEquals(e.fill.color,t.fill.color)&&V.areEquals(e.stroke.color,t.stroke.color)&&e.stroke.width===t.stroke.width}toJSONObject(){return{fill:{color:this.fillColor.toJSON()},stroke:{width:this.strokeWidth,color:this.strokeColor.toJSON()}}}};var ut=ee;async function an(){var s;ee.configurePhase="unconfigured",(s=ut.mainDataCaptureLoader)!=null&&s.terminateDataCaptureWorker&&await ut.mainDataCaptureLoader.terminateDataCaptureWorker(!0)}function Pi({percentage:s}){for(let e of St.values())e.setProgressBarPercentage(s)}function nn(){var n,c;function s(m){return["auto","off","on"].includes(m)}let e=new URLSearchParams(window.location.search),[t="auto",r="auto"]=[(n=e.get("pthreads"))==null?void 0:n.toLowerCase(),(c=e.get("simd"))==null?void 0:c.toLowerCase()];return{overrideThreadsSupport:s(t)?t:"auto",overrideSimdSupport:s(r)?r:"auto"}}function on(s){if(s.licenseKey==null||s.licenseKey.trim().length<64)throw new J({name:"NoLicenseKeyError",message:"No license key provided"});if(typeof s.libraryLocation!="string")throw new J({name:"MisconfigurationError",message:'Option "libraryLocation" was not provided'});if(!Array.isArray(s.moduleLoaders)||s.moduleLoaders.length===0)throw new J({name:"MisconfigurationError",message:'Option "moduleLoaders" is missing or empty'})}async function sn(s,e){let t=new Map,r=new Map;for(let n of s)r.set(n.moduleName,n.load(e));await Promise.all(r.values());for(let[n,c]of r)t.set(n,await c);return t}async function $c(s){var r;if(ut.configurePhase!=="unconfigured"&&ut.configurePromise!=null)return ut.configurePromise;on(s);let e={...nn(),...s,libraryLocation:qi(s.libraryLocation),logLevel:(r=s.logLevel)!=null?r:h.Level.Debug,loadProgressNotifier:he.notify.bind(he)};ee.userLicenseKey=e.licenseKey,h.setLevel(e.logLevel);async function t(){ee.configurePhase="started",he.subscribe(Pi);let n=W.checkBrowserCompatibility();if(!n.fullSupport&&!n.scannerSupport)throw new Ae(n);W.isSupportedIOSVersion()||h.log(h.Level.Warn,`Warning: Minimum supported iOS version is 14.6.
Please check the minimum system requirements here:
https://docs.scandit.com/data-capture-sdk/web/requirements.html`),ee.dataCaptureLoaders=await sn(e.moduleLoaders,e),ee.mainDataCaptureLoader=[...ee.dataCaptureLoaders.entries()][0][1],ee.configurePhase="done",he.unsubscribe(Pi)}return ee.configurePromise=t().catch(n=>{throw an(),he.unsubscribe(Pi),n}),ee.configurePromise}function Qc(s){ee.mainDataCaptureLoader=s}export{ea as AimerViewfinder,dr as Anchor,W as BrowserHelper,Qt as Brush,fe as Camera,Ot as CameraAccess,Ri as CameraFOVSwitchControl,bi as CameraPosition,ue as CameraSettings,Ti as CameraSwitchControl,V as Color,ge as ContextStatus,Ci as DataCaptureContext,Nt as DataCaptureContextSettings,J as DataCaptureError,ar as DataCaptureLoader,Lt as DataCaptureVersion,Jt as DataCaptureView,xa as Direction,vt as Feature,qt as Feedback,Na as FocusGestureStrategy,Ze as FrameSourceState,Kr as LaserlineViewfinder,Ia as LaserlineViewfinderStyle,h as Logger,_a as LogoStyle,ye as MarginsWithUnit,pi as MeasureUnit,yc as NoViewfinder,U as NumberWithUnit,lr as Orientation,nr as OverrideState,ne as Point,Ce as PointWithUnit,mi as PrivateMirrorAxis,Hd as PrivateNoneLocationSelection,We as Quadrilateral,jr as RadiusLocationSelection,or as Rect,sr as RectWithUnit,Be as RectangularLocationSelection,Xr as RectangularViewfinder,je as RectangularViewfinderAnimation,Da as RectangularViewfinderLineStyle,Ea as RectangularViewfinderStyle,$t as SingleImageUploader,He as SingleImageUploaderSettings,Ue as Size,Qe as SizeWithAspect,we as SizeWithUnit,X as SizeWithUnitAndAspect,La as SizingMode,Yt as Sound,It as SwipeToZoom,Dt as TapToFocus,vi as TorchState,Ni as TorchSwitchControl,dt as Vibration,hr as VideoResolution,ze as WorkerMain,qn as assert,_t as assertUnreachable,$n as assertUnreachableThrowException,$c as configure,jd as convertToPublicFrameData,Me as isCameraFrameSource,Et as isObject,he as loadingStatus,Zn as match,an as resetConfigure,Qc as setMainDataCaptureLoader,ir as unknownErrorToString};
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
//# sourceMappingURL=index.js.map
